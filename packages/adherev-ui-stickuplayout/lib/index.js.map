{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=2)}([function(e,t){e.exports=require(\"classnames\")},function(e,t){e.exports=require(\"@baifendian/adherev-util\")},function(e,t,n){\"use strict\";n.r(t);var i=n(0),r=n.n(i),l=\"adherev-ui-stickuplayout\",s={name:\"adv-stickuplayout\",props:{className:{type:String,default:\"\"},fixedClassName:{type:String,default:\"\"},fixedStyle:{type:String,default:\"\"},innerClassName:{type:String,default:\"\"},innerStyle:{type:String,default:\"\"}},data:function(){return{}},mounted:function(){this.initial()},updated:function(){this.initial()},beforeDestroy:function(){var e=this.$data.$maskEl;e&&e.parentElement.removeChild(e)},methods:{initial:function(){var e=this.$refs,t=this.$data;t.$key=!1,t.$index=[],t.$headerEls=e.el.querySelectorAll(\".\"+l+\"-item-header\"),this.createIndex(),this.position(),e.innerEl.removeEventListener(\"scroll\",this.onScroll),e.innerEl.addEventListener(\"scroll\",this.onScroll)},createIndex:function(){var e=this.$refs,t=this.$data,n=0;t.$index=[],t.$preScrollObj=null;for(var i=0,r=t.$headerEls.length;i<r;i++){var l=t.$headerEls[i],s=n,a=void 0;if(a=i!==r-1?t.$headerEls[i+1].offsetTop-l.offsetHeight:e.innerEl.scrollHeight,t.$index.push({start:s,end:a,dom:l,index:i}),(n=a)>e.innerEl.scrollHeight-e.innerEl.offsetHeight)break}},position:function(){for(var e,t,n=this.$refs,i=this.$data,r=n.innerEl.scrollTop,l=0,s=i.$index.length-1;l<=s&&l<=i.$index.length-1&&s<=i.$index.length-1;){e=s+l>>1;var a=i.$index[e];if(r>=a.start&&r<a.end){t=a;break}r<a.start?s=e-1:l=e+1}if(t){if(i.$preScrollObj&&i.$preScrollObj.index===t.index)return!1;i.$preScrollObj=t,n.fixedEl.innerHTML=t.dom.outerHTML,this.$emit(\"change\",t.index)}},onScroll:function(){this.position()},scrollAnimationTo:function(e,t){void 0===e&&(e=0),void 0===t&&(t=300);var n=this.$refs,i=this.$data;if(!i.$key){this.initMask(),i.$key=!0,i.$maskEl.style.display=\"block\";var r=n.innerEl.scrollTop,l=r,s=n.innerEl.scrollHeight/(t/(screen.updateInterval||16.7)+(t%(screen.updateInterval||16.7)!=0?1:0));window.requestAnimationFrame((function t(){function a(){i.$key=!1,i.$maskEl.style.display=\"none\"}r<e?l+s>e?l=e:l+=s:l-s<e?l=e:l-=s,n.innerEl.scrollTop=l,r<e?l>=e?a():window.requestAnimationFrame(t):l<=e?a():window.requestAnimationFrame(t)}))}},scrollTo:function(e,t){void 0===t&&(t=300);var n=this.$refs,i=this.$data.$headerEls,r=e.start+i[e.index].offsetHeight;0===t?n.innerEl.scrollTop=r:this.scrollAnimationTo(r,t)},initMask:function(){this.$data.$maskEl||(this.$data.$maskEl=document.createElement(\"div\"),this.$data.$maskEl.className=l+\"-mask\",window.document.body.appendChild(this.$data.$maskEl))},refresh:function(){this.initial()},scrollToByIndex:function(e,t){void 0===t&&(t=300);for(var n,i=this.$data.$index,r=0;r<i.length;r++)if(i[r].index===e){n=i[r];break}if(!n)return!1;this.scrollTo(n,t)},scrollToByHeaderEl:function(e,t){void 0===t&&(t=300);for(var n,i=this.$data.$index,r=0;r<i.length;r++)if(i[r].dom===e){n=i[r],r;break}if(!n)return!1;this.scrollTo(n,t)}},render:function(e){var t=this,n=t.$slots,i=t.className,s=t.fixedClassName,a=t.fixedStyle,o=t.innerClassName,d=t.innerStyle;return e(\"div\",{class:r()(l,i.split(\" \")),ref:\"el\"},[e(\"div\",{class:r()(l+\"-fixed\",s.split(\" \")),style:a,ref:\"fixedEl\"}),e(\"div\",{class:r()(l+\"-inner\",o.split(\" \")),style:d,ref:\"innerEl\"},[n.default])])}},a=\"adherev-ui-stickuplayout-item\",o={name:\"adv-stickuplayout-item\",props:{className:{type:String,default:\"\"}},render:function(e){var t=this.$slots,n=this.className;return e(\"div\",{class:r()(a,n.split(\" \"))},[e(\"div\",{class:a+\"-header\"},[t.title]),e(\"div\",{class:a+\"-content\"},[t.default])])}},d=n(1),u=n.n(d).a._util,f=u.withInstall,c=u.withVue;f(s),f(o),s.isUse=function(){return!0},s.use=function(e){e.use(s),e.use(o),c(e,\"StickupLayout\",s)},s.Item=o;t.default=s}]).default;"],"names":["module","exports","e","t","n","i","r","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","require","name","props","className","type","String","fixedClassName","fixedStyle","innerClassName","innerStyle","data","mounted","this","initial","updated","beforeDestroy","$data","$maskEl","parentElement","removeChild","methods","$refs","$key","$index","$headerEls","el","querySelectorAll","createIndex","position","innerEl","removeEventListener","onScroll","addEventListener","$preScrollObj","length","a","offsetTop","offsetHeight","scrollHeight","push","start","end","dom","index","scrollTop","fixedEl","innerHTML","outerHTML","$emit","scrollAnimationTo","initMask","style","display","screen","updateInterval","window","requestAnimationFrame","scrollTo","document","createElement","body","appendChild","refresh","scrollToByIndex","scrollToByHeaderEl","render","$slots","class","split","ref","title","u","_util","f","withInstall","withVue","isUse","use","Item"],"mappings":"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"}