{"version":3,"file":"configprovider.js","sources":["configprovider.js"],"sourcesContent":["import Intl from '@baifendian/adherev-util-intl';\nimport Resource from '@baifendian/adherev-util-resource';\nvar ConfigProvider = {\n  name: 'adv-configprovider',\n  props: {\n    intl: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  emits: ['intlInit'],\n  data: function data() {\n    return {\n      isIntlInit: false\n    };\n  },\n  provide: function provide() {\n    return {};\n  },\n  watch: {\n    'intl.lang': function intlLang() {\n      this.$init();\n    },\n    'intl.locales': function intlLocales() {\n      this.$init();\n    },\n    'intl.prefix': function intlPrefix() {\n      this.$init();\n    }\n  },\n  methods: {\n    $init: function $init() {\n      var _this = this;\n\n      Intl.init({\n        prefix: this.intl.prefix || 'local',\n        currentLocale: this.intl.lang,\n        locales: this.intl.locales || {}\n      }, Intl.isInit()).then(function () {\n        Resource.Dict.value.LocalsMoment.value[_this.intl.lang]();\n\n        if (!_this.isIntlInit) {\n          _this.isIntlInit = true;\n\n          _this.$emit('intlInit');\n        } else {\n          _this.$forceUpdate();\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.$init();\n  },\n  render: function render(h) {\n    var _a;\n\n    return this.isIntlInit ? (_a = this === null || this === void 0 ? void 0 : this.$slots) === null || _a === void 0 ? void 0 : _a.default : null;\n  }\n};\nexport default ConfigProvider;"],"names":["Intl","Resource","ConfigProvider","name","props","intl","type","Object","default","emits","data","isIntlInit","provide","watch","intl.lang","this","$init","intl.locales","intl.prefix","methods","_this","init","prefix","currentLocale","lang","locales","isInit","then","Dict","value","LocalsMoment","$forceUpdate","$emit","mounted","render","h","_a","$slots"],"mappings":"OAAOA,gDACAC,iDACP,IAAIC,eAAiB,CACnBC,KAAM,qBACNC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,WACP,MAAO,MAIbC,MAAO,CAAC,YACRC,KAAM,WACJ,MAAO,CACLC,YAAY,IAGhBC,QAAS,WACP,MAAO,IAETC,MAAO,CACLC,YAAa,WACXC,KAAKC,SAEPC,eAAgB,WACdF,KAAKC,SAEPE,cAAe,WACbH,KAAKC,UAGTG,QAAS,CACPH,MAAO,WACL,IAAII,EAAQL,KAEZf,KAAKqB,KAAK,CACRC,OAAQP,KAAKV,KAAKiB,QAAU,QAC5BC,cAAeR,KAAKV,KAAKmB,KACzBC,QAASV,KAAKV,KAAKoB,SAAW,IAC7BzB,KAAK0B,UAAUC,KAAK,WACrB1B,SAAS2B,KAAKC,MAAMC,aAAaD,MAAMT,EAAMf,KAAKmB,QAE7CJ,EAAMT,WAKTS,EAAMW,gBAJNX,EAAMT,YAAa,EAEnBS,EAAMY,MAAM,iBAOpBC,QAAS,WACPlB,KAAKC,SAEPkB,OAAQ,SAAgBC,GACtB,IAAIC,EAEJ,OAAOrB,KAAKJ,WAAgF,QAAlEyB,EAAKrB,MAAAA,UAAmC,EAASA,KAAKsB,cAA2B,IAAPD,OAAgB,EAASA,EAAG5B,QAAU,sBAG/HN"}