"use strict";var _vue=require("vue");function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,_vue.isVNode)(e)}require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.find.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.array.concat.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),iscroll_probe_1=tslib_1.__importDefault(require("iscroll/build/iscroll-probe")),vue_1=require("vue"),vue_types_1=require("vue-types"),adherev_ui_stickuplayout_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-stickuplayout")),adherev_util_1=tslib_1.__importDefault(require("@baifendian/adherev-util")),selectorPrefix="adherev-ui-cascadecompared",defaultCellWidth=120;function initTouch(){document.addEventListener("touchmove",function(e){e.preventDefault()},!!function(){var e=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(e){}return e}()&&{capture:!1,passive:!1})}initTouch();var props={className:(0,vue_types_1.string)().def(""),indicatorClassName:(0,vue_types_1.string)().def(""),indicatorStyle:(0,vue_types_1.object)().def({}),indicatorFixedWrapClassName:(0,vue_types_1.string)().def(""),indicatorFixedWrapStyle:(0,vue_types_1.object)().def({}),indicatorAutoWrapClassName:(0,vue_types_1.string)().def(""),indicatorAutoWrapStyle:(0,vue_types_1.object)().def({}),masterClassName:(0,vue_types_1.string)().def(""),masterStyle:(0,vue_types_1.object)().def({}),masterInnerClassName:(0,vue_types_1.string)().def(""),masterInnerStyle:(0,vue_types_1.object)().def({}),masterStickFixedClassName:(0,vue_types_1.string)().def(""),masterStickFixedStyle:(0,vue_types_1.object)().def({}),masterStickInnerClassName:(0,vue_types_1.string)().def(""),masterStickInnerStyle:(0,vue_types_1.object)().def({}),indicator:(0,vue_types_1.object)().def(function(){return{columns:[],dataSource:[]}}),master:(0,vue_types_1.array)().def(function(){return[]}),defaultCellWidth:(0,vue_types_1.oneOfType)([(0,vue_types_1.number)(),(0,vue_types_1.string)()]).def(defaultCellWidth)};exports.default=(0,vue_1.defineComponent)({name:"adv-cascadecompared",props:props,slots:["masterGroupTitle","cell"],emits:["stickChange"],setup:function(r,e){function t(){for(var r=l.value.querySelectorAll(".".concat(selectorPrefix,"-autoWrap")),e=0;e<i.length;e++)i[e].destroy();for(i=[],e=0;e<r.length;e++)!function(e){var t=new iscroll_probe_1.default(r[e],{probeType:3,eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1});i.push(t),t.on("scroll",function(){for(var e=0;e<i.length;e++)i[e]!==t&&i[e].scrollTo(t.x,t.y)})}(e)}function c(e){var t=e.find(function(e){return e.isFixed});return t||(e.length?e[0]:null)}function d(e,t,r,a,u){return n.cell?n.cell({config:e,dataSource:t,groupIndex:r,rowIndex:a,columnIndex:u}):t[e.dataIndex]}function a(){var e;return(0,_vue.createVNode)("div",{class:x.value,style:r.masterStyle},[(0,_vue.createVNode)(adherev_ui_stickuplayout_1.default,{ref:o,class:N.value,style:r.masterInnerStyle,fixedClassName:S.value,fixedStyle:r.masterStickFixedStyle,innerClassName:h.value,innerStyle:r.masterStickInnerStyle,onChange:function(){return u("stickChange")}},_isSlot(e=r.master.map(function(e,t){return a=t,t=(r=e).className,e=void 0===(e=r.style)?"":e,(0,_vue.createVNode)(adherev_ui_stickuplayout_1.default.Item,{key:a,class:(0,classnames_1.default)((void 0===t?"":t)||""),style:e},{default:function(){return g(r,a)},title:function(){return b(r,a)}});var r,a}))?e:{default:function(){return[e]}})])}var u=e.emit,s=e.expose,n=e.slots,l=(0,vue_1.ref)(null),o=(0,vue_1.ref)(null),i=[],v=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-indicator"),r.indicatorClassName||"")}),f=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-fixedWrap"),e||"")}}),_=(0,vue_1.computed)(function(){return function(e,t){return tslib_1.__assign(tslib_1.__assign({},e),{width:"".concat(t||defaultCellWidth,"px")})}}),m=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-cell"),(null==e?void 0:e.className)||"")}}),p=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-autoWrap"),e||"")}}),y=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-autoInner"),e||"")}}),x=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-master"),r.masterClassName||"")}),N=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-master-inner"),r.masterInnerClassName||"")}),S=(0,vue_1.computed)(function(){return(0,classnames_1.default)(r.masterStickFixedClassName||"")}),h=(0,vue_1.computed)(function(){return(0,classnames_1.default)(r.masterStickInnerClassName||"")}),b=function(e,t){var r,a=e.title;return(!a||null==(r=null===adherev_util_1.default||void 0===adherev_util_1.default?void 0:adherev_util_1.default.isString)||!r.call(adherev_util_1.default,a))&&n.masterGroupTitle?n.masterGroupTitle({config:e,groupIndex:t}):a},g=function(e,u){var t=e.dataSource,t=void 0===t?[]:t,r=e.columns,s=void 0===r?[]:r,r=e.fixedWrapClassName,r=void 0===r?"":r,a=e.fixedWrapStyle,a=void 0===a?{}:a,n=e.autoWrapClassName,n=void 0===n?"":n,l=e.autoWrapStyle,l=void 0===l?{}:l,o=e.autoInnerClassName,o=void 0===o?"":o,e=e.autoInnerStyle,e=void 0===e?{}:e,i=c(s);return(0,_vue.createVNode)(_vue.Fragment,null,[(0,_vue.createVNode)("div",{class:f.value(r),style:_.value(a,i?null==i?void 0:i.width:0)},[t.map(function(e,t){return(0,_vue.createVNode)("div",{key:t,class:"".concat(selectorPrefix,"-item")},[(0,_vue.createVNode)("div",{class:m.value(i),style:null==i?void 0:i.style},[d(i,e,u,t,-1)])])})]),(0,_vue.createVNode)("div",{class:p.value(n),style:l},[(0,_vue.createVNode)("div",{class:y.value(o),style:e},[t.map(function(r,a){return(0,_vue.createVNode)("div",{key:a,class:"".concat(selectorPrefix,"-item")},[s.filter(function(e){return e!==i}).map(function(e,t){return(0,_vue.createVNode)("div",{key:e.dataIndex,class:m.value(e),style:_.value(e.style,null==e?void 0:e.width)},[d(e,r,u,a,t)])})])})])])])};return(0,vue_1.onMounted)(function(){o.value.refresh(),t()}),(0,vue_1.onUpdated)(function(){o.value.refresh(),t()}),s({scrollToByIndex:function(e,t){o.value.scrollToByIndex(e,t=void 0===t?300:t)},scrollToByColumn:function(e){var t=i[0],e=t.wrapper.querySelector(".".concat(selectorPrefix,"-item .").concat(selectorPrefix,"-cell:nth-of-type(").concat(e,")"));t.scrollToElement(e)},scrollToByHeaderEl:function(e,t){o.value.scrollToByHeaderEl(e,t=void 0===t?300:t)}}),function(){return(0,_vue.createVNode)("div",{class:selectorPrefix,ref:l},[(t=c(r.indicator.columns),(0,_vue.createVNode)("div",{class:v.value,style:r.indicatorStyle},[(0,_vue.createVNode)("div",{class:f.value(r.indicatorFixedWrapClassName),style:_.value(r.indicatorFixedWrapStyle,t?null==t?void 0:t.width:0)},[(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-item")},[(0,_vue.createVNode)("div",{class:m.value(t),style:null==t?void 0:t.style},[d(t,r.indicator.dataSource,-1,-1,-1)])])]),(0,_vue.createVNode)("div",{class:p.value(r.indicatorAutoWrapClassName),style:r.indicatorAutoWrapStyle},[(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-item")},[r.indicator.columns.filter(function(e){return e!==t}).map(function(e,t){return(0,_vue.createVNode)("div",{key:e.dataIndex,class:m.value(e),style:_.value(e.style,e.width)},[d(e,r.indicator.dataSource,-1,-1,t)])})])])])),a()]);var t}}});
//# sourceMappingURL=cascadecompared.js.map
