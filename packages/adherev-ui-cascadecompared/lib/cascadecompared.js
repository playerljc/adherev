"use strict";var _vue=require("vue");function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,_vue.isVNode)(e)}require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.array.find.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.array.concat.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),adherev_ui_stickuplayout_1=(0,tslib_1.__importDefault)(require("@baifendian/adherev-ui-stickuplayout")),adherev_util_1=(0,tslib_1.__importDefault)(require("@baifendian/adherev-util")),classnames_1=(0,tslib_1.__importDefault)(require("classnames")),iscroll_probe_1=(0,tslib_1.__importDefault)(require("iscroll/build/iscroll-probe")),vue_1=require("vue"),vue_types_1=require("vue-types"),selectorPrefix="adherev-ui-cascadecompared",defaultCellWidth=120;function initTouch(){document.addEventListener("touchmove",function(e){e.preventDefault()},!!function(){var e=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(e){}return e}()&&{capture:!1,passive:!1})}initTouch();var props={className:(0,vue_types_1.string)().def(""),indicatorClassName:(0,vue_types_1.string)().def(""),indicatorStyle:(0,vue_types_1.object)().def({}),indicatorFixedWrapClassName:(0,vue_types_1.string)().def(""),indicatorFixedWrapStyle:(0,vue_types_1.object)().def({}),indicatorAutoWrapClassName:(0,vue_types_1.string)().def(""),indicatorAutoWrapStyle:(0,vue_types_1.object)().def({}),masterClassName:(0,vue_types_1.string)().def(""),masterStyle:(0,vue_types_1.object)().def({}),masterInnerClassName:(0,vue_types_1.string)().def(""),masterInnerStyle:(0,vue_types_1.object)().def({}),masterStickFixedClassName:(0,vue_types_1.string)().def(""),masterStickFixedStyle:(0,vue_types_1.object)().def({}),masterStickInnerClassName:(0,vue_types_1.string)().def(""),masterStickInnerStyle:(0,vue_types_1.object)().def({}),indicator:(0,vue_types_1.object)().def(function(){return{columns:[],dataSource:[]}}),master:(0,vue_types_1.array)().def(function(){return[]}),defaultCellWidth:(0,vue_types_1.oneOfType)([(0,vue_types_1.number)(),(0,vue_types_1.string)()]).def(defaultCellWidth)};exports.default=(0,vue_1.defineComponent)({name:"adv-cascadecompared",props:props,slots:["title"],emits:["stick-change"],setup:function(r,e){function t(){for(var r=a.value.querySelectorAll(".".concat(selectorPrefix,"-autoWrap")),e=0;e<u.length;e++)u[e].destroy();for(u=[],e=0;e<r.length;e++)!function(e){var t=new iscroll_probe_1.default(r[e],{probeType:3,eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1});u.push(t),t.on("scroll",function(){for(var e=0;e<u.length;e++)u[e]!==t&&u[e].scrollTo(t.x,t.y)})}(e)}function o(e){var t=e.find(function(e){return e.isFixed});return t||(e.length?e[0]:null)}function c(e,t){return e.render?e.render(t[e.dataIndex],t):t[e.dataIndex]}function l(){var e;return(0,_vue.createVNode)("div",{class:m.value,style:r.masterStyle},[(0,_vue.createVNode)(adherev_ui_stickuplayout_1.default,{ref:s,class:y.value,style:r.masterInnerStyle,fixedClassName:N.value,fixedStyle:r.masterStickFixedStyle,innerClassName:x.value,innerStyle:r.masterStickInnerStyle,onChange:function(){n("stick-change")}},_isSlot(e=r.master.map(function(e,t){return a=(r=e).title,e=void 0===(e=r.className)?"":e,s=void 0===(s=r.style)?"":s,(0,_vue.createVNode)(adherev_ui_stickuplayout_1.default.Item,{key:t,class:(0,classnames_1.default)((e||"").split(/\s+/)),style:s},{default:function(){return S(r)},title:function(){return h(a)}});var r,a,s}))?e:{default:function(){return[e]}})])}var n=e.emit,e=e.expose,a=(0,vue_1.ref)(null),s=(0,vue_1.ref)(null),u=[],i=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-indicator"),(r.indicatorClassName||"").split(/\s+/))}),f=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-fixedWrap"),(e||"").split(/\s+/))}}),d=(0,vue_1.computed)(function(){return function(e,t){return(0,tslib_1.__assign)((0,tslib_1.__assign)({},e),{width:"".concat(t||defaultCellWidth,"px")})}}),v=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-cell"),((null==e?void 0:e.className)||"").split(/\s+/))}}),_=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-autoWrap"),(e||"").split(/\s+/))}}),p=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-autoInner"),(e||"").split(/\s+/))}}),m=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-master"),(r.masterClassName||"").split(/\s+/))}),y=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-master-inner"),(r.masterInnerClassName||"").split(/\s+/))}),N=(0,vue_1.computed)(function(){return(0,classnames_1.default)((r.masterStickFixedClassName||"").split(/\s+/))}),x=(0,vue_1.computed)(function(){return(0,classnames_1.default)((r.masterStickInnerClassName||"").split(/\s+/))}),h=function(e){var t;return null!==(t=adherev_util_1.default.isObject)&&void 0!==t&&t.call(adherev_util_1.default,e)?(0,_vue.createVNode)("div",null,[(0,vue_1.h)(e)]):null!==(t=adherev_util_1.default.isFunction)&&void 0!==t&&t.call(adherev_util_1.default,e)?(0,_vue.createVNode)("div",null,[e()]):(0,_vue.createVNode)("span",null,[e])},S=function(e){var t=e.dataSource,t=void 0===t?[]:t,r=e.columns,a=void 0===r?[]:r,r=e.fixedWrapClassName,r=void 0===r?"":r,s=e.fixedWrapStyle,s=void 0===s?{}:s,u=e.autoWrapClassName,u=void 0===u?"":u,l=e.autoWrapStyle,l=void 0===l?{}:l,n=e.autoInnerClassName,n=void 0===n?"":n,e=e.autoInnerStyle,e=void 0===e?{}:e,i=o(a);return(0,_vue.createVNode)(_vue.Fragment,null,[(0,_vue.createVNode)("div",{class:f.value(r),style:d.value(s,i?null==i?void 0:i.width:0)},[t.map(function(e,t){return(0,_vue.createVNode)("div",{key:t,class:"".concat(selectorPrefix,"-item")},[(0,_vue.createVNode)("div",{class:v.value(i),style:null==i?void 0:i.style},[c(i,e)])])})]),(0,_vue.createVNode)("div",{class:_.value(u),style:l},[(0,_vue.createVNode)("div",{class:p.value(n),style:e},[t.map(function(t,e){return(0,_vue.createVNode)("div",{key:e,class:"".concat(selectorPrefix,"-item")},[a.filter(function(e){return e!==i}).map(function(e){return(0,_vue.createVNode)("div",{key:e.dataIndex,class:v.value(e),style:d.value(e.style,null==e?void 0:e.width)},[c(e,t)])})])})])])])};return(0,vue_1.onMounted)(function(){s.value.refresh(),t()}),(0,vue_1.onUpdated)(function(){s.value.refresh(),t()}),e({scrollToByIndex:function(e,t){s.value.scrollToByIndex(e,t=void 0===t?300:t)},scrollToByColumn:function(e){var t=u[0],e=t.wrapper.querySelector(".".concat(selectorPrefix,"-item .").concat(selectorPrefix,"-cell:nth-of-type(").concat(e,")"));t.scrollToElement(e)},scrollToByHeaderEl:function(e,t){s.value.scrollToByHeaderEl(e,t=void 0===t?300:t)}}),function(){return(0,_vue.createVNode)("div",{class:selectorPrefix,ref:a},[(t=o(r.indicator.columns),(0,_vue.createVNode)("div",{class:i.value,style:r.indicatorStyle},[(0,_vue.createVNode)("div",{class:f.value(r.indicatorFixedWrapClassName),style:d.value(r.indicatorFixedWrapStyle,t?null==t?void 0:t.width:0)},[(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-item")},[(0,_vue.createVNode)("div",{class:v.value(t),style:null==t?void 0:t.style},[c(t,r.indicator.dataSource)])])]),(0,_vue.createVNode)("div",{class:_.value(r.indicatorAutoWrapClassName),style:r.indicatorAutoWrapStyle},[(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-item")},[r.indicator.columns.filter(function(e){return e!==t}).map(function(e){return(0,_vue.createVNode)("div",{key:e.dataIndex,class:v.value(e),style:d.value(e.style,e.width)},[c(e,r.indicator.dataSource)])})])])])),l()]);var t}}});
//# sourceMappingURL=cascadecompared.js.map
