{"version":3,"file":"cascadecompared.js","sources":["cascadecompared.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cascadeComparedProps = void 0;\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar iscroll_probe_1 = tslib_1.__importDefault(require(\"iscroll/build/iscroll-probe\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar adherev_ui_stickuplayout_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-stickuplayout\"));\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar selectorPrefix = 'adherev-ui-cascadecompared';\nvar defaultCellWidth = 120;\n/**\n * initTouch\n */\nfunction initTouch() {\n  function isPassive() {\n    var supportsPassiveOption = false;\n    try {\n      // @ts-ignore\n      addEventListener('test', null, Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassiveOption = true;\n        }\n      }));\n    } catch (e) {}\n    return supportsPassiveOption;\n  }\n  document.addEventListener('touchmove', function (e) {\n    e.preventDefault();\n  }, isPassive() ? {\n    capture: false,\n    passive: false\n  } : false);\n}\ninitTouch();\nexports.cascadeComparedProps = {\n  className: (0, vue_types_1.string)().def(''),\n  indicatorClassName: (0, vue_types_1.string)().def(''),\n  indicatorStyle: (0, vue_types_1.object)().def({}),\n  indicatorFixedWrapClassName: (0, vue_types_1.string)().def(''),\n  indicatorFixedWrapStyle: (0, vue_types_1.object)().def({}),\n  indicatorAutoWrapClassName: (0, vue_types_1.string)().def(''),\n  indicatorAutoWrapStyle: (0, vue_types_1.object)().def({}),\n  masterClassName: (0, vue_types_1.string)().def(''),\n  masterStyle: (0, vue_types_1.object)().def({}),\n  masterInnerClassName: (0, vue_types_1.string)().def(''),\n  masterInnerStyle: (0, vue_types_1.object)().def({}),\n  masterStickFixedClassName: (0, vue_types_1.string)().def(''),\n  masterStickFixedStyle: (0, vue_types_1.object)().def({}),\n  masterStickInnerClassName: (0, vue_types_1.string)().def(''),\n  masterStickInnerStyle: (0, vue_types_1.object)().def({}),\n  indicator: (0, vue_types_1.object)().def(function () {\n    return {\n      columns: [],\n      dataSource: []\n    };\n  }),\n  master: (0, vue_types_1.array)().def(function () {\n    return [];\n  }),\n  defaultCellWidth: (0, vue_types_1.oneOfType)([(0, vue_types_1.number)(), (0, vue_types_1.string)()]).def(defaultCellWidth)\n};\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-cascadecompared',\n  props: exports.cascadeComparedProps,\n  slots: ['masterGroupTitle', 'cell'],\n  emits: ['stickChange'],\n  setup: function setup(props, _a) {\n    var emit = _a.emit,\n      expose = _a.expose,\n      slots = _a.slots;\n    var el = (0, vue_1.ref)(null);\n    var stickup = (0, vue_1.ref)(null);\n    var scrolls = [];\n    var getIndicatorClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-indicator\"), props.indicatorClassName || '');\n    });\n    var getFixedWrapClassName = (0, vue_1.computed)(function () {\n      return function (className) {\n        return (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-fixedWrap\"), className || '');\n      };\n    });\n    var getFixedWrapStyle = (0, vue_1.computed)(function () {\n      return function (style, width) {\n        return tslib_1.__assign(tslib_1.__assign({}, style), {\n          width: \"\".concat(width || defaultCellWidth, \"px\")\n        });\n      };\n    });\n    var getCellClassName = (0, vue_1.computed)(function () {\n      return function (column) {\n        return (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-cell\"), (column === null || column === void 0 ? void 0 : column.className) || '');\n      };\n    });\n    var getAutoWrapClassName = (0, vue_1.computed)(function () {\n      return function (className) {\n        return (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-autoWrap\"), className || '');\n      };\n    });\n    var getAutoInnerClassName = (0, vue_1.computed)(function () {\n      return function (className) {\n        return (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-autoInner\"), className || '');\n      };\n    });\n    var getMasterClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-master\"), props.masterClassName || '');\n    });\n    var getMasterInnerClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-master-inner\"), props.masterInnerClassName || '');\n    });\n    var getFixedClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(props.masterStickFixedClassName || '');\n    });\n    var getInnerClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(props.masterStickInnerClassName || '');\n    });\n    var initScroll = function initScroll() {\n      var wrapEls = el.value.querySelectorAll(\".\".concat(selectorPrefix, \"-autoWrap\"));\n      for (var i = 0; i < scrolls.length; i++) {\n        scrolls[i].destroy();\n      }\n      scrolls = [];\n      var _loop_1 = function _loop_1(i) {\n        var scroll_1 = new iscroll_probe_1.default(wrapEls[i], {\n          probeType: 3,\n          eventPassthrough: true,\n          scrollX: true,\n          scrollY: false,\n          preventDefault: false\n        });\n        scrolls.push(scroll_1);\n        scroll_1.on('scroll', function () {\n          for (var j = 0; j < scrolls.length; j++) {\n            if (scrolls[j] !== scroll_1) {\n              scrolls[j].scrollTo(scroll_1.x, scroll_1.y);\n            }\n          }\n        });\n      };\n      for (var i = 0; i < wrapEls.length; i++) {\n        _loop_1(i);\n      }\n    };\n    var getFixedColumnConfig = function getFixedColumnConfig(columns) {\n      var config = columns.find(function (t) {\n        return t.isFixed;\n      });\n      if (config) return config;\n      return columns.length ? columns[0] : null;\n    };\n    var renderCell = function renderCell(config, dataSource, groupIndex, rowIndex, columnIndex) {\n      // if (config.render) {\n      //   return config.render(dataSource[config.dataIndex], dataSource);\n      // }\n      if (slots.cell) {\n        return slots.cell({\n          config: config,\n          dataSource: dataSource,\n          groupIndex: groupIndex,\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n      return dataSource[config.dataIndex];\n    };\n    var renderMasterGroupTitle = function renderMasterGroupTitle(config, groupIndex) {\n      // return Util.isObject?.(title) ? (\n      //   <div>{h(title as object)}</div>\n      // ) : Util.isFunction?.(title) ? (\n      //   <div>{(title as Function)()}</div>\n      // ) : (\n      //   <span>{title}</span>\n      // );\n      var _a;\n      var title = config.title;\n      if (title && ((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isString) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, title))) {\n        return title;\n      }\n      if (slots.masterGroupTitle) {\n        return slots.masterGroupTitle({\n          config: config,\n          groupIndex: groupIndex\n        });\n      }\n      return title;\n    };\n    var renderMasterGroupContent = function renderMasterGroupContent(masterItem, groupIndex) {\n      var _a = masterItem.dataSource,\n        dataSource = _a === void 0 ? [] : _a,\n        _b = masterItem.columns,\n        columns = _b === void 0 ? [] : _b,\n        _c = masterItem.fixedWrapClassName,\n        fixedWrapClassName = _c === void 0 ? '' : _c,\n        _d = masterItem.fixedWrapStyle,\n        fixedWrapStyle = _d === void 0 ? {} : _d,\n        _e = masterItem.autoWrapClassName,\n        autoWrapClassName = _e === void 0 ? '' : _e,\n        _f = masterItem.autoWrapStyle,\n        autoWrapStyle = _f === void 0 ? {} : _f,\n        _g = masterItem.autoInnerClassName,\n        autoInnerClassName = _g === void 0 ? '' : _g,\n        _h = masterItem.autoInnerStyle,\n        autoInnerStyle = _h === void 0 ? {} : _h;\n      var fixedColumnConfig = getFixedColumnConfig(columns);\n      return (0, _vue.createVNode)(_vue.Fragment, null, [(0, _vue.createVNode)(\"div\", {\n        \"class\": getFixedWrapClassName.value(fixedWrapClassName),\n        \"style\": getFixedWrapStyle.value(fixedWrapStyle, fixedColumnConfig ? fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.width : 0)\n      }, [dataSource.map(function (record, rowIndex) {\n        return (0, _vue.createVNode)(\"div\", {\n          \"key\": rowIndex,\n          \"class\": \"\".concat(selectorPrefix, \"-item\")\n        }, [(0, _vue.createVNode)(\"div\", {\n          \"class\": getCellClassName.value(fixedColumnConfig),\n          \"style\": fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.style\n        }, [renderCell(fixedColumnConfig, record, groupIndex, rowIndex, -1)])]);\n      })]), (0, _vue.createVNode)(\"div\", {\n        \"class\": getAutoWrapClassName.value(autoWrapClassName),\n        \"style\": autoWrapStyle\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": getAutoInnerClassName.value(autoInnerClassName),\n        \"style\": autoInnerStyle\n      }, [dataSource.map(function (record, rowIndex) {\n        return (0, _vue.createVNode)(\"div\", {\n          \"key\": rowIndex,\n          \"class\": \"\".concat(selectorPrefix, \"-item\")\n        }, [columns.filter(function (column) {\n          return column !== fixedColumnConfig;\n        }).map(function (column, columnIndex) {\n          return (0, _vue.createVNode)(\"div\", {\n            \"key\": column.dataIndex,\n            \"class\": getCellClassName.value(column),\n            \"style\": getFixedWrapStyle.value(column.style, column === null || column === void 0 ? void 0 : column.width)\n          }, [renderCell(column, record, groupIndex, rowIndex, columnIndex)]);\n        })]);\n      })])])]);\n    };\n    var renderMasterGroup = function renderMasterGroup(config, groupIndex) {\n      var _a = config.className,\n        className = _a === void 0 ? '' : _a,\n        _b = config.style,\n        style = _b === void 0 ? '' : _b;\n      return (0, _vue.createVNode)(adherev_ui_stickuplayout_1.default.Item, {\n        \"key\": groupIndex,\n        \"class\": (0, classnames_1.default)(className || ''),\n        \"style\": style\n      }, {\n        default: function _default() {\n          return renderMasterGroupContent(config, groupIndex);\n        },\n        title: function title() {\n          return renderMasterGroupTitle(config, groupIndex);\n        }\n      });\n    };\n    var renderIndicator = function renderIndicator() {\n      var fixedColumnConfig = getFixedColumnConfig(props.indicator.columns);\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": getIndicatorClassName.value,\n        \"style\": props.indicatorStyle\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": getFixedWrapClassName.value(props.indicatorFixedWrapClassName),\n        \"style\": getFixedWrapStyle.value(props.indicatorFixedWrapStyle, fixedColumnConfig ? fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.width : 0)\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-item\")\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": getCellClassName.value(fixedColumnConfig),\n        \"style\": fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.style\n      }, [renderCell(fixedColumnConfig, props.indicator.dataSource, -1, -1, -1)])])]), (0, _vue.createVNode)(\"div\", {\n        \"class\": getAutoWrapClassName.value(props.indicatorAutoWrapClassName),\n        \"style\": props.indicatorAutoWrapStyle\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-item\")\n      }, [props.indicator.columns.filter(function (column) {\n        return column !== fixedColumnConfig;\n      }).map(function (column, columnIndex) {\n        return (0, _vue.createVNode)(\"div\", {\n          \"key\": column.dataIndex,\n          \"class\": getCellClassName.value(column),\n          \"style\": getFixedWrapStyle.value(column.style, column.width)\n        }, [renderCell(column, props.indicator.dataSource, -1, -1, columnIndex)]);\n      })])])]);\n    };\n    var renderMaster = function renderMaster() {\n      var _slot;\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": getMasterClassName.value,\n        \"style\": props.masterStyle\n      }, [(0, _vue.createVNode)(adherev_ui_stickuplayout_1.default, {\n        \"ref\": stickup,\n        \"class\": getMasterInnerClassName.value,\n        \"style\": props.masterInnerStyle,\n        \"fixedClassName\": getFixedClassName.value,\n        \"fixedStyle\": props.masterStickFixedStyle,\n        \"innerClassName\": getInnerClassName.value,\n        \"innerStyle\": props.masterStickInnerStyle,\n        \"onChange\": function onChange() {\n          return emit('stickChange');\n        }\n      }, _isSlot(_slot = props.master.map(function (config, index) {\n        return renderMasterGroup(config, index);\n      })) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      })]);\n    };\n    /**\n     * scrollToByIndex\n     * @param {number} index\n     * @param {number} duration\n     * @return {boolean}\n     */\n    var scrollToByIndex = function scrollToByIndex(index, duration) {\n      if (duration === void 0) {\n        duration = 300;\n      }\n      stickup.value.scrollToByIndex(index, duration);\n    };\n    /**\n     * scrollToByHeaderEl\n     * @param {HtmlElement} headerEl\n     * @param {number} duration\n     * @return {boolean}\n     */\n    var scrollToByHeaderEl = function scrollToByHeaderEl(headerEl, duration) {\n      if (duration === void 0) {\n        duration = 300;\n      }\n      stickup.value.scrollToByHeaderEl(headerEl, duration);\n    };\n    /**\n     * scrollToByColumn\n     * @param {number} columnIndex\n     */\n    var scrollToByColumn = function scrollToByColumn(columnIndex) {\n      var scroll = scrolls[0];\n      var el = scroll.wrapper.querySelector(\".\".concat(selectorPrefix, \"-item .\").concat(selectorPrefix, \"-cell:nth-of-type(\").concat(columnIndex, \")\"));\n      scroll.scrollToElement(el);\n    };\n    (0, vue_1.onMounted)(function () {\n      stickup.value.refresh();\n      initScroll();\n    });\n    (0, vue_1.onUpdated)(function () {\n      stickup.value.refresh();\n      initScroll();\n    });\n    expose({\n      scrollToByIndex: scrollToByIndex,\n      scrollToByColumn: scrollToByColumn,\n      scrollToByHeaderEl: scrollToByHeaderEl\n    });\n    return function () {\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": selectorPrefix,\n        \"ref\": el\n      }, [renderIndicator(), renderMaster()]);\n    };\n  }\n});"],"names":["_vue","require","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","cascadeComparedProps","tslib_1","classnames_1","__importDefault","iscroll_probe_1","vue_1","vue_types_1","adherev_ui_stickuplayout_1","adherev_util_1","selectorPrefix","defaultCellWidth","initTouch","document","addEventListener","e","preventDefault","isPassive","supportsPassiveOption","get","capture","passive","className","string","def","indicatorClassName","indicatorStyle","object","indicatorFixedWrapClassName","indicatorFixedWrapStyle","indicatorAutoWrapClassName","indicatorAutoWrapStyle","masterClassName","masterStyle","masterInnerClassName","masterInnerStyle","masterStickFixedClassName","masterStickFixedStyle","masterStickInnerClassName","masterStickInnerStyle","indicator","columns","dataSource","master","array","oneOfType","number","default","defineComponent","name","props","slots","emits","setup","_a","initScroll","wrapEls","el","querySelectorAll","concat","i","scrolls","length","destroy","_loop_1","scroll_1","probeType","eventPassthrough","scrollX","scrollY","push","on","j","scrollTo","x","y","getFixedColumnConfig","config","find","t","isFixed","renderCell","groupIndex","rowIndex","columnIndex","cell","dataIndex","renderMaster","_slot","createVNode","class","getMasterClassName","style","ref","stickup","getMasterInnerClassName","fixedClassName","getFixedClassName","fixedStyle","innerClassName","getInnerClassName","innerStyle","onChange","emit","map","index","_b","Item","key","renderMasterGroupContent","title","renderMasterGroupTitle","expose","getIndicatorClassName","computed","getFixedWrapClassName","getFixedWrapStyle","width","__assign","getCellClassName","column","getAutoWrapClassName","getAutoInnerClassName","isString","masterGroupTitle","masterItem","_c","fixedWrapClassName","_d","fixedWrapStyle","_e","autoWrapClassName","_f","autoWrapStyle","_g","autoInnerClassName","_h","autoInnerStyle","fixedColumnConfig","Fragment","record","filter","onMounted","refresh","onUpdated","scrollToByIndex","duration","scrollToByColumn","scroll","wrapper","querySelector","scrollToElement","scrollToByHeaderEl","headerEl"],"mappings":"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"}