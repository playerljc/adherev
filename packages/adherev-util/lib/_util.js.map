{"version":3,"file":"_util.js","sources":["_util.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.string.starts-with.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HOC = exports.extend = exports.withVue = exports.withInstall = void 0;\nvar tslib_1 = require(\"tslib\");\nvar vue_1 = require(\"vue\");\n/**\n * withInstall\n * @param comp\n */\nvar withInstall = function withInstall(comp) {\n  comp.install = function (app) {\n    app.component(comp.displayName || comp.name, comp);\n  };\n  return comp;\n};\nexports.withInstall = withInstall;\n/**\n * withVue\n * @description - 将属性p混入到Vue实例中，在Vue实例的表达式中可以使用this.$adv[p]来进行访问\n * @param app\n * @param p\n * @param val\n */\nvar withVue = function withVue(app, p, val) {\n  app.config.globalProperties.$adv = app.config.globalProperties.$adv || {};\n  app.config.globalProperties.$adv[p] = val;\n};\nexports.withVue = withVue;\n/**\n * extend\n * @description - 实现Vue的继承使得可以实现调用父类的方法\n * 例如 类名A有一个renderInner方法，则父类的方法是$renderInnerA\n * @param options\n * @return Omit<ExtendFunction<any>, 'className'>\n */\nvar extend = function extend(options) {\n  var className = options.className,\n    vueOptions = tslib_1.__rest(options, [\"className\"]);\n  if (!vueOptions) return {};\n  var methods = vueOptions.methods;\n  if (!methods || !className) return vueOptions;\n  var methodKeys = Object.keys(methods).filter(function (methodKey) {\n    return ['$', '_'].every(function (prefix) {\n      return !methodKey.startsWith(prefix);\n    });\n  });\n  var classNames = !Array.isArray(className) ? [className] : className;\n  for (var i = 0; i < methodKeys.length; i++) {\n    var methodKey = methodKeys[i];\n    var _loop_1 = function _loop_1(j) {\n      var superMethodKey = \"$\".concat(methodKey).concat(classNames[j]);\n      vueOptions.methods[superMethodKey] = vueOptions.methods[methodKey];\n      vueOptions.methods[methodKey] = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          params[_i] = arguments[_i];\n        }\n        return this[superMethodKey].apply(this, params || []);\n      };\n    };\n    for (var j = 0; j < classNames.length; j++) {\n      _loop_1(j);\n    }\n  }\n  return vueOptions;\n};\nexports.extend = extend;\n/**\n * HOC\n * @param Component\n * @param optionsOverwrite\n * @param renderOptions\n */\nfunction HOC(Component, optionsOverwrite, renderOptions) {\n  return (0, vue_1.defineComponent)({\n    props: tslib_1.__assign(tslib_1.__assign({}, Component.props || {}), optionsOverwrite.props || {}),\n    emits: tslib_1.__spreadArray([], Component.emits ? Component.emits : [], true),\n    slots: tslib_1.__spreadArray([], Component.slots ? Component.slots : [], true),\n    expose: tslib_1.__spreadArray([], Component.expose ? Component.slots : [], true),\n    setup: function setup(props, _a) {\n      var slots = _a.slots,\n        attrs = _a.attrs,\n        expose = _a.expose;\n      var comRef = (0, vue_1.ref)();\n      if (Component.expose) {\n        var exposeObj_1 = {};\n        Component.expose.forEach(function (methodName) {\n          exposeObj_1[methodName] = function (params) {\n            var _a, _b;\n            return (_b = (_a = comRef.value) === null || _a === void 0 ? void 0 : _a[methodName]) === null || _b === void 0 ? void 0 : _b.call(_a, params);\n          };\n        });\n        expose(exposeObj_1);\n      }\n      return function () {\n        var _a, _b, _c;\n        return (0, vue_1.h)(Component, tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, ((_a = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.props) === null || _a === void 0 ? void 0 : _a.call(renderOptions, props)) || props || {}), ((_b = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.attrs) === null || _b === void 0 ? void 0 : _b.call(renderOptions, attrs)) || attrs || {}), {\n          ref: comRef\n        }), tslib_1.__assign({}, ((_c = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.slots) === null || _c === void 0 ? void 0 : _c.call(renderOptions, slots)) || slots || {}));\n      };\n    }\n  });\n}\nexports.HOC = HOC;"],"names":["require","Object","defineProperty","exports","value","HOC","extend","withVue","withInstall","tslib_1","vue_1","comp","install","app","component","displayName","name","p","val","config","globalProperties","$adv","options","className","vueOptions","__rest","methods","methodKeys","keys","filter","methodKey","every","prefix","startsWith","classNames","Array","isArray","i","length","j","_loop_1","superMethodKey","concat","params","_i","arguments","this","apply","Component","optionsOverwrite","renderOptions","defineComponent","props","__assign","emits","__spreadArray","slots","expose","setup","_a","exposeObj_1","attrs","comRef","ref","forEach","methodName","_b","call","_c","h"],"mappings":"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"}