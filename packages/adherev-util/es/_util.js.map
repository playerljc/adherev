{"version":3,"file":"_util.js","sources":["_util.js"],"sourcesContent":["import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport { __assign, __rest } from \"tslib\";\nimport merge from 'lodash.merge';\nimport { defineComponent, h, ref } from 'vue';\n/**\n * withInstall\n * @param comp\n */\nexport var withInstall = function withInstall(comp) {\n  comp.install = function (app) {\n    app.component(comp.displayName || comp.name, comp);\n  };\n  return comp;\n};\n/**\n * withVue\n * @description - 将属性p混入到Vue实例中，在Vue实例的表达式中可以使用this.$adv[p]来进行访问\n * @param app\n * @param p\n * @param val\n */\nexport var withVue = function withVue(app, p, val) {\n  app.config.globalProperties.$adv = app.config.globalProperties.$adv || {};\n  app.config.globalProperties.$adv[p] = val;\n};\n/**\n * extend\n * @description - 实现Vue的继承使得可以实现调用父类的方法\n * 例如 类名A有一个renderInner方法，则父类的方法是$renderInnerA\n * @param options\n * @return Omit<ExtendFunction<any>, 'className'>\n */\nexport var extend = function extend(options) {\n  var className = options.className,\n    vueOptions = __rest(options, [\"className\"]);\n  if (!vueOptions) return {};\n  var methods = vueOptions.methods;\n  if (!methods || !className) return vueOptions;\n  var methodKeys = Object.keys(methods).filter(function (methodKey) {\n    return ['$', '_'].every(function (prefix) {\n      return !methodKey.startsWith(prefix);\n    });\n  });\n  var classNames = !Array.isArray(className) ? [className] : className;\n  for (var i = 0; i < methodKeys.length; i++) {\n    var methodKey = methodKeys[i];\n    var _loop_1 = function _loop_1(j) {\n      var superMethodKey = \"$\".concat(methodKey).concat(classNames[j]);\n      vueOptions.methods[superMethodKey] = vueOptions.methods[methodKey];\n      vueOptions.methods[methodKey] = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          params[_i] = arguments[_i];\n        }\n        return this[superMethodKey].apply(this, params || []);\n      };\n    };\n    for (var j = 0; j < classNames.length; j++) {\n      _loop_1(j);\n    }\n  }\n  return vueOptions;\n};\n/**\n * HOC\n * @description 实现高阶函数\n * @param Component - Vue组件配置对象\n * @param optionsOverwrite - Vue组件的options\n * @param renderOptions - props,attrs和slots\n */\nexport function HOC(Component, optionsOverwrite, renderOptions) {\n  return defineComponent(merge(__assign({}, Component || {}), __assign(__assign({}, optionsOverwrite || {}), {\n    setup: function setup(props, _a) {\n      var slots = _a.slots,\n        attrs = _a.attrs,\n        expose = _a.expose;\n      var comRef = ref();\n      if (Component.expose) {\n        var exposeObj_1 = {};\n        Component.expose.forEach(function (methodName) {\n          exposeObj_1[methodName] = function (params) {\n            var _a, _b;\n            return (_b = (_a = comRef.value) === null || _a === void 0 ? void 0 : _a[methodName]) === null || _b === void 0 ? void 0 : _b.call(_a, params);\n          };\n        });\n        expose(exposeObj_1);\n      }\n      return function () {\n        var _a, _b, _c;\n        return h(Component, __assign(__assign(__assign({}, ((_a = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.props) === null || _a === void 0 ? void 0 : _a.call(renderOptions, props)) || props || {}), ((_b = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.attrs) === null || _b === void 0 ? void 0 : _b.call(renderOptions, attrs)) || attrs || {}), {\n          ref: comRef\n        }), __assign({}, ((_c = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.slots) === null || _c === void 0 ? void 0 : _c.call(renderOptions, slots)) || slots || {}));\n      };\n    }\n  })));\n}\n/**\n * getComponentPropsOption\n * @description 获取组件的Props定义\n * @param Component\n * @returns {{}}\n */\nexport var getComponentPropsOption = function getComponentPropsOption(Component) {\n  return __assign({}, (Component.mixins || []).reduce(function (props, com) {\n    return __assign(__assign({}, com.props || {}), props);\n  }, Component.props));\n};"],"names":["__assign","__rest","merge","defineComponent","h","ref","withInstall","comp","install","app","component","displayName","name","withVue","p","val","config","globalProperties","$adv","extend","options","className","vueOptions","methods","methodKeys","Object","keys","filter","methodKey","every","prefix","startsWith","classNames","Array","isArray","i","length","j","_loop_1","superMethodKey","concat","params","_i","arguments","this","apply","HOC","Component","optionsOverwrite","renderOptions","setup","props","_a","exposeObj_1","slots","attrs","expose","comRef","forEach","methodName","_b","value","call","_c","getComponentPropsOption","mixins","reduce","com"],"mappings":"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"}