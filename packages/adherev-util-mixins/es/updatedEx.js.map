{"version":3,"file":"updatedEx.js","sources":["updatedEx.js"],"sourcesContent":["import \"core-js/modules/es.string.starts-with.js\";\n\n/**\n * updatedEx - 有pre参数的updated的hook\n * 建议使用在全局的mixins中\n */\nexport default {\n  created: function created() {\n    var _a = this,\n        $data = _a.$data,\n        $props = _a.$props; // 在$data中创建$preProps属性用来存放pre的值\n\n\n    if (!('$preProps' in $data)) {\n      $data.$preProps = {};\n    }\n\n    var _loop_1 = function _loop_1(p) {\n      if (!p.startsWith('$') && !p.startsWith('_')) {\n        this_1.$watch(p, function (newVal, oldVal) {\n          $data.$preProps[p] = oldVal;\n        });\n      }\n    };\n\n    var this_1 = this; // 枚举data中的属性，用watch进行监控\n\n    for (var p in $data) {\n      _loop_1(p);\n    }\n\n    var _loop_2 = function _loop_2(p) {\n      if (!p.startsWith('$') && !p.startsWith('_')) {\n        this_2.$watch(p, function (newVal, oldVal) {\n          $data.$preProps[p] = oldVal;\n        });\n      }\n    };\n\n    var this_2 = this; // 枚举props中的属性，用watch进行监控\n\n    for (var p in $props) {\n      _loop_2(p);\n    }\n  },\n  updated: function updated() {\n    var _a = this,\n        $options = _a.$options,\n        $data = _a.$data; // 在updated中调用updatedEx的hook\n\n\n    if ('updatedEx' in $options && $options.updatedEx instanceof Function) {\n      $options.updatedEx.call(this, $data.$preProps);\n    }\n  }\n};"],"names":["created","$data","this","$props","$preProps","this_1","p","startsWith","$watch","newVal","oldVal","_loop_1","this_2","_loop_2","updated","$options","updatedEx","Function","call"],"mappings":"+DAMe,CACbA,QAAS,WACP,IACIC,EADKC,KACMD,MACXE,EAFKD,KAEOC,OAGV,cAAeF,IACnBA,EAAMG,UAAY,IAGpB,IAQIC,EAASH,KAEb,IAASI,KAAKL,GAVA,SAAiBK,GACxBA,EAAEC,WAAW,MAASD,EAAEC,WAAW,MACtCF,EAAOG,OAAOF,EAAG,SAAUG,EAAQC,GACjCT,EAAMG,UAAUE,GAAKI,IAQzBC,CAAQL,GAGV,IAUSA,EAFLM,EAASV,KAEb,IAASI,KAAKH,GAVA,SAAiBG,GACxBA,EAAEC,WAAW,MAASD,EAAEC,WAAW,MACtCK,EAAOJ,OAAOF,EAAG,SAAUG,EAAQC,GACjCT,EAAMG,UAAUE,GAAKI,IAQzBG,CAAQP,IAGZQ,QAAS,WACP,IACIC,EADKb,KACSa,SACdd,EAFKC,KAEMD,MAGX,cAAec,GAAYA,EAASC,qBAAqBC,UAC3DF,EAASC,UAAUE,KAAKhB,KAAMD,EAAMG"}