{"version":3,"file":"updatedEx.js","sources":["updatedEx.js"],"sourcesContent":["import \"core-js/modules/es.string.starts-with.js\";\n\n/**\n * updatedEx - 有pre参数的updated的hook\n * 建议使用在全局的mixins中\n */\nexport default {\n  created: function created() {\n    // @ts-ignore\n    var _a = this,\n        $data = _a.$data,\n        $props = _a.$props; // 在$data中创建$preProps属性用来存放pre的值\n\n\n    if (!('$preProps' in $data)) {\n      $data.$preProps = {};\n    }\n\n    var _loop_1 = function _loop_1(p) {\n      if (!p.startsWith('$') && !p.startsWith('_')) {\n        // @ts-ignore\n        this_1.$watch(p, function (newVal, oldVal) {\n          $data.$preProps[p] = oldVal;\n        });\n      }\n    };\n\n    var this_1 = this; // 枚举data中的属性，用watch进行监控\n\n    for (var p in $data) {\n      _loop_1(p);\n    }\n\n    var _loop_2 = function _loop_2(p) {\n      if (!p.startsWith('$') && !p.startsWith('_')) {\n        // @ts-ignore\n        this_2.$watch(p, function (newVal, oldVal) {\n          $data.$preProps[p] = oldVal;\n        });\n      }\n    };\n\n    var this_2 = this; // 枚举props中的属性，用watch进行监控\n\n    for (var p in $props) {\n      _loop_2(p);\n    }\n  },\n  updated: function updated() {\n    // @ts-ignore\n    var _a = this,\n        $options = _a.$options,\n        $data = _a.$data; // 在updated中调用updatedEx的hook\n\n\n    if ('updatedEx' in $options && $options.updatedEx instanceof Function) {\n      $options.updatedEx.call(this, $data.$preProps);\n    }\n  }\n};"],"names":["created","$data","this","$props","this_1","$preProps","p","startsWith","$watch","newVal","oldVal","_loop_1","this_2","_loop_2","updated","$options","updatedEx","Function","call"],"mappings":"+DAMe,CACbA,QAAS,WAEP,IACIC,EADKC,KACMD,MACXE,EAFKD,KAEOC,OAgBZC,GAbE,cAAeH,IACnBA,EAAMI,UAAY,IAYPH,MAEb,IAASI,KAAKL,GAXA,SAAiBK,GACxBA,EAAEC,WAAW,MAASD,EAAEC,WAAW,MAEtCH,EAAOI,OAAOF,EAAG,SAAUG,EAAQC,GACjCT,EAAMI,UAAUC,GAAKI,IAQzBC,CAAQL,GAGV,IAWSA,EAFLM,EAASV,KAEb,IAASI,KAAKH,GAXA,SAAiBG,GACxBA,EAAEC,WAAW,MAASD,EAAEC,WAAW,MAEtCK,EAAOJ,OAAOF,EAAG,SAAUG,EAAQC,GACjCT,EAAMI,UAAUC,GAAKI,IAQzBG,CAAQP,IAGZQ,QAAS,WAEP,IACIC,EADKb,KACSa,SACdd,EAFKC,KAEMD,MAGX,cAAec,GAAYA,EAASC,qBAAqBC,UAC3DF,EAASC,UAAUE,KAAKhB,KAAMD,EAAMI"}