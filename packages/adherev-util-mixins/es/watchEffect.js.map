{"version":3,"file":"watchEffect.js","sources":["watchEffect.js"],"sourcesContent":["import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport { __spreadArray } from \"tslib\";\n/**\n * watchEffect\n * data或者props中的属性只要有一个变化就调用watchEffect方法\n */\nexport default {\n  data: function data() {\n    return {\n      $watchHandlers: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n    __spreadArray(__spreadArray([], Object.keys(this.$props), true), Object.keys(this.$data).filter(function (p) {\n      return !p.startsWith('$');\n    }), true).forEach(function (p) {\n      _this.$data.$watchHandlers.push(_this.$watch(p, function (newVal, oldVal) {\n        var _a, _b, _c;\n        // 只要data或者props中的任意一个属性变化，则调用watchEffect方法\n        (_c = (_b = (_a = _this.$options) === null || _a === void 0 ? void 0 : _a.watchEffect) === null || _b === void 0 ? void 0 : _b.call) === null || _c === void 0 ? void 0 : _c.call(_b, _this, {\n          attr: p,\n          newVal: newVal,\n          oldVal: oldVal\n        });\n      },\n      // deep打开\n      {\n        deep: true\n      }));\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$data.$watchHandlers.forEach(function (uw) {\n      return uw();\n    });\n  }\n};"],"names":["__spreadArray","data","$watchHandlers","created","_this","this","Object","keys","$props","$data","filter","p","startsWith","forEach","push","$watch","newVal","oldVal","_b","_c","_a","$options","watchEffect","call","attr","deep","beforeDestroy","uw"],"mappings":"MAAO,+CACA,wDACA,0CACA,2CACA,kDACEA,aAA4B,KAAP,sBAKf,CACbC,KAAM,WACJ,MAAO,CACLC,eAAgB,EAClB,CACF,EACAC,QAAS,WACP,IAAIC,EAAQC,KACZL,cAAcA,cAAc,GAAIM,OAAOC,KAAKF,KAAKG,MAAM,EAAG,CAAA,CAAI,EAAGF,OAAOC,KAAKF,KAAKI,KAAK,EAAEC,OAAO,SAAUC,GACxG,MAAO,CAACA,EAAEC,WAAW,GAAG,CAC1B,CAAC,EAAG,CAAA,CAAI,EAAEC,QAAQ,SAAUF,GAC1BP,EAAMK,MAAMP,eAAeY,KAAKV,EAAMW,OAAOJ,EAAG,SAAUK,EAAQC,GAChE,IAAQC,EAAIC,EAEZ,OAACA,EAAK,OAACD,EAAK,OAACE,EAAKhB,EAAMiB,UAAsC,KAAA,EAASD,EAAGE,aAAyC,KAAA,EAASJ,EAAGK,OAA2CJ,EAAGI,KAAKL,EAAId,EAAO,CAC3LoB,KAAMb,EACNK,OAAQA,EACRC,OAAQA,CACV,CAAC,CACH,EAEA,CACEQ,KAAM,CAAA,CACR,CAAC,CAAC,CACJ,CAAC,CACH,EACAC,cAAe,WACbrB,KAAKI,MAAMP,eAAeW,QAAQ,SAAUc,GAC1C,OAAOA,EAAG,CACZ,CAAC,CACH,CACF"}