{"version":3,"file":"updatedEx.js","sources":["updatedEx.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.string.starts-with.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * updatedEx - 有pre参数的updated的hook\n * 建议使用在全局的mixins中\n */\nexports.default = {\n  created: function created() {\n    var _a = this,\n      $data = _a.$data,\n      $props = _a.$props;\n    // 在$data中创建$preProps属性用来存放pre的值\n    if (!('$preProps' in $data)) {\n      $data.$preProps = {};\n    }\n    var _loop_1 = function _loop_1(p) {\n      if (!p.startsWith('$') && !p.startsWith('_')) {\n        this_1.$watch(p, function (newVal, oldVal) {\n          $data.$preProps[p] = oldVal;\n        });\n      }\n    };\n    var this_1 = this;\n    // 枚举data中的属性，用watch进行监控\n    for (var p in $data) {\n      _loop_1(p);\n    }\n    var _loop_2 = function _loop_2(p) {\n      if (!p.startsWith('$') && !p.startsWith('_')) {\n        this_2.$watch(p, function (newVal, oldVal) {\n          $data.$preProps[p] = oldVal;\n        });\n      }\n    };\n    var this_2 = this;\n    // 枚举props中的属性，用watch进行监控\n    for (var p in $props) {\n      _loop_2(p);\n    }\n  },\n  updated: function updated() {\n    var _a = this,\n      $options = _a.$options,\n      $data = _a.$data;\n    // 在updated中调用updatedEx的hook\n    if ('updatedEx' in $options && $options.updatedEx instanceof Function) {\n      $options.updatedEx.call(this, $data.$preProps);\n    }\n  }\n};"],"names":["require","Object","defineProperty","exports","value","default","created","$data","this","$props","this_1","$preProps","p","_loop_1","startsWith","$watch","newVal","oldVal","this_2","_loop_2","updated","$options","updatedEx","Function","call"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EACtDA,QAAQ,0CAA0C,EAClDC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EAKDD,QAAQE,QAAU,CAChBC,QAAS,WACP,IACEC,EADOC,KACID,MACXE,EAFOD,KAEKC,OAYVC,GAVE,cAAeH,IACnBA,EAAMI,UAAY,IASPH,MAEb,IAASI,KAAKL,EACZM,CAVY,SAAiBD,GACxBA,EAAEE,WAAW,GAAG,GAAMF,EAAEE,WAAW,GAAG,GACzCJ,EAAOK,OAAOH,EAAG,SAAUI,EAAQC,GACjCV,EAAMI,UAAUC,GAAKK,CACvB,CAAC,CAEL,EAIUL,CAAC,EAEX,IASSA,EAFLM,EAASV,KAEb,IAASI,KAAKH,EACZU,CAVY,SAAiBP,GACxBA,EAAEE,WAAW,GAAG,GAAMF,EAAEE,WAAW,GAAG,GACzCI,EAAOH,OAAOH,EAAG,SAAUI,EAAQC,GACjCV,EAAMI,UAAUC,GAAKK,CACvB,CAAC,CAEL,EAIUL,CAAC,CAEb,EACAQ,QAAS,WACP,IACEC,EADOb,KACOa,SACdd,EAFOC,KAEID,MAET,cAAec,GAAYA,EAASC,qBAAqBC,UAC3DF,EAASC,UAAUE,KAAKhB,KAAMD,EAAMI,SAAS,CAEjD,CACF"}