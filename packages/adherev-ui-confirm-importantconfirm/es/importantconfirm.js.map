{"version":3,"file":"importantconfirm.js","sources":["importantconfirm.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport { __assign, __rest } from \"tslib\";\nimport { defineComponent } from 'vue';\nimport { func, number, string } from 'vue-types';\nimport MessageDialog from '@baifendian/adherev-ui-messagedialog';\nimport intl from '@baifendian/adherev-util-intl';\nimport Resource from '@baifendian/adherev-util-resource';\nvar selectorPrefix = 'adherev-ui-importantconfirm';\nvar _icon = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjEwNDIzMTA1Mjk3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxMjMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyLjMgOTI4LjRDMjgzIDkyOC40IDk3LjIgNzQyLjUgOTcuMiA1MTMuM1MyODMgOTguMiA1MTIuMyA5OC4yIDkyNy40IDI4NCA5MjcuNCA1MTMuMyA3NDEuNSA5MjguNCA1MTIuMyA5MjguNHogbTAtNjc0LjVjLTI4LjQgMC01MS4xIDIzLjUtNTAuMiA1MS45bDguMiAyNDguNWMwLjggMjIuNiAxOS4zIDQwLjYgNDEuOSA0MC42IDIyLjYgMCA0MS4yLTE3LjkgNDEuOS00MC42bDguMi0yNDguNWMxLjEtMjguNC0yMS42LTUxLjktNTAtNTEuOXogbTAgNDE1LjFjLTEzLjctMC4yLTI2LjkgNS4yLTM2LjYgMTQuOS0xMCA5LjQtMTUuNSAyMi41LTE1LjMgMzYuMiAwIDE0LjUgNS4xIDI2LjYgMTUuMyAzNi40IDkuNyA5LjYgMjIuOSAxNC45IDM2LjYgMTQuNyAxMy43IDAuMiAyNi44LTUuMSAzNi42LTE0LjcgMTAtOS40IDE1LjYtMjIuNyAxNS4zLTM2LjQgMC4yLTEzLjctNS4zLTI2LjgtMTUuMy0zNi4yLTkuNy05LjgtMjIuOS0xNS4xLTM2LjYtMTQuOXoiIHAtaWQ9IjIxMjQiIGZpbGw9IiNkODFlMDYiPjwvcGF0aD48L3N2Zz4=';\n/**\n * open\n * @param success\n * @param params\n */\nexport function open(_a) {\n  var success = _a.success,\n    params = __rest(_a, [\"success\"]);\n  MessageDialog.Confirm(__assign(__assign({}, params), {\n    title: params.title || intl.tv('提示'),\n    text: params.text || \"\".concat(intl.tv('真的要执行此操作码'), \"?\"),\n    zIndex: 'zIndex' in params ? params.zIndex : Resource.Dict.value.ResourceNormalMaxZIndex.value,\n    icon: function icon() {\n      return _createVNode(\"img\", {\n        \"src\": params.icon || _icon,\n        \"alt\": \"\",\n        \"width\": 32\n      }, null);\n    },\n    onSuccess: function onSuccess() {\n      return new Promise(function (resolve, reject) {\n        if (success) {\n          success().then(function () {\n            resolve();\n          }).catch(function () {\n            reject();\n          });\n        } else {\n          resolve();\n        }\n      });\n    }\n  }));\n}\nexport var importantConfirmProps = {\n  zIndex: number().def(Resource.Dict.value.ResourceNormalMaxZIndex.value),\n  success: func(),\n  title: string().def(intl.tv('提示')),\n  text: string().def(intl.tv('确定删除吗')),\n  icon: string().def(_icon)\n};\nexport default defineComponent({\n  name: 'adv-importantconfirm',\n  props: importantConfirmProps,\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n    var onClick = function onClick() {\n      return open({\n        success: props.success,\n        title: props.title,\n        text: props.text,\n        zIndex: props.zIndex,\n        icon: props.icon\n      });\n    };\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": selectorPrefix,\n        \"onClick\": onClick\n      }, [slots.default ? slots.default() : null]);\n    };\n  }\n});"],"names":["_createVNode","__assign","__rest","defineComponent","func","number","string","MessageDialog","intl","Resource","selectorPrefix","_icon","open","_a","success","params","Confirm","title","tv","text","concat","zIndex","Dict","value","ResourceNormalMaxZIndex","icon","src","alt","width","onSuccess","Promise","resolve","reject","then","catch","importantConfirmProps","def","name","props","setup","onClick","slots","class","default"],"mappings":"OAAwBA,2BAAyB,KAAL,YACrC,+CACA,uCACEC,SAAUC,MAAqB,KAAP,eACxBC,eAA4B,KAAL,aACvBC,KAAMC,OAAQC,MAAyB,KAAX,mBAC9BC,kBAAmB,8CACnBC,SAAU,uCACVC,aAAc,oCACrB,IAAIC,eAAiB,8BACjBC,MAAQ,itCAML,SAASC,KAAKC,GACnB,IAAIC,EAAUD,EAAGC,QACfC,EAASb,OAAOW,EAAI,CAAC,UAAU,EACjCN,cAAcS,QAAQf,SAASA,SAAS,GAAIc,CAAM,EAAG,CACnDE,MAAOF,EAAOE,OAAST,KAAKU,GAAG,IAAI,EACnCC,KAAMJ,EAAOI,MAAQ,GAAGC,OAAOZ,KAAKU,GAAG,WAAW,EAAG,GAAG,EACxDG,OAAQ,WAAYN,EAASA,EAAOM,OAASZ,SAASa,KAAKC,MAAMC,wBAAwBD,MACzFE,KAAM,WACJ,OAAOzB,aAAa,MAAO,CACzB0B,IAAOX,EAAOU,MAAQd,MACtBgB,IAAO,GACPC,MAAS,EACX,EAAG,IAAI,CACT,EACAC,UAAW,WACT,OAAO,IAAIC,QAAQ,SAAUC,EAASC,GAChClB,EACFA,EAAQ,EAAEmB,KAAK,WACbF,EAAQ,CACV,CAAC,EAAEG,MAAM,WACPF,EAAO,CACT,CAAC,EAEDD,EAAQ,CAEZ,CAAC,CACH,CACF,CAAC,CAAC,CACJ,CACO,IAAII,sBAAwB,CACjCd,OAAQhB,OAAO,EAAE+B,IAAI3B,SAASa,KAAKC,MAAMC,wBAAwBD,KAAK,EACtET,QAASV,KAAK,EACda,MAAOX,OAAO,EAAE8B,IAAI5B,KAAKU,GAAG,IAAI,CAAC,EACjCC,KAAMb,OAAO,EAAE8B,IAAI5B,KAAKU,GAAG,OAAO,CAAC,EACnCO,KAAMnB,OAAO,EAAE8B,IAAIzB,KAAK,CAC1B,iBACeR,gBAAgB,CAC7BkC,KAAM,uBACNC,MAAOH,sBACPI,MAAO,SAAeD,EAAOzB,GAEb,SAAV2B,IACF,OAAO5B,KAAK,CACVE,QAASwB,EAAMxB,QACfG,MAAOqB,EAAMrB,MACbE,KAAMmB,EAAMnB,KACZE,OAAQiB,EAAMjB,OACdI,KAAMa,EAAMb,IACd,CAAC,CACH,CATA,IAAIgB,EAAQ5B,EAAG4B,MAUf,OAAO,WACL,OAAOzC,aAAa,MAAO,CACzB0C,MAAShC,eACT8B,QAAWA,CACb,EAAG,CAACC,EAAME,QAAUF,EAAME,QAAQ,EAAI,KAAK,CAC7C,CACF,CACF,CAAC,SAzDe/B,KA6BLuB,qBA4BT"}