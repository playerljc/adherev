{"version":3,"file":"importantconfirm.js","sources":["importantconfirm.js"],"sourcesContent":["import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport { __assign, __rest } from \"tslib\";\nimport MessageDialog from '@baifendian/adherev-ui-messagedialog';\nimport intl from '@baifendian/adherev-util-intl';\nimport Resource from '@baifendian/adherev-util-resource';\nvar selectorPrefix = 'adherev-ui-importantconfirm';\nvar _icon = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjEwNDIzMTA1Mjk3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxMjMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyLjMgOTI4LjRDMjgzIDkyOC40IDk3LjIgNzQyLjUgOTcuMiA1MTMuM1MyODMgOTguMiA1MTIuMyA5OC4yIDkyNy40IDI4NCA5MjcuNCA1MTMuMyA3NDEuNSA5MjguNCA1MTIuMyA5MjguNHogbTAtNjc0LjVjLTI4LjQgMC01MS4xIDIzLjUtNTAuMiA1MS45bDguMiAyNDguNWMwLjggMjIuNiAxOS4zIDQwLjYgNDEuOSA0MC42IDIyLjYgMCA0MS4yLTE3LjkgNDEuOS00MC42bDguMi0yNDguNWMxLjEtMjguNC0yMS42LTUxLjktNTAtNTEuOXogbTAgNDE1LjFjLTEzLjctMC4yLTI2LjkgNS4yLTM2LjYgMTQuOS0xMCA5LjQtMTUuNSAyMi41LTE1LjMgMzYuMiAwIDE0LjUgNS4xIDI2LjYgMTUuMyAzNi40IDkuNyA5LjYgMjIuOSAxNC45IDM2LjYgMTQuNyAxMy43IDAuMiAyNi44LTUuMSAzNi42LTE0LjcgMTAtOS40IDE1LjYtMjIuNyAxNS4zLTM2LjQgMC4yLTEzLjctNS4zLTI2LjgtMTUuMy0zNi4yLTkuNy05LjgtMjIuOS0xNS4xLTM2LjYtMTQuOXoiIHAtaWQ9IjIxMjQiIGZpbGw9IiNkODFlMDYiPjwvcGF0aD48L3N2Zz4=';\nexport function open(_a) {\n  var success = _a.success,\n    params = __rest(_a, [\"success\"]);\n  MessageDialog.Confirm(__assign(__assign({}, params), {\n    title: params.title || intl.tv('提示'),\n    text: params.text || \"\".concat(intl.tv('真的要执行此操作码'), \"?\"),\n    zIndex: 'zIndex' in params ? params.zIndex : Resource.Dict.value.ResourceNormalMaxZIndex.value,\n    icon: function icon(h) {\n      return h(\"img\", {\n        \"attrs\": {\n          \"src\": params.icon || _icon,\n          \"alt\": \"\",\n          \"width\": 32\n        }\n      });\n    },\n    onSuccess: function onSuccess() {\n      return new Promise(function (resolve, reject) {\n        if (success) {\n          success().then(function () {\n            resolve();\n          }).catch(function () {\n            reject();\n          });\n        } else {\n          resolve();\n        }\n      });\n    }\n  }));\n}\nvar ImportantConfirm = {\n  name: 'adv-importantconfirm',\n  props: {\n    zIndex: {\n      type: Number,\n      required: false,\n      default: Resource.Dict.value.ResourceNormalMaxZIndex.value\n    },\n    success: {\n      type: Function,\n      required: false,\n      default: function _default() {}\n    },\n    title: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    text: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    icon: {\n      type: String,\n      required: false,\n      default: _icon\n    }\n  },\n  methods: {\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      var _a = this,\n        success = _a.success,\n        title = _a.title,\n        text = _a.text,\n        zIndex = _a.zIndex,\n        icon = _a.icon;\n      open({\n        success: success,\n        title: title || intl.tv('提示'),\n        text: text || \"\".concat(intl.v('真的要执行此操作码'), \"?\"),\n        zIndex: zIndex,\n        icon: icon\n      });\n    }\n  },\n  render: function render(h) {\n    var $slots = this.$slots;\n    return h(\"div\", {\n      \"class\": selectorPrefix,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [$slots.default]);\n  }\n};\nexport default ImportantConfirm;"],"names":["__assign","__rest","MessageDialog","intl","Resource","selectorPrefix","_icon","open","_a","success","params","Confirm","title","tv","text","concat","zIndex","Dict","value","ResourceNormalMaxZIndex","icon","h","attrs","src","alt","width","onSuccess","Promise","resolve","reject","then","catch","ImportantConfirm","name","props","type","Number","required","default","Function","String","methods","onClick","e","stopPropagation","this","v","render","$slots","class","on","click"],"mappings":"MAAO,+CACA,sCACA,kDACEA,SAAUC,MAAqB,KAAP,eAC1BC,kBAAmB,8CACnBC,SAAU,uCACVC,aAAc,oCACrB,IAAIC,eAAiB,8BACjBC,MAAQ,itCACL,SAASC,KAAKC,GACnB,IAAIC,EAAUD,EAAGC,QACfC,EAAST,OAAOO,EAAI,CAAC,UAAU,EACjCN,cAAcS,QAAQX,SAASA,SAAS,GAAIU,CAAM,EAAG,CACnDE,MAAOF,EAAOE,OAAST,KAAKU,GAAG,IAAI,EACnCC,KAAMJ,EAAOI,MAAQ,GAAGC,OAAOZ,KAAKU,GAAG,WAAW,EAAG,GAAG,EACxDG,OAAQ,WAAYN,EAASA,EAAOM,OAASZ,SAASa,KAAKC,MAAMC,wBAAwBD,MACzFE,KAAM,SAAcC,GAClB,OAAOA,EAAE,MAAO,CACdC,MAAS,CACPC,IAAOb,EAAOU,MAAQd,MACtBkB,IAAO,GACPC,MAAS,EACX,CACF,CAAC,CACH,EACAC,UAAW,WACT,OAAO,IAAIC,QAAQ,SAAUC,EAASC,GAChCpB,EACFA,EAAQ,EAAEqB,KAAK,WACbF,EAAQ,CACV,CAAC,EAAEG,MAAM,WACPF,EAAO,CACT,CAAC,EAEDD,EAAQ,CAEZ,CAAC,CACH,CACF,CAAC,CAAC,CACJ,CACA,IAAII,iBAAmB,CACrBC,KAAM,uBACNC,MAAO,CACLlB,OAAQ,CACNmB,KAAMC,OACNC,SAAU,CAAA,EACVC,QAASlC,SAASa,KAAKC,MAAMC,wBAAwBD,KACvD,EACAT,QAAS,CACP0B,KAAMI,SACNF,SAAU,CAAA,EACVC,QAAS,YACX,EACA1B,MAAO,CACLuB,KAAMK,OACNH,SAAU,CAAA,EACVC,QAAS,EACX,EACAxB,KAAM,CACJqB,KAAMK,OACNH,SAAU,CAAA,EACVC,QAAS,EACX,EACAlB,KAAM,CACJe,KAAMK,OACNH,SAAU,CAAA,EACVC,QAAShC,KACX,CACF,EACAmC,QAAS,CACPC,QAAS,SAAiBC,GACxBA,EAAEC,gBAAgB,EAClB,IAAIpC,EAAKqC,KACPpC,EAAUD,EAAGC,QACbG,EAAQJ,EAAGI,MACXE,EAAON,EAAGM,KACVE,EAASR,EAAGQ,OACZI,EAAOZ,EAAGY,KACZb,KAAK,CACHE,QAASA,EACTG,MAAOA,GAAST,KAAKU,GAAG,IAAI,EAC5BC,KAAMA,GAAQ,GAAGC,OAAOZ,KAAK2C,EAAE,WAAW,EAAG,GAAG,EAChD9B,OAAQA,EACRI,KAAMA,CACR,CAAC,CACH,CACF,EACA2B,OAAQ,SAAgB1B,GACtB,IAAI2B,EAASH,KAAKG,OAClB,OAAO3B,EAAE,MAAO,CACd4B,MAAS5C,eACT6C,GAAM,CACJC,MAASN,KAAKH,OAChB,CACF,EAAG,CAACM,EAAOV,QAAQ,CACrB,CACF,iBACeN,wBAxFCzB,IAwFe"}