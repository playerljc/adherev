{"version":3,"file":"sliderscale.js","sources":["sliderscale.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar selectorPrefix = 'adherev-ui-sliderscale';\nexports.default = {\n  name: 'adv-sliderscale',\n  props: {\n    className: {\n      type: String,\n      default: ''\n    },\n    min: {\n      type: [Number, String],\n      default: 0\n    },\n    max: {\n      type: [Number, String],\n      default: 100\n    },\n    step: {\n      type: [Number, String],\n      default: 1\n    },\n    value: {\n      type: [Number, String],\n      default: 0\n    },\n    interval: {\n      type: [Number, String],\n      default: 5\n    }\n  },\n  data: function data() {\n    return {\n      $preValue: null\n    };\n  },\n  methods: {\n    touchEvent: function touchEvent(e) {\n      var _a;\n\n      var _b = this,\n          $refs = _b.$refs,\n          $preValue = _b.$data.$preValue;\n\n      var value = e.target.value;\n      (_a = $refs === null || $refs === void 0 ? void 0 : $refs.rangeEl) === null || _a === void 0 ? void 0 : _a.value = value;\n\n      if ($preValue !== value) {\n        this.$data.$preValue = value;\n        this.$emit('change', value);\n      }\n    },\n    renderScale: function renderScale(h) {\n      var _a = this,\n          min = _a.min,\n          max = _a.max,\n          interval = _a.interval;\n\n      var itResult = [];\n\n      for (var i = min; i < max; i++) {\n        if (max - 1 === min) {\n          break;\n        }\n\n        var itemJSX = null;\n\n        if ((i + 1) % interval === 0) {\n          itemJSX = h(\"div\", {\n            \"key\": i,\n            \"class\": selectorPrefix + \"-scale-item \" + selectorPrefix + \"-scale-item-point\"\n          }, [h(\"span\", {\n            \"class\": selectorPrefix + \"-scale-item-value\"\n          }, [i + 1])]);\n        } else if (i === min) {\n          itemJSX = h(\"div\", {\n            \"key\": i,\n            \"class\": selectorPrefix + \"-scale-item\"\n          }, [h(\"span\", {\n            \"class\": selectorPrefix + \"-scale-item-value\"\n          }, [min])]);\n        } else if ((i + 1) % interval !== 0 && i === max - 1) {\n          itemJSX = h(\"div\", {\n            \"key\": i,\n            \"class\": selectorPrefix + \"-scale-item\"\n          }, [h(\"span\", {\n            \"class\": selectorPrefix + \"-scale-item-value\"\n          }, [i + 1])]);\n        } else {\n          itemJSX = h(\"div\", {\n            \"key\": i,\n            \"class\": selectorPrefix + \"-scale-item\"\n          });\n        } // @ts-ignore\n\n\n        itResult.push(itemJSX);\n      }\n\n      var result = [];\n\n      if (min === max) {\n        result.push(h(\"div\", {\n          \"key\": 0,\n          \"class\": selectorPrefix + \"-scale-item\"\n        }, [h(\"span\", {\n          \"class\": selectorPrefix + \"-scale-item-value\"\n        }, [\"0\"]), h(\"span\", {\n          \"class\": selectorPrefix + \"-scale-item-value\",\n          \"style\": \"right: 0; left: auto;\"\n        }, [\"$\", max])]));\n      } else {\n        if (max - 1 === min) {\n          result.push(h(\"div\", {\n            \"key\": min,\n            \"class\": selectorPrefix + \"-scale-item\"\n          }, [h(\"span\", {\n            \"class\": selectorPrefix + \"-scale-item-value\"\n          }, [min]), h(\"span\", {\n            \"class\": selectorPrefix + \"-scale-item-value\",\n            \"style\": \"right: 0; left: auto;\"\n          }, [max])]));\n        }\n      }\n\n      return result.concat(itResult);\n    },\n    onMousemove: function onMousemove(e) {\n      this.touchEvent(e);\n    },\n    onTouchmove: function onTouchmove(e) {\n      this.touchEvent(e);\n    }\n  },\n  mounted: function mounted() {\n    var _a;\n\n    (_a = this.$refs.rangeEl) === null || _a === void 0 ? void 0 : _a.value = this.value;\n  },\n  watch: {\n    value: function value(newVal) {\n      var _a;\n\n      (_a = this.$refs.rangeEl) === null || _a === void 0 ? void 0 : _a.value = newVal;\n    }\n  },\n  render: function render(h) {\n    var _a = this,\n        className = _a.className,\n        min = _a.min,\n        max = _a.max,\n        step = _a.step;\n\n    return h(\"div\", {\n      \"class\": classnames_1.default(selectorPrefix, className.split(' ')),\n      \"ref\": \"el\"\n    }, [h(\"div\", {\n      \"class\": selectorPrefix + \"-scale\"\n    }, [this.renderScale(h)]), h(\"input\", {\n      \"ref\": \"rangeEl\",\n      \"class\": selectorPrefix + \"-range\",\n      \"attrs\": {\n        \"type\": \"range\",\n        \"min\": min,\n        \"max\": max,\n        \"step\": step\n      },\n      \"on\": {\n        \"mousemove\": this.onMousemove,\n        \"touchMove\": this.onTouchmove\n      }\n    })]);\n  }\n};"],"names":["require","__importDefault","mod","__esModule","default","Object","defineProperty","exports","value","classnames_1","selectorPrefix","name","props","className","type","String","min","Number","max","step","interval","data","$preValue","methods","touchEvent","e","$refs","this","$data","target","_a","rangeEl","$emit","renderScale","h","itResult","i","itemJSX","key","class","push","result","style","concat","onMousemove","onTouchmove","mounted","watch","newVal","render","split","ref","attrs","on","mousemove","touchMove"],"mappings":"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"}