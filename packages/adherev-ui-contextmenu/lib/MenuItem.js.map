{"version":3,"file":"MenuItem.js","sources":["MenuItem.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n// import { Fragment } from 'vue-fragment';\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar SubMenu_1 = tslib_1.__importDefault(require(\"./SubMenu\"));\nvar selectorPrefix = 'adherev-ui-contextmenu-menuitem';\nvar MenuItem = {\n  props: {\n    data: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  inject: ['getContext'],\n  computed: {\n    getClass: function getClass() {\n      var _a = this.data,\n        _b = _a.disabled,\n        disabled = _b === void 0 ? false : _b,\n        className = _a.className;\n      return (0, classnames_1.default)(selectorPrefix, disabled ? 'disabled' : '', className || '');\n    }\n  },\n  methods: {\n    renderIcon: function renderIcon(h) {\n      var icon = this.data.icon;\n      if (icon && adherev_util_1.default.isString(icon)) {\n        return h(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"), icon)\n        });\n      }\n      if (icon && adherev_util_1.default.isObject(icon)) {\n        return h(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n        }, [h(icon)]);\n      }\n      if (icon && adherev_util_1.default.isFunction(icon)) {\n        return h(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n        }, [icon.apply(void 0, tslib_1.__spreadArray([h], this.data, false))]);\n      }\n      return null;\n      /*return (\n        <ConditionalRender conditional={Util.isString(icon)}>\n          <span class={classNames(`${selectorPrefix}-icon`, icon)} />\n                  {/!*@ts-ignore*!/}\n          <Fragment slot=\"noMatch\">\n            <ConditionalRender conditional={Util.isObject(icon)}>\n              <span class={classNames(`${selectorPrefix}-icon`)}>{h(icon)}</span>\n                      {/!*@ts-ignore*!/}\n              <Fragment slot=\"noMatch\">\n                <ConditionalRender conditional={Util.isFunction(icon)}>\n                  <span class={classNames(`${selectorPrefix}-icon`)}>\n                    {Util.isFunction(icon) ? icon(h) : null}\n                  </span>\n                </ConditionalRender>\n              </Fragment>\n            </ConditionalRender>\n          </Fragment>\n        </ConditionalRender>\n      );*/\n    },\n\n    renderName: function renderName(h) {\n      var name = this.data.name;\n      if (name && adherev_util_1.default.isString(name)) {\n        return h(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [name]);\n      }\n      if (name && adherev_util_1.default.isObject(name)) {\n        return h(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [h(name)]);\n      }\n      if (name && adherev_util_1.default.isFunction(name)) {\n        return h(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [name(h, tslib_1.__assign({}, this.data))]);\n      }\n      return null;\n      /*return (\n        <ConditionalRender conditional={Util.isString(name)}>\n          <span class={classNames(`${selectorPrefix}-name`)}>{name}</span>\n                  {/!*@ts-ignore*!/}\n          <Fragment slot=\"noMatch\">\n            <ConditionalRender conditional={Util.isObject(name)}>\n              {<span class={classNames(`${selectorPrefix}-name`)}>{h(name)}</span>}\n                      {/!*@ts-ignore*!/}\n              <Fragment slot=\"noMatch\">\n                <ConditionalRender conditional={Util.isFunction(name)}>\n                  <span class={classNames(`${selectorPrefix}-name`)}>\n                    {Util.isFunction(name) ? name(h) : null}\n                  </span>\n                </ConditionalRender>\n              </Fragment>\n            </ConditionalRender>\n          </Fragment>\n        </ConditionalRender>\n      );*/\n    },\n\n    renderMore: function renderMore(h) {\n      var children = this.data.children;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": children.length !== 0\n        }\n      }, [h(\"span\", {\n        \"class\": \"\".concat(selectorPrefix, \"-more fa fa-caret-right\")\n      })]);\n    },\n    renderSubMenu: function renderSubMenu(h) {\n      var _a = this.data,\n        children = _a.children,\n        subMenuClassName = _a.subMenuClassName,\n        subMenuStyle = _a.subMenuStyle;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": children.length !== 0\n        }\n      }, [h(SubMenu_1.default, {\n        \"attrs\": {\n          \"data\": children,\n          \"className\": subMenuClassName,\n          \"styleName\": subMenuStyle\n        }\n      })]);\n    },\n    onClick: function onClick(e) {\n      var _a;\n      e.stopPropagation();\n      var _b = this.data,\n        id = _b.id,\n        attribute = _b.attribute,\n        disabled = _b.disabled,\n        children = _b.children;\n      var _c = this.getContext(),\n        config = _c.config,\n        el = _c.el;\n      var handler = config.handler;\n      if (disabled || (children || []).length > 0) return false;\n      if (handler) {\n        handler(id, attribute);\n        this.$root.$destroy();\n        (_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _a = this.data,\n      separation = _a.separation,\n      styleName = _a.styleName;\n    return h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": !separation\n      }\n    }, [h(\"li\", {\n      \"class\": this.getClass,\n      \"style\": styleName,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.renderIcon(h), this.renderName(h), this.renderMore(h), this.renderSubMenu(h)]), h(\"li\", {\n      \"slot\": \"noMatch\",\n      \"class\": \"\".concat(selectorPrefix, \"-separation\")\n    })]);\n  }\n};\nexports.default = MenuItem;"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","adherev_ui_conditionalrender_1","adherev_util_1","SubMenu_1","selectorPrefix","MenuItem","props","data","type","default","inject","computed","getClass","_a","this","_b","disabled","className","methods","renderIcon","h","icon","isString","class","concat","isObject","isFunction","apply","__spreadArray","renderName","name","__assign","renderMore","children","attrs","conditional","length","renderSubMenu","subMenuClassName","subMenuStyle","styleName","onClick","e","stopPropagation","id","attribute","_c","getContext","config","el","handler","$root","$destroy","parentElement","removeChild","render","separation","style","on","click","slot"],"mappings":"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"}