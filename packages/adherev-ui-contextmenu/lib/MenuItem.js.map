{"version":3,"file":"MenuItem.js","sources":["MenuItem.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.split.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar SubMenu_1 = tslib_1.__importDefault(require(\"./SubMenu\"));\nvar selectorPrefix = 'adherev-ui-contextmenu-menuitem';\nvar props = {\n  data: (0, vue_types_1.object)().def({})\n};\nexports.default = (0, vue_1.defineComponent)({\n  props: props,\n  setup: function setup(props) {\n    var context = (0, vue_1.inject)('context');\n    var root = (0, vue_1.inject)('root');\n    var getClass = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, props.data.disabled ? 'disabled' : '', (props.data.className || '').split(/\\s+/));\n    });\n    var renderIcon = function renderIcon() {\n      var _a, _b, _c;\n      if (props.data.icon && ((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isString) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.icon))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"), props.data.icon)\n        }, null);\n      }\n      if (props.data.icon && ((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isObject) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, props.data.icon))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n        }, [(0, vue_1.h)(props.data.icon)]);\n      }\n      if (props.data.icon && ((_c = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, props.data.icon))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n        }, [props.data.icon(vue_1.h, tslib_1.__assign({}, props.data))]);\n      }\n      return null;\n    };\n    var renderName = function renderName() {\n      var _a, _b, _c;\n      if (props.data.name && ((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isString) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.name))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [props.data.name]);\n      }\n      if (props.data.name && ((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isObject) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, props.data.name))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [(0, vue_1.h)(props.data.name)]);\n      }\n      if (props.data.name && ((_c = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, props.data.name))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [props.data.name(vue_1.h, tslib_1.__assign({}, props.data))]);\n      }\n      return null;\n    };\n    var renderMore = function renderMore() {\n      var _a, _b;\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [(0, _vue.createVNode)(\"span\", {\n              \"class\": \"\".concat(selectorPrefix, \"-more fa fa-caret-right\")\n            }, null)];\n          }\n        })\n      );\n    };\n    var renderSubMenu = function renderSubMenu() {\n      var _a, _b, _c;\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [(0, _vue.createVNode)(SubMenu_1.default, {\n              \"data\": (_c = props === null || props === void 0 ? void 0 : props.data) === null || _c === void 0 ? void 0 : _c.children,\n              \"className\": props.data.subMenuClassName,\n              \"style\": props.data.subMenuStyle\n            }, null)];\n          }\n        })\n      );\n    };\n    var onClick = function onClick(e) {\n      var _a, _b;\n      e.stopPropagation();\n      // const { config, el } = inject('getContext') as ContextReturnType;\n      var handler = context.config.handler;\n      if (props.data.disabled || (props.data.children || []).length > 0) return false;\n      if (handler) {\n        handler(props.data.id, props.data.attribute);\n        root.unmount();\n        (_b = (_a = context.el) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(context.el);\n      }\n    };\n    return function () {\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": !props.data.separation\n        }, {\n          default: function _default() {\n            return (0, _vue.createVNode)(\"li\", {\n              \"class\": getClass.value,\n              \"style\": props.data.style,\n              \"onClick\": onClick\n            }, [renderIcon(), renderName(), renderMore(), renderSubMenu()]);\n          },\n          noMatch: function noMatch() {\n            return (0, _vue.createVNode)(\"li\", {\n              \"class\": \"\".concat(selectorPrefix, \"-separation\")\n            }, null);\n          }\n        })\n      );\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","classnames_1","__importDefault","vue_1","vue_types_1","adherev_ui_conditionalrender_1","adherev_util_1","SubMenu_1","selectorPrefix","props","data","object","def","default","defineComponent","setup","onClick","e","stopPropagation","handler","context","config","disabled","children","length","id","attribute","root","unmount","_b","_a","el","parentElement","removeChild","inject","getClass","computed","className","split","createVNode","conditional","separation","class","style","icon","isString","call","concat","isObject","h","_c","isFunction","__assign","name","subMenuClassName","subMenuStyle","noMatch"],"mappings":"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"}