{"version":3,"file":"MenuItem.js","sources":["MenuItem.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar vue_fragment_1 = require(\"vue-fragment\");\n\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\n\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\n\nvar SubMenu_1 = tslib_1.__importDefault(require(\"./SubMenu\"));\n\nvar selectorPrefix = 'adherev-ui-contextmenu-menuitem';\nvar MenuItem = {\n  props: {\n    data: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  inject: ['getContext'],\n  computed: {\n    getClass: function getClass() {\n      var _a = this.data,\n          _b = _a.disabled,\n          disabled = _b === void 0 ? false : _b,\n          className = _a.className;\n      return classnames_1.default(selectorPrefix, disabled ? 'disabled' : '', (className || '').split(/\\s+/));\n    }\n  },\n  methods: {\n    renderIcon: function renderIcon(h) {\n      var icon = this.data.icon;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": adherev_util_1.default.isString(icon)\n        }\n      }, [h(\"span\", {\n        \"class\": classnames_1.default(selectorPrefix + \"-icon\", icon)\n      }), h(vue_fragment_1.Fragment, {\n        \"slot\": \"noMatch\"\n      }, [h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": adherev_util_1.default.isObject(icon)\n        }\n      }, [h(\"span\", {\n        \"class\": classnames_1.default(selectorPrefix + \"-icon\")\n      }, [h(icon)]), h(vue_fragment_1.Fragment, {\n        \"slot\": \"noMatch\"\n      }, [h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": adherev_util_1.default.isFunction(icon)\n        }\n      }, [h(\"span\", {\n        \"class\": classnames_1.default(selectorPrefix + \"-icon\")\n      }, [adherev_util_1.default.isFunction(icon) ? icon(h) : null])])])])])]);\n    },\n    renderName: function renderName(h) {\n      var name = this.data.name;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": adherev_util_1.default.isString(name)\n        }\n      }, [h(\"span\", {\n        \"class\": classnames_1.default(selectorPrefix + \"-name\")\n      }, [name]), h(vue_fragment_1.Fragment, {\n        \"slot\": \"noMatch\"\n      }, [h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": adherev_util_1.default.isObject(name)\n        }\n      }, [h(\"span\", {\n        \"class\": classnames_1.default(selectorPrefix + \"-name\")\n      }, [h(name)]), h(vue_fragment_1.Fragment, {\n        \"slot\": \"noMatch\"\n      }, [h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": adherev_util_1.default.isFunction(name)\n        }\n      }, [h(\"span\", {\n        \"class\": classnames_1.default(selectorPrefix + \"-name\")\n      }, [adherev_util_1.default.isFunction(name) ? name(h) : null])])])])])]);\n    },\n    renderMore: function renderMore(h) {\n      var children = this.data.children;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": children.length !== 0\n        }\n      }, [h(\"span\", {\n        \"class\": selectorPrefix + \"-more fa fa-caret-right\"\n      })]);\n    },\n    renderSubMenu: function renderSubMenu(h) {\n      var _a = this.data,\n          children = _a.children,\n          subMenuClassName = _a.subMenuClassName,\n          subMenuStyle = _a.subMenuStyle;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": children.length !== 0\n        }\n      }, [h(SubMenu_1.default, {\n        \"attrs\": {\n          \"data\": children,\n          \"className\": subMenuClassName,\n          \"styleName\": subMenuStyle\n        }\n      })]);\n    },\n    onClick: function onClick(e) {\n      var _a;\n\n      e.stopPropagation();\n      var _b = this.data,\n          id = _b.id,\n          attribute = _b.attribute,\n          disabled = _b.disabled,\n          children = _b.children;\n\n      var _c = this.getContext(),\n          config = _c.config,\n          el = _c.el;\n\n      var handler = config.handler;\n      if (disabled || (children || []).length > 0) return false;\n\n      if (handler) {\n        handler(id, attribute);\n        this.$root.$destroy();\n        (_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _a = this.data,\n        separation = _a.separation,\n        styleName = _a.styleName;\n    return h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": !separation\n      }\n    }, [h(\"li\", {\n      \"class\": this.getClass,\n      \"style\": styleName,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.renderIcon(h), this.renderName(h), this.renderMore(h), this.renderSubMenu(h)]), h(\"li\", {\n      \"slot\": \"noMatch\",\n      \"class\": selectorPrefix + \"-separation\"\n    })]);\n  }\n};\nexports.default = MenuItem;"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","vue_fragment_1","adherev_ui_conditionalrender_1","adherev_util_1","SubMenu_1","selectorPrefix","MenuItem","props","data","type","default","inject","computed","getClass","_a","this","_b","disabled","className","split","methods","renderIcon","h","icon","attrs","conditional","isString","class","Fragment","slot","isObject","isFunction","renderName","name","renderMore","children","length","renderSubMenu","subMenuClassName","subMenuStyle","styleName","onClick","e","stopPropagation","id","attribute","_c","getContext","config","el","handler","$root","$destroy","parentElement","removeChild","render","separation","style","on","click"],"mappings":"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"}