{"version":3,"file":"MenuItem.js","sources":["MenuItem.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.split.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.menuItemProps = void 0;\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar SubMenu_1 = tslib_1.__importDefault(require(\"./SubMenu\"));\nvar selectorPrefix = 'adherev-ui-contextmenu-menuitem';\nexports.menuItemProps = {\n  data: (0, vue_types_1.object)().def({})\n};\nexports.default = (0, vue_1.defineComponent)({\n  props: exports.menuItemProps,\n  setup: function setup(props) {\n    var context = (0, vue_1.inject)('context');\n    var root = (0, vue_1.inject)('root');\n    var getClass = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, props.data.disabled ? 'disabled' : '', (props.data.className || '').split(/\\s+/));\n    });\n    var renderIcon = function renderIcon() {\n      var _a, _b, _c;\n      if (props.data.icon && ((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isString) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.icon))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"), props.data.icon)\n        }, null);\n      }\n      if (props.data.icon && ((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isObject) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, props.data.icon))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n        }, [(0, vue_1.h)(props.data.icon)]);\n      }\n      if (props.data.icon && ((_c = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, props.data.icon))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n        }, [props.data.icon(vue_1.h, tslib_1.__assign({}, props.data))]);\n      }\n      return null;\n    };\n    var renderName = function renderName() {\n      var _a, _b, _c;\n      if (props.data.name && ((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isString) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.name))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [props.data.name]);\n      }\n      if (props.data.name && ((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isObject) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, props.data.name))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [(0, vue_1.h)(props.data.name)]);\n      }\n      if (props.data.name && ((_c = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, props.data.name))) {\n        return (0, _vue.createVNode)(\"span\", {\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n        }, [props.data.name(vue_1.h, tslib_1.__assign({}, props.data))]);\n      }\n      return null;\n    };\n    var renderMore = function renderMore() {\n      var _a, _b;\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [(0, _vue.createVNode)(\"span\", {\n              \"class\": \"\".concat(selectorPrefix, \"-more fa fa-caret-right\")\n            }, null)];\n          }\n        })\n      );\n    };\n    var renderSubMenu = function renderSubMenu() {\n      var _a, _b, _c;\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [(0, _vue.createVNode)(SubMenu_1.default, {\n              \"data\": (_c = props === null || props === void 0 ? void 0 : props.data) === null || _c === void 0 ? void 0 : _c.children,\n              \"className\": props.data.subMenuClassName,\n              \"style\": props.data.subMenuStyle\n            }, null)];\n          }\n        })\n      );\n    };\n    var onClick = function onClick(e) {\n      var _a, _b;\n      e.stopPropagation();\n      // const { config, el } = inject('getContext') as ContextReturnType;\n      var handler = context.config.handler;\n      if (props.data.disabled || (props.data.children || []).length > 0) return false;\n      if (handler) {\n        handler(props.data.id, props.data.attribute);\n        root.unmount();\n        (_b = (_a = context.el) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(context.el);\n      }\n    };\n    return function () {\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": !props.data.separation\n        }, {\n          default: function _default() {\n            return (0, _vue.createVNode)(\"li\", {\n              \"class\": getClass.value,\n              \"style\": props.data.style,\n              \"onClick\": onClick\n            }, [renderIcon(), renderName(), renderMore(), renderSubMenu()]);\n          },\n          noMatch: function noMatch() {\n            return (0, _vue.createVNode)(\"li\", {\n              \"class\": \"\".concat(selectorPrefix, \"-separation\")\n            }, null);\n          }\n        })\n      );\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","menuItemProps","classnames_1","__importDefault","vue_1","vue_types_1","adherev_ui_conditionalrender_1","adherev_util_1","SubMenu_1","selectorPrefix","data","object","def","default","defineComponent","props","setup","onClick","e","stopPropagation","handler","context","config","disabled","children","length","id","attribute","root","unmount","_b","_a","el","parentElement","removeChild","inject","getClass","computed","className","split","createVNode","conditional","separation","class","style","icon","isString","call","concat","isObject","h","_c","isFunction","__assign","name","subMenuClassName","subMenuStyle","noMatch"],"mappings":"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"}