{"version":3,"file":"MenuItem.js","sources":["MenuItem.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar adherev_ui_conditionalrender_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_util_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-util\"));\nvar classnames_1 = (0, tslib_1.__importDefault)(require(\"classnames\"));\n\nvar vue_1 = require(\"vue\");\n\nvar vue_types_1 = require(\"vue-types\");\n\nvar SubMenu_1 = (0, tslib_1.__importDefault)(require(\"./SubMenu\"));\nvar selectorPrefix = 'adherev-ui-contextmenu-menuitem';\nvar props = {\n  data: (0, vue_types_1.object)().def({})\n};\nexports.default = (0, vue_1.defineComponent)({\n  props: props,\n  setup: function setup(props) {\n    var context = (0, vue_1.inject)('context');\n    var root = (0, vue_1.inject)('root');\n    var getClass = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, props.data.disabled ? 'disabled' : '', (props.data.className || '').split(/\\s+/));\n    });\n\n    var renderIcon = function renderIcon() {\n      var _a;\n\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": (_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isString) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.icon)\n        }, {\n          // @ts-ignore\n          default: function _default() {\n            return (0, _vue.createVNode)(\"span\", {\n              \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"), props.data.icon)\n            }, null);\n          },\n          noMatch: function noMatch() {\n            var _a;\n\n            return (// @ts-ignore\n              (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n                \"conditional\": (_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isObject) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.icon)\n              }, {\n                default: function _default() {\n                  return (// @ts-ignore\n                    (0, _vue.createVNode)(\"span\", {\n                      \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n                    }, [(0, vue_1.h)(props.data.icon)])\n                  );\n                },\n                noMatch: function noMatch() {\n                  var _a, _b;\n\n                  return (// @ts-ignore\n                    (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n                      \"conditional\": (_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.icon)\n                    }, {\n                      default: function _default() {\n                        return [(0, _vue.createVNode)(\"span\", {\n                          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"))\n                        }, [((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, props.data.icon)) ? props.data.icon() : null])];\n                      }\n                    })\n                  );\n                }\n              })\n            );\n          }\n        })\n      );\n    };\n\n    var renderName = function renderName() {\n      var _a;\n\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": (_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isString) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.name)\n        }, {\n          default: function _default() {\n            return (// @ts-ignore\n              (0, _vue.createVNode)(\"span\", {\n                \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n              }, [props.data.name])\n            );\n          },\n          noMatch: function noMatch() {\n            var _a;\n\n            return (// @ts-ignore\n              (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n                \"conditional\": (_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isObject) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.name)\n              }, {\n                default: function _default() {\n                  return (// @ts-ignore\n                    (0, _vue.createVNode)(\"span\", {\n                      \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n                    }, [(0, vue_1.h)(props.data.name)])\n                  );\n                },\n                noMatch: function noMatch() {\n                  var _a, _b;\n\n                  return (// @ts-ignore\n                    (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n                      \"conditional\": (_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, props.data.name)\n                    }, {\n                      default: function _default() {\n                        return [(0, _vue.createVNode)(\"span\", {\n                          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-name\"))\n                        }, [((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, props.data.name)) ? props.data.name() : null])];\n                      }\n                    })\n                  );\n                }\n              })\n            );\n          }\n        })\n      );\n    };\n\n    var renderMore = function renderMore() {\n      var _a, _b;\n\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [(0, _vue.createVNode)(\"span\", {\n              \"class\": \"\".concat(selectorPrefix, \"-more fa fa-caret-right\")\n            }, null)];\n          }\n        })\n      );\n    };\n\n    var renderSubMenu = function renderSubMenu() {\n      var _a, _b, _c;\n\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [(0, _vue.createVNode)(SubMenu_1.default, {\n              \"data\": (_c = props === null || props === void 0 ? void 0 : props.data) === null || _c === void 0 ? void 0 : _c.children,\n              \"className\": props.data.subMenuClassName,\n              \"style\": props.data.subMenuStyle\n            }, null)];\n          }\n        })\n      );\n    };\n\n    var onClick = function onClick(e) {\n      var _a, _b;\n\n      e.stopPropagation(); // const { config, el } = inject('getContext') as ContextReturnType;\n\n      var handler = context.config.handler;\n      if (props.data.disabled || (props.data.children || []).length > 0) return false;\n\n      if (handler) {\n        handler(props.data.id, props.data.attribute);\n        root.unmount();\n        (_b = (_a = context.el) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(context.el);\n      }\n    };\n\n    return function () {\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": !props.data.separation\n        }, {\n          default: function _default() {\n            return (// @ts-ignore\n              (0, _vue.createVNode)(\"li\", {\n                \"class\": getClass.value,\n                \"style\": props.data.style,\n                \"onClick\": onClick\n              }, [renderIcon(), renderName(), renderMore(), renderSubMenu()])\n            );\n          },\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return (0, _vue.createVNode)(\"li\", {\n              \"class\": \"\".concat(selectorPrefix, \"-separation\")\n            }, null);\n          }\n        })\n      );\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","adherev_ui_conditionalrender_1","__importDefault","adherev_util_1","classnames_1","vue_1","vue_types_1","SubMenu_1","selectorPrefix","props","data","object","def","default","defineComponent","setup","onClick","e","stopPropagation","handler","context","config","disabled","children","length","id","attribute","root","unmount","_b","_a","el","parentElement","removeChild","inject","getClass","computed","className","split","createVNode","conditional","separation","class","style","isString","call","icon","concat","noMatch","isObject","h","isFunction","name","_c","subMenuClassName","subMenuStyle"],"mappings":"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"}