{"version":3,"file":"Menu.js","sources":["Menu.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.split.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.menuProps = void 0;\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar MenuItem_1 = tslib_1.__importDefault(require(\"./MenuItem\"));\nvar selectorPrefix = 'adherev-ui-contextmenu-submenu';\nexports.menuProps = {\n  data: (0, vue_types_1.array)().def([]),\n  className: (0, vue_types_1.string)().def(''),\n  style: (0, vue_types_1.object)().def({})\n};\nexports.default = (0, vue_1.defineComponent)({\n  props: exports.menuProps,\n  setup: function setup(props, _a) {\n    var expose = _a.expose;\n    var el = (0, vue_1.ref)(null);\n    var context = (0, vue_1.inject)('context');\n    var getStyle = (0, vue_1.computed)(function () {\n      return tslib_1.__assign(tslib_1.__assign({}, props.style), {\n        width: \"\".concat(context.config.width, \"px\"),\n        zIndex: 99999 * 2 + 1\n      });\n    });\n    var getClass = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, (props.className || '').split(/\\s+/));\n    });\n    var mount = function mount() {\n      var _a, _b;\n      var x = context.config.x;\n      var y = context.config.y;\n      var menuWidth = (_a = el.value) === null || _a === void 0 ? void 0 : _a.offsetWidth;\n      var menuHeight = (_b = el.value) === null || _b === void 0 ? void 0 : _b.offsetHeight;\n      var clientWidth = document.body.clientWidth || document.documentElement.clientWidth;\n      var clientHeight = document.body.clientHeight || document.documentElement.clientHeight;\n      if (clientWidth - x < menuWidth) {\n        x = clientWidth - menuWidth;\n      }\n      if (clientHeight - y < menuHeight) {\n        y = clientHeight - menuHeight;\n      }\n      el.value.style.left = \"\".concat(x, \"px\");\n      el.value.style.top = \"\".concat(y, \"px\");\n    };\n    var renderItems = function renderItems() {\n      return props.data.map(function (item) {\n        return (0, _vue.createVNode)(MenuItem_1.default, {\n          \"key\": item.id,\n          \"data\": item\n        }, null);\n      });\n    };\n    expose({\n      mount: mount\n    });\n    return function () {\n      return (0, _vue.createVNode)(\"ul\", {\n        \"class\": getClass.value,\n        \"style\": getStyle.value,\n        \"ref\": el\n      }, [renderItems()]);\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","menuProps","classnames_1","__importDefault","vue_1","vue_types_1","MenuItem_1","selectorPrefix","data","array","def","className","string","style","object","default","defineComponent","props","setup","_a","expose","el","ref","context","inject","getStyle","computed","__assign","width","concat","config","zIndex","getClass","split","mount","x","y","menuWidth","offsetWidth","menuHeight","_b","offsetHeight","clientWidth","document","body","documentElement","clientHeight","left","top","createVNode","class","map","item","key","id"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EASpBC,SARJD,QAAQ,8CAA8C,EACtDA,QAAQ,mCAAmC,EAC3CA,QAAQ,oCAAoC,EAC5CA,QAAQ,iCAAiC,EACzCE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACDD,QAAQE,UAAY,KAAA,EACNN,QAAQ,OAAO,GACzBO,aAAeN,QAAQO,gBAAgBR,QAAQ,YAAY,CAAC,EAC5DS,MAAQT,QAAQ,KAAK,EACrBU,YAAcV,QAAQ,WAAW,EACjCW,WAAaV,QAAQO,gBAAgBR,QAAQ,YAAY,CAAC,EAC1DY,eAAiB,iCACrBR,QAAQE,UAAY,CAClBO,MAAM,EAAIH,YAAYI,OAAO,EAAEC,IAAI,EAAE,EACrCC,WAAW,EAAIN,YAAYO,QAAQ,EAAEF,IAAI,EAAE,EAC3CG,OAAO,EAAIR,YAAYS,QAAQ,EAAEJ,IAAI,EAAE,CACzC,EACAX,QAAQgB,SAAU,EAAIX,MAAMY,iBAAiB,CAC3CC,MAAOlB,QAAQE,UACfiB,MAAO,SAAeD,EAAOE,GAC3B,IAAIC,EAASD,EAAGC,OACZC,GAAK,EAAIjB,MAAMkB,KAAK,IAAI,EACxBC,GAAU,EAAInB,MAAMoB,QAAQ,SAAS,EACrCC,GAAW,EAAIrB,MAAMsB,UAAU,WACjC,OAAO9B,QAAQ+B,SAAS/B,QAAQ+B,SAAS,GAAIV,EAAMJ,KAAK,EAAG,CACzDe,MAAO,GAAGC,OAAON,EAAQO,OAAOF,MAAO,IAAI,EAC3CG,OAAQ,MACV,CAAC,CACH,CAAC,EACGC,GAAW,EAAI5B,MAAMsB,UAAU,WACjC,OAAO,EAAIxB,aAAaa,SAASR,gBAAiBU,EAAMN,WAAa,IAAIsB,MAAM,KAAK,CAAC,CACvF,CAAC,EA6BD,OAHAb,EAAO,CACLc,MA1BU,WACV,IACIC,EAAIZ,EAAQO,OAAOK,EACnBC,EAAIb,EAAQO,OAAOM,EACnBC,EAAY,OAAClB,EAAKE,EAAGrB,OAAmC,KAAA,EAASmB,EAAGmB,YACpEC,EAAa,OAACC,EAAKnB,EAAGrB,OAAmC,KAAA,EAASwC,EAAGC,aACrEC,EAAcC,SAASC,KAAKF,aAAeC,SAASE,gBAAgBH,YACpEI,EAAeH,SAASC,KAAKE,cAAgBH,SAASE,gBAAgBC,aAItEA,EAAeV,EAAIG,IACrBH,EAAIU,EAAeP,GAErBlB,EAAGrB,MAAMa,MAAMkC,KAAO,GAAGlB,OALvBM,EADEO,EAAcP,EAAIE,EAChBK,EAAcL,EAKYF,EAAG,IAAI,EACvCd,EAAGrB,MAAMa,MAAMmC,IAAM,GAAGnB,OAAOO,EAAG,IAAI,CACxC,CAWA,CAAC,EACM,WACL,OAAO,EAAI1C,KAAKuD,aAAa,KAAM,CACjCC,MAASlB,EAAShC,MAClBa,MAASY,EAASzB,MAClBsB,IAAOD,CACT,EAAG,CAfIJ,EAAMT,KAAK2C,IAAI,SAAUC,GAC9B,OAAO,EAAI1D,KAAKuD,aAAa3C,WAAWS,QAAS,CAC/CsC,IAAOD,EAAKE,GACZ9C,KAAQ4C,CACV,EAAG,IAAI,CACT,CAAC,EAUiB,CACpB,CACF,CACF,CAAC"}