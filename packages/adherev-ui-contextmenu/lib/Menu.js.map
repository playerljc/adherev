{"version":3,"file":"Menu.js","sources":["Menu.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar MenuItem_1 = tslib_1.__importDefault(require(\"./MenuItem\"));\n\nvar selectorPrefix = 'adherev-ui-contextmenu-submenu';\nvar Menu = {\n  props: {\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    className: {\n      type: String,\n      default: ''\n    },\n    styleName: {\n      type: String,\n      default: ''\n    }\n  },\n  inject: ['getContext'],\n  methods: {\n    mount: function mount() {\n      var _a = this.getContext().config,\n          x = _a.x,\n          y = _a.y;\n      var el = this.$refs.el;\n      var menuWidth = el === null || el === void 0 ? void 0 : el.offsetWidth;\n      var menuHeight = el === null || el === void 0 ? void 0 : el.offsetHeight;\n      var clientWidth = document.body.clientWidth || document.documentElement.clientWidth;\n      var clientHeight = document.body.clientHeight || document.documentElement.clientHeight; // console.log(\n      //   'x',\n      //   x,\n      //   'y',\n      //   y,\n      //   'menuWidth',\n      //   menuWidth,\n      //   'menuHeight',\n      //   menuHeight,\n      //   'clientWidth',\n      //   clientWidth,\n      //   'clientHeight',\n      //   clientHeight,\n      // );\n\n      if (clientWidth - x < menuWidth) {\n        x = clientWidth - menuWidth;\n      }\n\n      if (clientHeight - y < menuHeight) {\n        y = clientHeight - menuHeight;\n      }\n\n      el.style.left = x + \"px\";\n      el.style.top = y + \"px\";\n    },\n    renderItems: function renderItems(h) {\n      var _a = this.data,\n          data = _a === void 0 ? [] : _a; // @ts-ignore\n\n      return data.map(function (item) {\n        return h(MenuItem_1.default, {\n          \"key\": item.id,\n          \"attrs\": {\n            \"data\": item\n          }\n        });\n      });\n    }\n  },\n  computed: {\n    getStyle: function getStyle() {\n      var styleName = this.styleName;\n      var width = this.getContext().config.width;\n      return styleName + \"width:\" + width + \"px;z-index:\" + (99999 * 2 + 1);\n    },\n    getClass: function getClass() {\n      var className = this.className;\n      return classnames_1.default(selectorPrefix, (className || '').split(/\\s+/));\n    }\n  },\n  render: function render(h) {\n    return h(\"ul\", {\n      \"class\": this.getClass,\n      \"style\": this.getStyle,\n      \"ref\": \"el\"\n    }, [this.renderItems(h)]);\n  }\n};\nexports.default = Menu;"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","MenuItem_1","selectorPrefix","Menu","props","data","type","Array","default","className","String","styleName","inject","methods","mount","_a","this","getContext","config","x","y","el","$refs","menuWidth","offsetWidth","menuHeight","offsetHeight","clientWidth","document","body","documentElement","clientHeight","style","left","top","renderItems","h","map","item","key","id","attrs","computed","getStyle","width","getClass","split","render","class","ref"],"mappings":"aAEAA,QAAQ,gDAERA,QAAQ,mCAERA,QAAQ,qCAERA,QAAQ,sCAERC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIC,QAAUL,QAAQ,SAElBM,aAAeD,QAAQE,gBAAgBP,QAAQ,eAE/CQ,WAAaH,QAAQE,gBAAgBP,QAAQ,eAE7CS,eAAiB,iCACjBC,KAAO,CACTC,MAAO,CACLC,KAAM,CACJC,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXC,UAAW,CACTH,KAAMI,OACNF,QAAS,IAEXG,UAAW,CACTL,KAAMI,OACNF,QAAS,KAGbI,OAAQ,CAAC,cACTC,QAAS,CACPC,MAAO,WACL,IAAIC,EAAKC,KAAKC,aAAaC,OACvBC,EAAIJ,EAAGI,EACPC,EAAIL,EAAGK,EACPC,EAAKL,KAAKM,MAAMD,GAChBE,EAAYF,MAAAA,OAA+B,EAASA,EAAGG,YACvDC,EAAaJ,MAAAA,OAA+B,EAASA,EAAGK,aACxDC,EAAcC,SAASC,KAAKF,aAAeC,SAASE,gBAAgBH,YACpEI,EAAeH,SAASC,KAAKE,cAAgBH,SAASE,gBAAgBC,aAmBtEA,EAAeX,EAAIK,IACrBL,EAAIW,EAAeN,GAGrBJ,EAAGW,MAAMC,MAPPd,EADEQ,EAAcR,EAAII,EAChBI,EAAcJ,EAOJJ,GAAI,KACpBE,EAAGW,MAAME,IAAMd,EAAI,MAErBe,YAAa,SAAqBC,GAChC,IAAIrB,EAAKC,KAAKX,KAGd,YAFkB,IAAPU,EAAgB,GAAKA,GAEpBsB,IAAI,SAAUC,GACxB,OAAOF,EAAEnC,WAAWO,QAAS,CAC3B+B,IAAOD,EAAKE,GACZC,MAAS,CACPpC,KAAQiC,SAMlBI,SAAU,CACRC,SAAU,WAGR,OAFgB3B,KAAKL,UAEF,SADPK,KAAKC,aAAaC,OAAO0B,MACC,qBAExCC,SAAU,WACR,IAAIpC,EAAYO,KAAKP,UACrB,OAAOV,aAAaS,QAAQN,gBAAiBO,GAAa,IAAIqC,MAAM,UAGxEC,OAAQ,SAAgBX,GACtB,OAAOA,EAAE,KAAM,CACbY,MAAShC,KAAK6B,SACdb,MAAShB,KAAK2B,SACdM,IAAO,MACN,CAACjC,KAAKmB,YAAYC,OAGzBxC,QAAQY,QAAUL"}