{"version":3,"file":"Menu.js","sources":["Menu.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = (0, tslib_1.__importDefault)(require(\"classnames\"));\n\nvar vue_1 = require(\"vue\");\n\nvar vue_types_1 = require(\"vue-types\");\n\nvar MenuItem_1 = (0, tslib_1.__importDefault)(require(\"./MenuItem\"));\nvar selectorPrefix = 'adherev-ui-contextmenu-submenu';\nvar props = {\n  data: (0, vue_types_1.array)().def([]),\n  className: (0, vue_types_1.string)().def(''),\n  style: (0, vue_types_1.object)().def({})\n};\nexports.default = (0, vue_1.defineComponent)({\n  props: props,\n  setup: function setup(props, _a) {\n    var expose = _a.expose;\n    var el = (0, vue_1.ref)(null);\n    var context = (0, vue_1.inject)('context');\n    var getStyle = (0, vue_1.computed)(function () {\n      return (0, tslib_1.__assign)((0, tslib_1.__assign)({}, props.style), {\n        width: \"\".concat(context.config.width, \"px\"),\n        zIndex: 99999 * 2 + 1\n      });\n    });\n    var getClass = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, (props.className || '').split(/\\s+/));\n    });\n\n    var mount = function mount() {\n      var _a, _b, _c, _d, _e, _f;\n\n      var x = context.config.x;\n      var y = context.config.y;\n      var menuWidth = (_a = el.value) === null || _a === void 0 ? void 0 : _a.offsetWidth;\n      var menuHeight = (_b = el.value) === null || _b === void 0 ? void 0 : _b.offsetHeight;\n      var clientWidth = document.body.clientWidth || document.documentElement.clientWidth;\n      var clientHeight = document.body.clientHeight || document.documentElement.clientHeight;\n\n      if (clientWidth - x < menuWidth) {\n        x = clientWidth - menuWidth;\n      }\n\n      if (clientHeight - y < menuHeight) {\n        y = clientHeight - menuHeight;\n      } // @ts-ignore\n\n\n      (_d = (_c = el.value) === null || _c === void 0 ? void 0 : _c.style) === null || _d === void 0 ? void 0 : _d.left = \"\".concat(x, \"px\"); // @ts-ignore\n\n      (_f = (_e = el.value) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.top = \"\".concat(y, \"px\");\n    };\n\n    var renderItems = function renderItems() {\n      // @ts-ignore\n      return props.data.map(function (item) {\n        return (0, _vue.createVNode)(MenuItem_1.default, {\n          \"key\": item.id,\n          \"data\": item\n        }, null);\n      });\n    };\n\n    expose({\n      mount: mount\n    });\n    return function () {\n      return (// @ts-ignore\n        (0, _vue.createVNode)(\"ul\", {\n          \"class\": getClass.value,\n          \"style\": getStyle.value,\n          \"ref\": el\n        }, [renderItems()])\n      );\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","classnames_1","__importDefault","vue_1","vue_types_1","MenuItem_1","selectorPrefix","props","data","array","def","className","string","style","object","default","defineComponent","setup","_a","expose","el","ref","context","inject","getStyle","computed","__assign","width","concat","config","zIndex","getClass","split","mount","x","y","menuWidth","offsetWidth","menuHeight","_b","offsetHeight","clientWidth","document","body","documentElement","clientHeight","_d","_c","left","_f","_e","top","createVNode","class","map","item","key","id"],"mappings":"aAEA,IAAIA,KAAOC,QAAQ,OAcfC,SAZJD,QAAQ,gDAERA,QAAQ,qCAERA,QAAQ,sCAERA,QAAQ,mCAERE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAGKL,QAAQ,UAElBM,cAAe,EAAIL,QAAQM,iBAAiBP,QAAQ,eAEpDQ,MAAQR,QAAQ,OAEhBS,YAAcT,QAAQ,aAEtBU,YAAa,EAAIT,QAAQM,iBAAiBP,QAAQ,eAClDW,eAAiB,iCACjBC,MAAQ,CACVC,MAAM,EAAIJ,YAAYK,SAASC,IAAI,IACnCC,WAAW,EAAIP,YAAYQ,UAAUF,IAAI,IACzCG,OAAO,EAAIT,YAAYU,UAAUJ,IAAI,KAEvCX,QAAQgB,SAAU,EAAIZ,MAAMa,iBAAiB,CAC3CT,MAAOA,MACPU,MAAO,SAAeV,EAAOW,GAC3B,IAAIC,EAASD,EAAGC,OACZC,GAAK,EAAIjB,MAAMkB,KAAK,MACpBC,GAAU,EAAInB,MAAMoB,QAAQ,WAC5BC,GAAW,EAAIrB,MAAMsB,UAAU,WACjC,OAAO,EAAI7B,QAAQ8B,WAAU,EAAI9B,QAAQ8B,UAAU,GAAInB,EAAMM,OAAQ,CACnEc,MAAO,GAAGC,OAAON,EAAQO,OAAOF,MAAO,MACvCG,OAAQ,WAGRC,GAAW,EAAI5B,MAAMsB,UAAU,WACjC,OAAO,EAAIxB,aAAac,SAAST,gBAAiBC,EAAMI,WAAa,IAAIqB,MAAM,UAwCjF,OAHAb,EAAO,CACLc,MAnCU,WACV,IAEIC,EAAIZ,EAAQO,OAAOK,EACnBC,EAAIb,EAAQO,OAAOM,EACnBC,EAAgC,QAAnBlB,EAAKE,EAAGpB,aAA0B,IAAPkB,OAAgB,EAASA,EAAGmB,YACpEC,EAAiC,QAAnBC,EAAKnB,EAAGpB,aAA0B,IAAPuC,OAAgB,EAASA,EAAGC,aACrEC,EAAcC,SAASC,KAAKF,aAAeC,SAASE,gBAAgBH,YACpEI,EAAeH,SAASC,KAAKE,cAAgBH,SAASE,gBAAgBC,aAEtEJ,EAAcP,EAAIE,IACpBF,EAAIO,EAAcL,GAGhBS,EAAeV,EAAIG,IACrBH,EAAIU,EAAeP,GAIoD,QAAxEQ,EAAyB,QAAnBC,EAAK3B,EAAGpB,aAA0B,IAAP+C,OAAgB,EAASA,EAAGlC,aAA0B,IAAPiC,IAAyBA,EAAGE,KAAO,GAAGpB,OAAOM,EAAG,OAExD,QAAxEe,EAAyB,QAAnBC,EAAK9B,EAAGpB,aAA0B,IAAPkD,OAAgB,EAASA,EAAGrC,aAA0B,IAAPoC,IAAyBA,EAAGE,IAAM,GAAGvB,OAAOO,EAAG,UAgB3H,WACL,OACE,EAAIzC,KAAK0D,aAAa,KAAM,CAC1BC,MAAStB,EAAS/B,MAClBa,MAASW,EAASxB,MAClBqB,IAAOD,GACN,CAjBEb,EAAMC,KAAK8C,IAAI,SAAUC,GAC9B,OAAO,EAAI7D,KAAK0D,aAAa/C,WAAWU,QAAS,CAC/CyC,IAAOD,EAAKE,GACZjD,KAAQ+C,GACP"}