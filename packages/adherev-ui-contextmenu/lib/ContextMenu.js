"use strict";require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0});var globalConfig,tslib_1=require("tslib"),vue_1=tslib_1.__importDefault(require("vue")),Menu_1=tslib_1.__importDefault(require("./Menu")),selectorPrefix="adherev-ui-contextmenu",ContextMenuComponent={props:{data:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){}},el:{type:HTMLElement,default:function(){return null}}},provide:function(){return{getContext:this.getContext}},computed:{getStyle:function(){return"z-index: ".concat(19998)}},methods:{getContext:function(){return{config:this.config,el:this.el}},mount:function(){var e;null!=(e=this.$refs.menuIns)&&e.mount()},onClick:function(e){e.stopPropagation(),this.$destroy();e=this.el;e.parentElement.removeChild(e)},onContextMenu:function(e){e.preventDefault(),this.$destroy();e=this.el;e.parentElement.removeChild(e)}},render:function(e){var t=this.data,n=this.config;return e("div",{class:selectorPrefix,style:this.getStyle,on:{click:this.onClick,contextMenu:this.onContextMenu}},[e(Menu_1.default,{attrs:{data:void 0===t?[]:t,className:n.className,styleName:n.styleName},ref:"menuIns"})])}},ContextMenu={setConfig:function(e){globalConfig=e},open:function(t,n){n=tslib_1.__assign({width:200,maskClosable:!0},n);var o=document.createElement("div"),e=document.createElement("div"),i=(o.appendChild(e),document.body.appendChild(o),new vue_1.default(tslib_1.__assign(tslib_1.__assign({},globalConfig||{}),{mounted:function(){this.$refs.ref.mount()},render:function(e){return e(ContextMenuComponent,{props:{data:t,config:n,el:o},ref:"ref"})}})));return i.$mount(e),{vm:i,el:o}},close:function(e){var t,n=e.vm,e=e.el;n.$destroy(),null!=(t=null==(n=null==e?void 0:e.parentElement)?void 0:n.removeChild)&&t.call(n,e)}};exports.default=ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
