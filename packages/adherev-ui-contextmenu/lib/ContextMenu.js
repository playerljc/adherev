"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),vue_1=require("vue"),vue_types_1=require("vue-types"),Menu_1=(0,tslib_1.__importDefault)(require("./Menu")),selectorPrefix="adherev-ui-contextmenu",props={data:(0,vue_types_1.array)().def([]),config:(0,vue_types_1.object)().def(),el:(0,vue_types_1.object)().def()},ContextMenuComponent=(0,vue_1.defineComponent)({props:props,setup:function(t,e){function n(e){var n;e.stopPropagation(),null!==(n=null===(e=null===(e=t.el)||void 0===e?void 0:e.parentElement)||void 0===e?void 0:e.removeChild)&&void 0!==n&&n.call(e,t.el)}function o(e){var n;e.preventDefault(),null!==(n=null===(e=null===(e=t.el)||void 0===e?void 0:e.parentElement)||void 0===e?void 0:e.removeChild)&&void 0!==n&&n.call(e,t.el)}var e=e.expose,u=(0,vue_1.ref)(null),l=(0,vue_1.reactive)({config:t.config,el:t.el}),r=(0,vue_1.computed)(function(){return{zIndex:19998}}),i=((0,vue_1.onMounted)(function(){return i()}),function(){return u.value.mount()});return(0,vue_1.provide)("context",l),e({mount:i}),function(){return(0,_vue.createVNode)("div",{class:selectorPrefix,style:r.value,onClick:n,onContextMenu:o},[(0,_vue.createVNode)(Menu_1.default,{data:t.data,className:t.config.className,style:t.config.style,ref:u},null)])}}}),ContextMenu={open:function(n,e){var t=(0,tslib_1.__assign)((0,tslib_1.__assign)({},e),{width:200,maskClosable:!0}),o=document.createElement("div"),u=(document.body.appendChild(o),(0,vue_1.createApp)({setup:function(){var e=(0,vue_1.ref)(null);return(0,vue_1.onMounted)(function(){e.value.mount()}),(0,vue_1.provide)("root",{unmount:function(){var n;console.log("app",u,o);try{u.unmount()}catch(e){null!==(n=null===o||void 0===o?void 0:o.parentElement)&&void 0!==n&&n.removeChild(o)}}}),function(){return(0,_vue.createVNode)(ContextMenuComponent,{ref:e,data:n,config:t,el:o},null)}}}).mount(o));return{vm:u,el:o}},close:function(n){var t=n.vm,n=n.el;try{t.unmount()}catch(e){null!==(t=null===n||void 0===n?void 0:n.parentElement)&&void 0!==t&&t.removeChild(n)}}};exports.default=ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
