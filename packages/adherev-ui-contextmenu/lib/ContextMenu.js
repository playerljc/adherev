"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),vue_1=require("vue"),vue_types_1=require("vue-types"),Menu_1=tslib_1.__importDefault(require("./Menu")),selectorPrefix="adherev-ui-contextmenu",props={data:(0,vue_types_1.array)().def([]),config:(0,vue_types_1.object)().def(),el:(0,vue_types_1.object)().def()},ContextMenuComponent=(0,vue_1.defineComponent)({props:props,setup:function(t,e){function n(e){var n;e.stopPropagation(),null!=(n=null==(e=null==(e=t.el)?void 0:e.parentElement)?void 0:e.removeChild)&&n.call(e,t.el)}function o(e){var n;e.preventDefault(),null!=(n=null==(e=null==(e=t.el)?void 0:e.parentElement)?void 0:e.removeChild)&&n.call(e,t.el)}function u(){return l.value.mount()}var e=e.expose,l=(0,vue_1.ref)(null),r=(0,vue_1.reactive)({config:t.config,el:t.el}),i=(0,vue_1.computed)(function(){return{zIndex:19998}});return(0,vue_1.provide)("context",r),e({mount:u}),(0,vue_1.onMounted)(u),function(){return(0,_vue.createVNode)("div",{class:selectorPrefix,style:i.value,onClick:n,onContextmenu:o},[(0,_vue.createVNode)(Menu_1.default,{data:t.data,className:t.config.className,style:t.config.style,ref:l},null)])}}}),globalConfig=null,ContextMenu={open:function(n,e){var t=tslib_1.__assign(tslib_1.__assign({},e),{width:200,maskClosable:!0}),o=document.createElement("div"),u=(document.body.appendChild(o),(0,vue_1.createApp)({setup:function(){var e=(0,vue_1.ref)(null);return(0,vue_1.onMounted)(function(){e.value.mount()}),(0,vue_1.provide)("root",{unmount:function(){var n;try{u.unmount()}catch(e){null!=(n=null==o?void 0:o.parentElement)&&n.removeChild(o)}}}),function(){return(0,_vue.createVNode)(ContextMenuComponent,{ref:e,data:n,config:t,el:o},null)}}}));return globalConfig&&null!=(e=null==globalConfig?void 0:globalConfig.beforeMount)&&e.call(globalConfig,u),u.mount(o),{vm:u,el:o}},close:function(n){var t=n.vm,n=n.el;try{t.unmount()}catch(e){null!=(t=null==n?void 0:n.parentElement)&&t.removeChild(n)}},setConfig:function(e){globalConfig=e}};exports.default=ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
