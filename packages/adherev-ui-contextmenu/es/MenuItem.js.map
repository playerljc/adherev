{"version":3,"file":"MenuItem.js","sources":["MenuItem.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport Util from '@baifendian/adherev-util';\nimport classNames from 'classnames';\nimport { computed, defineComponent, h, inject } from 'vue';\nimport { object } from 'vue-types';\nimport SubMenu from './SubMenu';\nvar selectorPrefix = 'adherev-ui-contextmenu-menuitem';\nvar props = {\n  data: object().def({})\n};\nexport default defineComponent({\n  props: props,\n  setup: function setup(props) {\n    var context = inject('context');\n    var root = inject('root');\n    var getClass = computed(function () {\n      return classNames(selectorPrefix, props.data.disabled ? 'disabled' : '', (props.data.className || '').split(/\\s+/));\n    });\n\n    var renderIcon = function renderIcon() {\n      var _a;\n\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": (_a = Util === null || Util === void 0 ? void 0 : Util.isString) === null || _a === void 0 ? void 0 : _a.call(Util, props.data.icon)\n        }, {\n          // @ts-ignore\n          default: function _default() {\n            return _createVNode(\"span\", {\n              \"class\": classNames(\"\".concat(selectorPrefix, \"-icon\"), props.data.icon)\n            }, null);\n          },\n          noMatch: function noMatch() {\n            var _a;\n\n            return (// @ts-ignore\n              _createVNode(ConditionalRender, {\n                \"conditional\": (_a = Util === null || Util === void 0 ? void 0 : Util.isObject) === null || _a === void 0 ? void 0 : _a.call(Util, props.data.icon)\n              }, {\n                default: function _default() {\n                  return (// @ts-ignore\n                    _createVNode(\"span\", {\n                      \"class\": classNames(\"\".concat(selectorPrefix, \"-icon\"))\n                    }, [h(props.data.icon)])\n                  );\n                },\n                noMatch: function noMatch() {\n                  var _a, _b;\n\n                  return (// @ts-ignore\n                    _createVNode(ConditionalRender, {\n                      \"conditional\": (_a = Util === null || Util === void 0 ? void 0 : Util.isFunction) === null || _a === void 0 ? void 0 : _a.call(Util, props.data.icon)\n                    }, {\n                      default: function _default() {\n                        return [_createVNode(\"span\", {\n                          \"class\": classNames(\"\".concat(selectorPrefix, \"-icon\"))\n                        }, [((_b = Util === null || Util === void 0 ? void 0 : Util.isFunction) === null || _b === void 0 ? void 0 : _b.call(Util, props.data.icon)) ? props.data.icon() : null])];\n                      }\n                    })\n                  );\n                }\n              })\n            );\n          }\n        })\n      );\n    };\n\n    var renderName = function renderName() {\n      var _a;\n\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": (_a = Util === null || Util === void 0 ? void 0 : Util.isString) === null || _a === void 0 ? void 0 : _a.call(Util, props.data.name)\n        }, {\n          default: function _default() {\n            return (// @ts-ignore\n              _createVNode(\"span\", {\n                \"class\": classNames(\"\".concat(selectorPrefix, \"-name\"))\n              }, [props.data.name])\n            );\n          },\n          noMatch: function noMatch() {\n            var _a;\n\n            return (// @ts-ignore\n              _createVNode(ConditionalRender, {\n                \"conditional\": (_a = Util === null || Util === void 0 ? void 0 : Util.isObject) === null || _a === void 0 ? void 0 : _a.call(Util, props.data.name)\n              }, {\n                default: function _default() {\n                  return (// @ts-ignore\n                    _createVNode(\"span\", {\n                      \"class\": classNames(\"\".concat(selectorPrefix, \"-name\"))\n                    }, [h(props.data.name)])\n                  );\n                },\n                noMatch: function noMatch() {\n                  var _a, _b;\n\n                  return (// @ts-ignore\n                    _createVNode(ConditionalRender, {\n                      \"conditional\": (_a = Util === null || Util === void 0 ? void 0 : Util.isFunction) === null || _a === void 0 ? void 0 : _a.call(Util, props.data.name)\n                    }, {\n                      default: function _default() {\n                        return [_createVNode(\"span\", {\n                          \"class\": classNames(\"\".concat(selectorPrefix, \"-name\"))\n                        }, [((_b = Util === null || Util === void 0 ? void 0 : Util.isFunction) === null || _b === void 0 ? void 0 : _b.call(Util, props.data.name)) ? props.data.name() : null])];\n                      }\n                    })\n                  );\n                }\n              })\n            );\n          }\n        })\n      );\n    };\n\n    var renderMore = function renderMore() {\n      var _a, _b;\n\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [_createVNode(\"span\", {\n              \"class\": \"\".concat(selectorPrefix, \"-more fa fa-caret-right\")\n            }, null)];\n          }\n        })\n      );\n    };\n\n    var renderSubMenu = function renderSubMenu() {\n      var _a, _b, _c;\n\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": ((_b = (_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.length) !== 0\n        }, {\n          default: function _default() {\n            return [_createVNode(SubMenu, {\n              \"data\": (_c = props === null || props === void 0 ? void 0 : props.data) === null || _c === void 0 ? void 0 : _c.children,\n              \"className\": props.data.subMenuClassName,\n              \"style\": props.data.subMenuStyle\n            }, null)];\n          }\n        })\n      );\n    };\n\n    var onClick = function onClick(e) {\n      var _a, _b;\n\n      e.stopPropagation(); // const { config, el } = inject('getContext') as ContextReturnType;\n\n      var handler = context.config.handler;\n      if (props.data.disabled || (props.data.children || []).length > 0) return false;\n\n      if (handler) {\n        handler(props.data.id, props.data.attribute);\n        root.unmount();\n        (_b = (_a = context.el) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(context.el);\n      }\n    };\n\n    return function () {\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": !props.data.separation\n        }, {\n          default: function _default() {\n            return (// @ts-ignore\n              _createVNode(\"li\", {\n                \"class\": getClass.value,\n                \"style\": props.data.style,\n                \"onClick\": onClick\n              }, [renderIcon(), renderName(), renderMore(), renderSubMenu()])\n            );\n          },\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return _createVNode(\"li\", {\n              \"class\": \"\".concat(selectorPrefix, \"-separation\")\n            }, null);\n          }\n        })\n      );\n    };\n  }\n});"],"names":["_createVNode","ConditionalRender","Util","classNames","computed","defineComponent","h","inject","object","SubMenu","selectorPrefix","props","data","def","setup","onClick","e","stopPropagation","handler","context","config","disabled","children","length","id","attribute","root","unmount","_b","_a","el","parentElement","removeChild","getClass","className","split","conditional","separation","default","class","value","style","isString","call","icon","concat","noMatch","isObject","isFunction","name","_c","subMenuClassName","subMenuStyle"],"mappings":"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"}