import"core-js/modules/es.function.name.js";import{__assign,__spreadArrays}from"tslib";import classNames from"classnames";import ConditionalRender from"@baifendian/adherev-ui-conditionalrender";import Util from"@baifendian/adherev-util";import SubMenu from"./SubMenu";var selectorPrefix="adherev-ui-contextmenu-menuitem",MenuItem={props:{data:{type:Object,default:function(){return{}}}},inject:["getContext"],computed:{getClass:function(){var e=this.data,t=e.disabled,t=void 0!==t&&t,e=e.className;return classNames(selectorPrefix,t?"disabled":"",e||"")}},methods:{renderIcon:function(e){var t=this.data.icon;return t&&Util.isString(t)?e("span",{class:classNames(selectorPrefix+"-icon",t)}):t&&Util.isObject(t)?e("span",{class:classNames(selectorPrefix+"-icon")},[e(t)]):t&&Util.isFunction(t)?e("span",{class:classNames(selectorPrefix+"-icon")},[t.apply(void 0,__spreadArrays([e],this.data))]):null},renderName:function(e){var t=this.data.name;return t&&Util.isString(t)?e("span",{class:classNames(selectorPrefix+"-name")},[t]):t&&Util.isObject(t)?e("span",{class:classNames(selectorPrefix+"-name")},[e(t)]):t&&Util.isFunction(t)?e("span",{class:classNames(selectorPrefix+"-name")},[t(e,__assign({},this.data))]):null},renderMore:function(e){var t=this.data.children;return e(ConditionalRender,{attrs:{conditional:0!==t.length}},[e("span",{class:selectorPrefix+"-more fa fa-caret-right"})])},renderSubMenu:function(e){var t=this.data,s=t.children,a=t.subMenuClassName,t=t.subMenuStyle;return e(ConditionalRender,{attrs:{conditional:0!==s.length}},[e(SubMenu,{attrs:{data:s,className:a,styleName:t}})])},onClick:function(e){e.stopPropagation();var t=this.data,s=t.id,a=t.attribute,n=t.disabled,i=t.children,e=this.getContext(),t=e.config,e=e.el,t=t.handler;if(n||0<(i||[]).length)return!1;t&&(t(s,a),this.$root.$destroy(),null!==(a=null==e?void 0:e.parentElement)&&void 0!==a&&a.removeChild(e))}},render:function(e){var t=this.data,s=t.separation,t=t.styleName;return e(ConditionalRender,{attrs:{conditional:!s}},[e("li",{class:this.getClass,style:t,on:{click:this.onClick}},[this.renderIcon(e),this.renderName(e),this.renderMore(e),this.renderSubMenu(e)]),e("li",{slot:"noMatch",class:selectorPrefix+"-separation"})])}};export default MenuItem;
//# sourceMappingURL=MenuItem.js.map
