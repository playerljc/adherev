{"version":3,"file":"Menu.js","sources":["Menu.js"],"sourcesContent":["import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport classNames from 'classnames';\nimport MenuItem from './MenuItem';\nvar selectorPrefix = 'adherev-ui-contextmenu-submenu';\nvar Menu = {\n  props: {\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    className: {\n      type: String,\n      default: ''\n    },\n    styleName: {\n      type: String,\n      default: ''\n    }\n  },\n  inject: ['getContext'],\n  methods: {\n    mount: function mount() {\n      var _a = this.getContext().config,\n        x = _a.x,\n        y = _a.y;\n      var el = this.$refs.el;\n      var menuWidth = el === null || el === void 0 ? void 0 : el.offsetWidth;\n      var menuHeight = el === null || el === void 0 ? void 0 : el.offsetHeight;\n      var clientWidth = document.body.clientWidth || document.documentElement.clientWidth;\n      var clientHeight = document.body.clientHeight || document.documentElement.clientHeight;\n      // console.log(\n      //   'x',\n      //   x,\n      //   'y',\n      //   y,\n      //   'menuWidth',\n      //   menuWidth,\n      //   'menuHeight',\n      //   menuHeight,\n      //   'clientWidth',\n      //   clientWidth,\n      //   'clientHeight',\n      //   clientHeight,\n      // );\n      if (clientWidth - x < menuWidth) {\n        x = clientWidth - menuWidth;\n      }\n      if (clientHeight - y < menuHeight) {\n        y = clientHeight - menuHeight;\n      }\n      el.style.left = \"\".concat(x, \"px\");\n      el.style.top = \"\".concat(y, \"px\");\n    },\n    renderItems: function renderItems(h) {\n      var _a = this.data,\n        data = _a === void 0 ? [] : _a;\n      // @ts-ignore\n      return data.map(function (item) {\n        return h(MenuItem, {\n          \"key\": item.id,\n          \"attrs\": {\n            \"data\": item\n          }\n        });\n      });\n    }\n  },\n  computed: {\n    getStyle: function getStyle() {\n      var styleName = this.styleName;\n      var width = this.getContext().config.width;\n      return \"\".concat(styleName, \"width:\").concat(width, \"px;z-index:\").concat(99999 * 2 + 1);\n    },\n    getClass: function getClass() {\n      var className = this.className;\n      return classNames(selectorPrefix, className || '');\n    }\n  },\n  render: function render(h) {\n    return h(\"ul\", {\n      \"class\": this.getClass,\n      \"style\": this.getStyle,\n      \"ref\": \"el\"\n    }, [this.renderItems(h)]);\n  }\n};\nexport default Menu;"],"names":["classNames","MenuItem","selectorPrefix","Menu","props","data","type","Array","default","className","String","styleName","inject","methods","mount","_a","this","getContext","config","x","y","el","$refs","menuWidth","offsetWidth","menuHeight","offsetHeight","clientWidth","document","body","documentElement","clientHeight","style","left","concat","top","renderItems","h","map","item","key","id","attrs","computed","getStyle","width","getClass","render","class","ref"],"mappings":"MAAO,wCACA,4CACAA,eAAgB,oBAChBC,aAAc,aACrB,IAAIC,eAAiB,iCACjBC,KAAO,CACTC,MAAO,CACLC,KAAM,CACJC,KAAMC,MACNC,QAAS,WACP,MAAO,EACT,CACF,EACAC,UAAW,CACTH,KAAMI,OACNF,QAAS,EACX,EACAG,UAAW,CACTL,KAAMI,OACNF,QAAS,EACX,CACF,EACAI,OAAQ,CAAC,cACTC,QAAS,CACPC,MAAO,WACL,IAAIC,EAAKC,KAAKC,WAAW,EAAEC,OACzBC,EAAIJ,EAAGI,EACPC,EAAIL,EAAGK,EACLC,EAAKL,KAAKM,MAAMD,GAChBE,EAAYF,MAAAA,EAA+B,KAAA,EAASA,EAAGG,YACvDC,EAAaJ,MAAAA,EAA+B,KAAA,EAASA,EAAGK,aACxDC,EAAcC,SAASC,KAAKF,aAAeC,SAASE,gBAAgBH,YACpEI,EAAeH,SAASC,KAAKE,cAAgBH,SAASE,gBAAgBC,aAkBtEA,EAAeX,EAAIK,IACrBL,EAAIW,EAAeN,GAErBJ,EAAGW,MAAMC,KAAO,GAAGC,OALjBf,EADEQ,EAAcR,EAAII,EAChBI,EAAcJ,EAKMJ,EAAG,IAAI,EACjCE,EAAGW,MAAMG,IAAM,GAAGD,OAAOd,EAAG,IAAI,CAClC,EACAgB,YAAa,SAAqBC,GAChC,IAAItB,EAAKC,KAAKX,KAGd,OAFgB,KAAA,IAAPU,EAAgB,GAAKA,GAElBuB,IAAI,SAAUC,GACxB,OAAOF,EAAEpC,SAAU,CACjBuC,IAAOD,EAAKE,GACZC,MAAS,CACPrC,KAAQkC,CACV,CACF,CAAC,CACH,CAAC,CACH,CACF,EACAI,SAAU,CACRC,SAAU,WACR,IAAIjC,EAAYK,KAAKL,UACjBkC,EAAQ7B,KAAKC,WAAW,EAAEC,OAAO2B,MACrC,MAAO,GAAGX,OAAOvB,EAAW,QAAQ,EAAEuB,OAAOW,EAAO,aAAa,EAAEX,OAAO,MAAa,CACzF,EACAY,SAAU,WACR,IAAIrC,EAAYO,KAAKP,UACrB,OAAOT,WAAWE,eAAgBO,GAAa,EAAE,CACnD,CACF,EACAsC,OAAQ,SAAgBV,GACtB,OAAOA,EAAE,KAAM,CACbW,MAAShC,KAAK8B,SACdd,MAAShB,KAAK4B,SACdK,IAAO,IACT,EAAG,CAACjC,KAAKoB,YAAYC,CAAC,EAAE,CAC1B,CACF,iBACelC"}