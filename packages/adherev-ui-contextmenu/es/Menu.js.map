{"version":3,"file":"Menu.js","sources":["Menu.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { __assign } from \"tslib\";\nimport classNames from 'classnames';\nimport { computed, defineComponent, inject, ref } from 'vue';\nimport { array, object, string } from 'vue-types';\nimport MenuItem from './MenuItem';\nvar selectorPrefix = 'adherev-ui-contextmenu-submenu';\nexport var menuProps = {\n  data: array().def([]),\n  className: string().def(''),\n  style: object().def({})\n};\nexport default defineComponent({\n  props: menuProps,\n  setup: function setup(props, _a) {\n    var expose = _a.expose;\n    var el = ref(null);\n    var context = inject('context');\n    var getStyle = computed(function () {\n      return __assign(__assign({}, props.style), {\n        width: \"\".concat(context.config.width, \"px\"),\n        zIndex: 99999 * 2 + 1\n      });\n    });\n    var getClass = computed(function () {\n      return classNames(selectorPrefix, (props.className || '').split(/\\s+/));\n    });\n    var mount = function mount() {\n      var _a, _b;\n      var x = context.config.x;\n      var y = context.config.y;\n      var menuWidth = (_a = el.value) === null || _a === void 0 ? void 0 : _a.offsetWidth;\n      var menuHeight = (_b = el.value) === null || _b === void 0 ? void 0 : _b.offsetHeight;\n      var clientWidth = document.body.clientWidth || document.documentElement.clientWidth;\n      var clientHeight = document.body.clientHeight || document.documentElement.clientHeight;\n      if (clientWidth - x < menuWidth) {\n        x = clientWidth - menuWidth;\n      }\n      if (clientHeight - y < menuHeight) {\n        y = clientHeight - menuHeight;\n      }\n      el.value.style.left = \"\".concat(x, \"px\");\n      el.value.style.top = \"\".concat(y, \"px\");\n    };\n    var renderItems = function renderItems() {\n      return props.data.map(function (item) {\n        return _createVNode(MenuItem, {\n          \"key\": item.id,\n          \"data\": item\n        }, null);\n      });\n    };\n    expose({\n      mount: mount\n    });\n    return function () {\n      return _createVNode(\"ul\", {\n        \"class\": getClass.value,\n        \"style\": getStyle.value,\n        \"ref\": el\n      }, [renderItems()]);\n    };\n  }\n});"],"names":["_createVNode","__assign","classNames","computed","defineComponent","inject","ref","array","object","string","MenuItem","selectorPrefix","menuProps","data","def","className","style","props","setup","_a","expose","el","context","getStyle","width","concat","config","zIndex","getClass","split","mount","x","y","menuWidth","value","offsetWidth","menuHeight","_b","offsetHeight","clientWidth","document","body","documentElement","clientHeight","left","top","class","map","item","key","id"],"mappings":"OAAwBA,2BAAyB,KAAL,YACrC,0CACA,2CACA,yCACEC,QAAuB,KAAP,eAClBC,eAAgB,oBACdC,SAAUC,gBAAiBC,OAAQC,GAAgB,KAAL,aAC9CC,MAAOC,OAAQC,MAAyB,KAAX,mBAC/BC,aAAc,aACrB,IAAIC,eAAiB,iCACVC,UAAY,CACrBC,KAAMN,MAAM,EAAEO,IAAI,EAAE,EACpBC,UAAWN,OAAO,EAAEK,IAAI,EAAE,EAC1BE,MAAOR,OAAO,EAAEM,IAAI,EAAE,CACxB,iBACeV,gBAAgB,CAC7Ba,MAAOL,UACPM,MAAO,SAAeD,EAAOE,GAC3B,IAAIC,EAASD,EAAGC,OACZC,EAAKf,IAAI,IAAI,EACbgB,EAAUjB,OAAO,SAAS,EAC1BkB,EAAWpB,SAAS,WACtB,OAAOF,SAASA,SAAS,GAAIgB,EAAMD,KAAK,EAAG,CACzCQ,MAAO,GAAGC,OAAOH,EAAQI,OAAOF,MAAO,IAAI,EAC3CG,OAAQ,MACV,CAAC,CACH,CAAC,EACGC,EAAWzB,SAAS,WACtB,OAAOD,WAAWS,gBAAiBM,EAAMF,WAAa,IAAIc,MAAM,KAAK,CAAC,CACxE,CAAC,EA6BD,OAHAT,EAAO,CACLU,MA1BU,WACV,IACIC,EAAIT,EAAQI,OAAOK,EACnBC,EAAIV,EAAQI,OAAOM,EACnBC,EAAY,OAACd,EAAKE,EAAGa,OAAmC,KAAA,EAASf,EAAGgB,YACpEC,EAAa,OAACC,EAAKhB,EAAGa,OAAmC,KAAA,EAASG,EAAGC,aACrEC,EAAcC,SAASC,KAAKF,aAAeC,SAASE,gBAAgBH,YACpEI,EAAeH,SAASC,KAAKE,cAAgBH,SAASE,gBAAgBC,aAItEA,EAAeX,EAAII,IACrBJ,EAAIW,EAAeP,GAErBf,EAAGa,MAAMlB,MAAM4B,KAAO,GAAGnB,OALvBM,EADEQ,EAAcR,EAAIE,EAChBM,EAAcN,EAKYF,EAAG,IAAI,EACvCV,EAAGa,MAAMlB,MAAM6B,IAAM,GAAGpB,OAAOO,EAAG,IAAI,CACxC,CAWA,CAAC,EACM,WACL,OAAOhC,aAAa,KAAM,CACxB8C,MAASlB,EAASM,MAClBlB,MAASO,EAASW,MAClB5B,IAAOe,CACT,EAAG,CAfIJ,EAAMJ,KAAKkC,IAAI,SAAUC,GAC9B,OAAOhD,aAAaU,SAAU,CAC5BuC,IAAOD,EAAKE,GACZrC,KAAQmC,CACV,EAAG,IAAI,CACT,CAAC,EAUiB,CACpB,CACF,CACF,CAAC,SAxDUpC,SAwDT"}