{"version":3,"file":"Menu.js","sources":["Menu.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { __assign } from \"tslib\";\nimport classNames from 'classnames';\nimport { computed, defineComponent, inject, ref } from 'vue';\nimport { array, object, string } from 'vue-types';\nimport MenuItem from './MenuItem';\nvar selectorPrefix = 'adherev-ui-contextmenu-submenu';\nvar props = {\n  data: array().def([]),\n  className: string().def(''),\n  style: object().def({})\n};\nexport default defineComponent({\n  props: props,\n  setup: function setup(props, _a) {\n    var expose = _a.expose;\n    var el = ref(null);\n    var context = inject('context');\n    var getStyle = computed(function () {\n      return __assign(__assign({}, props.style), {\n        width: \"\".concat(context.config.width, \"px\"),\n        zIndex: 99999 * 2 + 1\n      });\n    });\n    var getClass = computed(function () {\n      return classNames(selectorPrefix, (props.className || '').split(/\\s+/));\n    });\n\n    var mount = function mount() {\n      var _a, _b, _c, _d, _e, _f;\n\n      var x = context.config.x;\n      var y = context.config.y;\n      var menuWidth = (_a = el.value) === null || _a === void 0 ? void 0 : _a.offsetWidth;\n      var menuHeight = (_b = el.value) === null || _b === void 0 ? void 0 : _b.offsetHeight;\n      var clientWidth = document.body.clientWidth || document.documentElement.clientWidth;\n      var clientHeight = document.body.clientHeight || document.documentElement.clientHeight;\n\n      if (clientWidth - x < menuWidth) {\n        x = clientWidth - menuWidth;\n      }\n\n      if (clientHeight - y < menuHeight) {\n        y = clientHeight - menuHeight;\n      } // @ts-ignore\n\n\n      (_d = (_c = el.value) === null || _c === void 0 ? void 0 : _c.style) === null || _d === void 0 ? void 0 : _d.left = \"\".concat(x, \"px\"); // @ts-ignore\n\n      (_f = (_e = el.value) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.top = \"\".concat(y, \"px\");\n    };\n\n    var renderItems = function renderItems() {\n      // @ts-ignore\n      return props.data.map(function (item) {\n        return _createVNode(MenuItem, {\n          \"key\": item.id,\n          \"data\": item\n        }, null);\n      });\n    };\n\n    expose({\n      mount: mount\n    });\n    return function () {\n      return (// @ts-ignore\n        _createVNode(\"ul\", {\n          \"class\": getClass.value,\n          \"style\": getStyle.value,\n          \"ref\": el\n        }, [renderItems()])\n      );\n    };\n  }\n});"],"names":["_createVNode","__assign","classNames","computed","defineComponent","inject","ref","array","object","string","MenuItem","selectorPrefix","props","data","def","className","style","setup","_a","expose","el","context","getStyle","width","concat","config","zIndex","getClass","split","mount","x","y","menuWidth","value","offsetWidth","menuHeight","_b","offsetHeight","clientWidth","document","body","documentElement","clientHeight","_d","_c","left","_f","_e","top","class","map","item","key","id"],"mappings":"OAAwBA,0KAIfC,4BACFC,mCACEC,SAAUC,gBAAiBC,OAAQC,qBACnCC,MAAOC,OAAQC,8BACjBC,0BACP,IAAIC,eAAiB,iCACjBC,MAAQ,CACVC,KAAMN,QAAQO,IAAI,IAClBC,UAAWN,SAASK,IAAI,IACxBE,MAAOR,SAASM,IAAI,oBAEPV,gBAAgB,CAC7BQ,MAAOA,MACPK,MAAO,SAAeL,EAAOM,GAC3B,IAAIC,EAASD,EAAGC,OACZC,EAAKd,IAAI,MACTe,EAAUhB,OAAO,WACjBiB,EAAWnB,SAAS,WACtB,OAAOF,SAASA,SAAS,GAAIW,EAAMI,OAAQ,CACzCO,MAAO,GAAGC,OAAOH,EAAQI,OAAOF,MAAO,MACvCG,OAAQ,WAGRC,EAAWxB,SAAS,WACtB,OAAOD,WAAWS,gBAAiBC,EAAMG,WAAa,IAAIa,MAAM,UAwClE,OAHAT,EAAO,CACLU,MAnCU,WACV,IAEIC,EAAIT,EAAQI,OAAOK,EACnBC,EAAIV,EAAQI,OAAOM,EACnBC,EAAgC,QAAnBd,EAAKE,EAAGa,aAA0B,IAAPf,OAAgB,EAASA,EAAGgB,YACpEC,EAAiC,QAAnBC,EAAKhB,EAAGa,aAA0B,IAAPG,OAAgB,EAASA,EAAGC,aACrEC,EAAcC,SAASC,KAAKF,aAAeC,SAASE,gBAAgBH,YACpEI,EAAeH,SAASC,KAAKE,cAAgBH,SAASE,gBAAgBC,aAEtEJ,EAAcR,EAAIE,IACpBF,EAAIQ,EAAcN,GAGhBU,EAAeX,EAAII,IACrBJ,EAAIW,EAAeP,GAIoD,QAAxEQ,EAAyB,QAAnBC,EAAKxB,EAAGa,aAA0B,IAAPW,OAAgB,EAASA,EAAG5B,aAA0B,IAAP2B,IAAyBA,EAAGE,KAAO,GAAGrB,OAAOM,EAAG,OAExD,QAAxEgB,EAAyB,QAAnBC,EAAK3B,EAAGa,aAA0B,IAAPc,OAAgB,EAASA,EAAG/B,aAA0B,IAAP8B,IAAyBA,EAAGE,IAAM,GAAGxB,OAAOO,EAAG,UAgB3H,WACL,OACE/B,aAAa,KAAM,CACjBiD,MAAStB,EAASM,MAClBjB,MAASM,EAASW,MAClB3B,IAAOc,GACN,CAjBER,EAAMC,KAAKqC,IAAI,SAAUC,GAC9B,OAAOnD,aAAaU,SAAU,CAC5B0C,IAAOD,EAAKE,GACZxC,KAAQsC,GACP"}