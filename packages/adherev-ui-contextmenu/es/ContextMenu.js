import{__assign}from"tslib";import Vue from"vue";import Menu from"./Menu";var globalConfig,selectorPrefix="adherev-ui-contextmenu",ContextMenuComponent={props:{data:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){}},el:{type:HTMLElement,default:function(){return null}}},provide:function(){return{getContext:this.getContext}},computed:{getStyle:function(){return"z-index: 19998"}},methods:{getContext:function(){return{config:this.config,el:this.el}},mount:function(){var e;null!==(e=this.$refs.menuIns)&&void 0!==e&&e.mount()},onClick:function(e){e.stopPropagation(),this.$destroy();e=this.el;e.parentElement.removeChild(e)},onContextMenu:function(e){e.preventDefault(),this.$destroy();e=this.el;e.parentElement.removeChild(e)}},render:function(e){var t=this.data,n=void 0===t?[]:t,t=this.config;return e("div",{class:selectorPrefix,style:this.getStyle,on:{click:this.onClick,contextMenu:this.onContextMenu}},[e(Menu,{attrs:{data:n,className:t.className,styleName:t.styleName},ref:"menuIns"})])}},ContextMenu={setConfig:function(e){globalConfig=e},open:function(t,n){n=__assign({width:200,maskClosable:!0},n);var o=document.createElement("div"),e=document.createElement("div");o.appendChild(e),document.body.appendChild(o);var i=new Vue(__assign(__assign({},globalConfig||{}),{mounted:function(){this.$refs.ref.mount()},render:function(e){return e(ContextMenuComponent,{props:{data:t,config:n,el:o},ref:"ref"})}}));return i.$mount(e),{vm:i,el:o}},close:function(e){var t=e.vm,n=e.el;t.$destroy(),null!==(t=null===(e=null==n?void 0:n.parentElement)||void 0===e?void 0:e.removeChild)&&void 0!==t&&t.call(e,n)}};export default ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
