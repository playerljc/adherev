{"version":3,"file":"surnames.js","sources":["surnames.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport classNames from 'classnames';\nimport { computed, defineComponent, onBeforeUnmount, onMounted, onUpdated, ref } from 'vue';\nimport { array, string } from 'vue-types';\nimport Util from '@baifendian/adherev-util';\nvar selectorPrefix = 'adherev-ui-surnames';\nvar DURATION = 100;\nvar positionType;\n(function (positionType) {\n  positionType[\"top\"] = \"top\";\n  positionType[\"right\"] = \"right\";\n  positionType[\"bottom\"] = \"bottom\";\n  positionType[\"left\"] = \"left\";\n})(positionType || (positionType = {}));\nvar surnamesProps = {\n  position: string().def(positionType.right),\n  indexes: array().def([]),\n  dataSource: array().def([])\n};\nexport default defineComponent({\n  name: 'adv-surnames',\n  props: surnamesProps,\n  slots: ['index', 'title', 'content'],\n  emits: ['scroll', 'before-scroll'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots,\n      emit = _a.emit,\n      expose = _a.expose;\n    var root = ref();\n    var highlightedEl = ref();\n    var contentEl = ref();\n    var indexEl = ref();\n    var indexInnerEl = ref();\n    var key = false;\n    var isMouseClicked = false;\n    var isMouseMoved = false;\n    var startY = -1;\n    var startX = -1;\n    var curIndexName = '';\n    var indexPositionMap = [];\n    var maskEl = null;\n    var getClassName = computed(function () {\n      return classNames(selectorPrefix, \"\".concat(selectorPrefix, \"-config-position-\").concat(props.position));\n    });\n    var onClick = function onClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      clickDetail(e);\n    };\n    var onTouchmove = function onTouchmove(e) {\n      var _a;\n      e.preventDefault();\n      var y = e.changedTouches[0].pageY;\n      var x = e.changedTouches[0].pageX;\n      var target = e.target;\n      var indexItemEl = (_a = Util.getTopDom) === null || _a === void 0 ? void 0 : _a.call(Util, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      curIndexName = indexItemEl === null || indexItemEl === void 0 ? void 0 : indexItemEl.dataset.name;\n      moveDetail(x, y);\n    };\n    var onTouchend = function onTouchend() {\n      highlightedEl.value.style.display = 'none';\n      highlightedEl.value.innerText = '';\n      highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n    };\n    var onMousedown = function onMousedown(e) {\n      var _a;\n      e.preventDefault();\n      startY = e.pageY;\n      startX = e.pageX;\n      var target = e.target;\n      var indexItemEl = (_a = Util.getTopDom) === null || _a === void 0 ? void 0 : _a.call(Util, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      // console.log('按下获取索引名称', indexItemEl.dataset.name);\n      curIndexName = indexItemEl === null || indexItemEl === void 0 ? void 0 : indexItemEl.dataset.name;\n      isMouseClicked = true;\n    };\n    var onMousemove = function onMousemove(e) {\n      if (!isMouseClicked) return false;\n      isMouseMoved = true;\n      e.preventDefault();\n      var y = e.pageY;\n      var x = e.pageX;\n      moveDetail(x, y);\n    };\n    var onMouseleave = function onMouseleave() {\n      isMouseClicked = false;\n      isMouseMoved = false;\n      highlightedEl.value.style.display = 'none';\n      highlightedEl.value.innerText = '';\n      highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n    };\n    var onMouseup = function onMouseup(e) {\n      if (isMouseMoved) {\n        isMouseClicked = false;\n        isMouseMoved = false;\n        highlightedEl.value.style.display = 'none';\n        highlightedEl.value.innerText = '';\n        highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n        return false;\n      }\n      e.preventDefault();\n      clickDetail(e);\n    };\n    var onResize = function onResize() {\n      return update();\n    };\n    var clickDetail = function clickDetail(e) {\n      var _a, _b;\n      var target = e.target;\n      e.preventDefault();\n      if (key) {\n        return false;\n      }\n      key = true;\n      maskEl.style.display = 'block';\n      var targetEl = (_a = Util.getTopDom) === null || _a === void 0 ? void 0 : _a.call(Util, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      scrollToAnimation((_b = targetEl === null || targetEl === void 0 ? void 0 : targetEl.dataset) === null || _b === void 0 ? void 0 : _b.name);\n    };\n    var moveDetail = function moveDetail(x, y) {\n      var index = findIndex(x, y);\n      if (index) {\n        highlightedEl.value.innerText = index.name;\n        highlightedEl.value.style.display = 'block';\n        var direction = getDirection();\n        if (direction === 'vertical') {\n          var translateY = index.offsetTop + Math.floor(index.height / 2);\n          highlightedEl.value.style.transform = \"translate3d(0,\".concat(translateY, \"px,0)\");\n        } else {\n          var translateX = index.offsetLeft + index.width;\n          highlightedEl.value.style.transform = \"translate3d(\".concat(translateX, \"px,0,0)\");\n        }\n        scrollTo(index.name);\n      }\n    };\n    var initEvent = function initEvent() {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      if ((_a = Util.isTouch) === null || _a === void 0 ? void 0 : _a.call(Util)) {\n        (_b = indexInnerEl.value) === null || _b === void 0 ? void 0 : _b.addEventListener('click', onClick);\n        // 索引touchmove和mousemove\n        (_c = indexInnerEl.value) === null || _c === void 0 ? void 0 : _c.addEventListener('touchmove', onTouchmove);\n        (_d = indexInnerEl.value) === null || _d === void 0 ? void 0 : _d.addEventListener('touchend', onTouchend);\n      } else {\n        (_e = indexInnerEl.value) === null || _e === void 0 ? void 0 : _e.addEventListener('mousedown', onMousedown);\n        (_f = indexInnerEl.value) === null || _f === void 0 ? void 0 : _f.addEventListener('mousemove', onMousemove);\n        (_g = indexInnerEl.value) === null || _g === void 0 ? void 0 : _g.addEventListener('mouseleave', onMouseleave);\n        (_h = indexInnerEl.value) === null || _h === void 0 ? void 0 : _h.addEventListener('mouseup', onMouseup);\n        window.addEventListener('resize', onResize);\n      }\n    };\n    var adapterDimension = function adapterDimension() {\n      var _a;\n      var direction = getDirection();\n      if (direction === 'vertical') {\n        root.value.style.height = \"\".concat(((_a = indexInnerEl.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) + 50, \"px\");\n        root.value.style.width = '100%';\n      } else {\n        root.value.style.height = '100%';\n      }\n    };\n    var createIndexPosition = function createIndexPosition() {\n      var _a;\n      var indexItemEls = (_a = indexInnerEl.value) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".\".concat(selectorPrefix, \"-index-item\"));\n      indexPositionMap = [];\n      // 计算每一项距离视口的top和bottom\n      for (var i = 0; i < indexItemEls.length; i++) {\n        var indexItemEl = indexItemEls[i];\n        var indexName = indexItemEl.dataset.name;\n        var rect = indexItemEl.getBoundingClientRect();\n        indexPositionMap.push({\n          name: indexName,\n          top: rect.top,\n          bottom: rect.bottom,\n          left: rect.left,\n          right: rect.right,\n          offsetTop: indexItemEl.offsetTop,\n          offsetLeft: indexItemEl.offsetLeft,\n          width: indexItemEl.offsetWidth,\n          height: indexItemEl.offsetHeight\n        });\n      }\n    };\n    var createMask = function createMask() {\n      var el = document.createElement('div');\n      el.innerHTML = \"<div class='\".concat(selectorPrefix, \"-mask'></div>\");\n      maskEl = el.firstElementChild;\n      document.body.appendChild(maskEl);\n    };\n    var scrollToAnimation = function scrollToAnimation(name, duration) {\n      var _a, _b, _c;\n      if (duration === void 0) {\n        duration = 100;\n      }\n      var targetEl = (_a = contentEl.value) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(selectorPrefix, \"-group-title[data-name='\").concat(name, \"']\"));\n      var scrollVal = (_b = contentEl.value) === null || _b === void 0 ? void 0 : _b.scrollTop;\n      var targetTop = targetEl.offsetTop;\n      // @ts-ignore\n      var updateInterval = screen.updateInterval;\n      var step = ((_c = root.value) === null || _c === void 0 ? void 0 : _c.scrollHeight) / ((DURATION | duration) / (updateInterval || 16.7) + ((DURATION | duration) % (updateInterval || 16.7) !== 0 ? 1 : 0));\n      /**\n       * scrollAnimation\n       */\n      function scrollAnimation() {\n        var _a, _b;\n        if (((_a = contentEl.value) === null || _a === void 0 ? void 0 : _a.scrollTop) < targetTop) {\n          if (scrollVal + step > targetTop) {\n            scrollVal = targetTop;\n          } else {\n            scrollVal += step;\n          }\n        } else if (scrollVal - step < targetTop) {\n          scrollVal = targetTop;\n        } else {\n          scrollVal -= step;\n        }\n        contentEl.value.scrollTop = scrollVal;\n        if (((_b = contentEl.value) === null || _b === void 0 ? void 0 : _b.scrollTop) < targetTop) {\n          if (scrollVal >= targetTop) {\n            clear();\n          } else {\n            window.requestAnimationFrame(scrollAnimation);\n          }\n        } else if (scrollVal <= targetTop) {\n          clear();\n        } else {\n          window.requestAnimationFrame(scrollAnimation);\n        }\n        function clear() {\n          key = false;\n          isMouseClicked = false;\n          maskEl.style.display = 'none';\n          emit('scroll', name);\n        }\n      }\n      emit('before-scroll', name);\n      window.requestAnimationFrame(scrollAnimation);\n    };\n    var scrollTo = function scrollTo(name) {\n      var _a;\n      contentEl.value.scrollTop = ((_a = contentEl === null || contentEl === void 0 ? void 0 : contentEl.value) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(selectorPrefix, \"-group-title[data-name='\").concat(name, \"']\"))).offsetTop;\n      emit('scroll', name);\n    };\n    var getDirection = function getDirection() {\n      return props.position === 'left' || props.position === 'right' ? 'vertical' : 'horizontal';\n    };\n    var findIndex = function findIndex(x, y) {\n      var direction = getDirection();\n      var val = direction === 'vertical' ? y - startY : x - startX;\n      var curIndex = indexPositionMap.find(function (t) {\n        return t.name === curIndexName;\n      });\n      // console.log('获取增量', val);\n      // console.log('移动获取当前索引信息', curIndex);\n      var low = 0;\n      var high = indexPositionMap.length - 1;\n      var middle;\n      var target;\n      while (low <= high && low <= indexPositionMap.length - 1 && high <= indexPositionMap.length - 1) {\n        middle = high + low >> 1;\n        var targetVal = indexPositionMap[middle];\n        var t1 = void 0;\n        var t2 = void 0;\n        var t3 = void 0;\n        var t4 = void 0;\n        if (direction === 'vertical') {\n          t1 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.top) + val;\n          t2 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.bottom) + val;\n          t3 = targetVal.top;\n          t4 = targetVal.bottom;\n        } else {\n          t1 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.left) + val;\n          t2 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.right) + val;\n          t3 = targetVal.left;\n          t4 = targetVal.right;\n        }\n        if (t1 >= t3 && t1 <= t4) {\n          target = targetVal;\n          break;\n        } else if (t1 < t3) {\n          high = middle - 1;\n        } else {\n          low = middle + 1;\n        }\n      }\n      if (target) {\n        return target;\n      } else {\n        return null;\n      }\n    };\n    var update = function update() {\n      adapterDimension();\n      createIndexPosition();\n    };\n    var renderIndex = function renderIndex() {\n      return props.indexes.map(function (index) {\n        var _a;\n        return _createVNode(\"a\", {\n          \"key\": index.index,\n          \"class\": \"\".concat(selectorPrefix, \"-index-item\"),\n          \"data-name\": index.index\n        }, [slots.index ? (_a = slots === null || slots === void 0 ? void 0 : slots.index) === null || _a === void 0 ? void 0 : _a.call(slots, index) : index.index]);\n      });\n    };\n    var renderContent = function renderContent() {\n      return props.dataSource.map(function (record) {\n        var _a, _b;\n        return _createVNode(\"div\", {\n          \"key\": record.index,\n          \"class\": \"\".concat(selectorPrefix, \"-group\")\n        }, [_createVNode(\"a\", {\n          \"class\": \"\".concat(selectorPrefix, \"-group-title\"),\n          \"data-name\": record.index\n        }, [slots.title ? (_a = slots === null || slots === void 0 ? void 0 : slots.title) === null || _a === void 0 ? void 0 : _a.call(slots, record) : record.index]), _createVNode(\"div\", {\n          \"class\": \"\".concat(selectorPrefix, \"-group-inner\")\n        }, [slots.content ? (_b = slots === null || slots === void 0 ? void 0 : slots.content) === null || _b === void 0 ? void 0 : _b.call(slots, record) : null])]);\n      });\n    };\n    onMounted(function () {\n      initEvent();\n      createMask();\n      adapterDimension();\n      createIndexPosition();\n    });\n    onUpdated(function () {\n      adapterDimension();\n      createIndexPosition();\n    });\n    onBeforeUnmount(function () {\n      var _a;\n      if (maskEl) {\n        (_a = maskEl === null || maskEl === void 0 ? void 0 : maskEl.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(maskEl);\n      }\n    });\n    expose({\n      scrollToAnimation: scrollToAnimation,\n      scrollTo: scrollTo\n    });\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": getClassName.value,\n        \"ref\": root\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-highlighted\"),\n        \"ref\": highlightedEl\n      }, null), _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-content\"),\n        \"ref\": contentEl\n      }, [renderContent()]), _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-index\"),\n        \"ref\": indexEl\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-index-inner\"),\n        \"ref\": indexInnerEl\n      }, [renderIndex()])])]);\n    };\n  }\n});"],"names":["_createVNode","classNames","computed","defineComponent","onBeforeUnmount","onMounted","onUpdated","ref","array","string","Util","positionType","selectorPrefix","DURATION","surnamesProps","position","def","right","indexes","dataSource","name","props","slots","emits","setup","_a","onClick","e","preventDefault","stopPropagation","clickDetail","onTouchmove","y","changedTouches","pageY","x","pageX","target","indexItemEl","getTopDom","call","concat","curIndexName","dataset","moveDetail","onTouchend","highlightedEl","value","style","display","innerText","transform","onMousedown","startY","startX","isMouseClicked","onMousemove","isMouseMoved","onMouseleave","onMouseup","onResize","update","adapterDimension","getDirection","root","height","indexInnerEl","offsetHeight","width","createIndexPosition","indexItemEls","querySelectorAll","indexPositionMap","i","length","indexName","rect","getBoundingClientRect","push","top","bottom","left","offsetTop","offsetLeft","offsetWidth","scrollToAnimation","duration","targetEl","contentEl","querySelector","scrollVal","_b","scrollTop","targetTop","updateInterval","screen","step","_c","scrollHeight","emit","window","requestAnimationFrame","scrollAnimation","clear","key","maskEl","scrollTo","findIndex","direction","val","curIndex","find","t","low","high","middle","targetVal","t1","t3","t4","expose","indexEl","getClassName","index","translateY","Math","floor","translateX","el","isTouch","addEventListener","_d","_e","_f","_g","_h","document","createElement","innerHTML","firstElementChild","body","appendChild","parentElement","removeChild","class","map","record","data-name","title","content"],"mappings":"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"}