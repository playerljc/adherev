{"version":3,"file":"surnames.js","sources":["surnames.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar adherev_util_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-util\"));\nvar classnames_1 = (0, tslib_1.__importDefault)(require(\"classnames\"));\n\nvar vue_1 = require(\"vue\");\n\nvar vue_types_1 = require(\"vue-types\");\n\nvar selectorPrefix = 'adherev-ui-surnames';\nvar DURATION = 100;\nvar positionType;\n\n(function (positionType) {\n  positionType[\"top\"] = \"top\";\n  positionType[\"right\"] = \"right\";\n  positionType[\"bottom\"] = \"bottom\";\n  positionType[\"left\"] = \"left\";\n})(positionType || (positionType = {}));\n\nvar surnamesProps = {\n  position: (0, vue_types_1.string)().def(positionType.right),\n  indexes: (0, vue_types_1.array)().def([]),\n  dataSource: (0, vue_types_1.array)().def([])\n};\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-surnames',\n  props: surnamesProps,\n  slots: ['index', 'title', 'content'],\n  emits: ['scroll', 'before-scroll'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots,\n        emit = _a.emit,\n        expose = _a.expose;\n    var root = (0, vue_1.ref)();\n    var highlightedEl = (0, vue_1.ref)();\n    var contentEl = (0, vue_1.ref)();\n    var indexEl = (0, vue_1.ref)();\n    var indexInnerEl = (0, vue_1.ref)();\n    var key = false;\n    var isMouseClicked = false;\n    var isMouseMoved = false;\n    var startY = -1;\n    var startX = -1;\n    var curIndexName = '';\n    var indexPositionMap = [];\n    var maskEl = null;\n    var getClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, \"\".concat(selectorPrefix, \"-config-position-\").concat(props.position));\n    });\n\n    var onClick = function onClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      clickDetail(e);\n    };\n\n    var onTouchmove = function onTouchmove(e) {\n      var _a;\n\n      e.preventDefault();\n      var y = e.changedTouches[0].pageY;\n      var x = e.changedTouches[0].pageX;\n      var target = e.target;\n      var indexItemEl = (_a = adherev_util_1.default.getTopDom) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      curIndexName = indexItemEl === null || indexItemEl === void 0 ? void 0 : indexItemEl.dataset.name;\n      moveDetail(x, y);\n    };\n\n    var onTouchend = function onTouchend() {\n      highlightedEl.value.style.display = 'none';\n      highlightedEl.value.innerText = '';\n      highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n    };\n\n    var onMousedown = function onMousedown(e) {\n      var _a;\n\n      e.preventDefault();\n      startY = e.pageY;\n      startX = e.pageX;\n      var target = e.target;\n      var indexItemEl = (_a = adherev_util_1.default.getTopDom) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, target, \"\".concat(selectorPrefix, \"-index-item\")); // console.log('按下获取索引名称', indexItemEl.dataset.name);\n\n      curIndexName = indexItemEl === null || indexItemEl === void 0 ? void 0 : indexItemEl.dataset.name;\n      isMouseClicked = true;\n    };\n\n    var onMousemove = function onMousemove(e) {\n      if (!isMouseClicked) return false;\n      isMouseMoved = true;\n      e.preventDefault();\n      var y = e.pageY;\n      var x = e.pageX;\n      moveDetail(x, y);\n    };\n\n    var onMouseleave = function onMouseleave() {\n      isMouseClicked = false;\n      isMouseMoved = false;\n      highlightedEl.value.style.display = 'none';\n      highlightedEl.value.innerText = '';\n      highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n    };\n\n    var onMouseup = function onMouseup(e) {\n      if (isMouseMoved) {\n        isMouseClicked = false;\n        isMouseMoved = false;\n        highlightedEl.value.style.display = 'none';\n        highlightedEl.value.innerText = '';\n        highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n        return false;\n      }\n\n      e.preventDefault();\n      clickDetail(e);\n    };\n\n    var onResize = function onResize() {\n      return update();\n    };\n\n    var clickDetail = function clickDetail(e) {\n      var _a, _b;\n\n      var target = e.target;\n      e.preventDefault();\n\n      if (key) {\n        return false;\n      }\n\n      key = true;\n      maskEl.style.display = 'block';\n      var targetEl = (_a = adherev_util_1.default.getTopDom) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      scrollToAnimation((_b = targetEl === null || targetEl === void 0 ? void 0 : targetEl.dataset) === null || _b === void 0 ? void 0 : _b.name);\n    };\n\n    var moveDetail = function moveDetail(x, y) {\n      var index = findIndex(x, y);\n\n      if (index) {\n        highlightedEl.value.innerText = index.name;\n        highlightedEl.value.style.display = 'block';\n        var direction = getDirection();\n\n        if (direction === 'vertical') {\n          var translateY = index.offsetTop + Math.floor(index.height / 2);\n          highlightedEl.value.style.transform = \"translate3d(0,\".concat(translateY, \"px,0)\");\n        } else {\n          var translateX = index.offsetLeft + index.width;\n          highlightedEl.value.style.transform = \"translate3d(\".concat(translateX, \"px,0,0)\");\n        }\n\n        scrollTo(index.name);\n      }\n    };\n\n    var initEvent = function initEvent() {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n\n      if ((_a = adherev_util_1.default.isTouch) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default)) {\n        (_b = indexInnerEl.value) === null || _b === void 0 ? void 0 : _b.addEventListener('click', onClick); // 索引touchmove和mousemove\n\n        (_c = indexInnerEl.value) === null || _c === void 0 ? void 0 : _c.addEventListener('touchmove', onTouchmove);\n        (_d = indexInnerEl.value) === null || _d === void 0 ? void 0 : _d.addEventListener('touchend', onTouchend);\n      } else {\n        (_e = indexInnerEl.value) === null || _e === void 0 ? void 0 : _e.addEventListener('mousedown', onMousedown);\n        (_f = indexInnerEl.value) === null || _f === void 0 ? void 0 : _f.addEventListener('mousemove', onMousemove);\n        (_g = indexInnerEl.value) === null || _g === void 0 ? void 0 : _g.addEventListener('mouseleave', onMouseleave);\n        (_h = indexInnerEl.value) === null || _h === void 0 ? void 0 : _h.addEventListener('mouseup', onMouseup);\n        window.addEventListener('resize', onResize);\n      }\n    };\n\n    var adapterDimension = function adapterDimension() {\n      var _a;\n\n      var direction = getDirection();\n\n      if (direction === 'vertical') {\n        root.value.style.height = \"\".concat(((_a = indexInnerEl.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) + 50, \"px\");\n        root.value.style.width = '100%';\n      } else {\n        root.value.style.height = '100%';\n      }\n    };\n\n    var createIndexPosition = function createIndexPosition() {\n      var _a;\n\n      var indexItemEls = (_a = indexInnerEl.value) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".\".concat(selectorPrefix, \"-index-item\"));\n      indexPositionMap = []; // 计算每一项距离视口的top和bottom\n\n      for (var i = 0; i < indexItemEls.length; i++) {\n        var indexItemEl = indexItemEls[i];\n        var indexName = indexItemEl.dataset.name;\n        var rect = indexItemEl.getBoundingClientRect();\n        indexPositionMap.push({\n          name: indexName,\n          top: rect.top,\n          bottom: rect.bottom,\n          left: rect.left,\n          right: rect.right,\n          offsetTop: indexItemEl.offsetTop,\n          offsetLeft: indexItemEl.offsetLeft,\n          width: indexItemEl.offsetWidth,\n          height: indexItemEl.offsetHeight\n        });\n      }\n    };\n\n    var createMask = function createMask() {\n      var el = document.createElement('div');\n      el.innerHTML = \"<div class='\".concat(selectorPrefix, \"-mask'></div>\");\n      maskEl = el.firstElementChild;\n      document.body.appendChild(maskEl);\n    };\n\n    var scrollToAnimation = function scrollToAnimation(name, duration) {\n      var _a, _b, _c;\n\n      if (duration === void 0) {\n        duration = 100;\n      }\n\n      var targetEl = (_a = contentEl.value) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(selectorPrefix, \"-group-title[data-name='\").concat(name, \"']\"));\n      var scrollVal = (_b = contentEl.value) === null || _b === void 0 ? void 0 : _b.scrollTop;\n      var targetTop = targetEl.offsetTop; // @ts-ignore\n\n      var updateInterval = screen.updateInterval;\n      var step = ((_c = root.value) === null || _c === void 0 ? void 0 : _c.scrollHeight) / ((DURATION | duration) / (updateInterval || 16.7) + ((DURATION | duration) % (updateInterval || 16.7) !== 0 ? 1 : 0));\n      /**\n       * scrollAnimation\n       */\n\n      function scrollAnimation() {\n        var _a, _b;\n\n        if (((_a = contentEl.value) === null || _a === void 0 ? void 0 : _a.scrollTop) < targetTop) {\n          if (scrollVal + step > targetTop) {\n            scrollVal = targetTop;\n          } else {\n            scrollVal += step;\n          }\n        } else if (scrollVal - step < targetTop) {\n          scrollVal = targetTop;\n        } else {\n          scrollVal -= step;\n        }\n\n        contentEl.value.scrollTop = scrollVal;\n\n        if (((_b = contentEl.value) === null || _b === void 0 ? void 0 : _b.scrollTop) < targetTop) {\n          if (scrollVal >= targetTop) {\n            clear();\n          } else {\n            window.requestAnimationFrame(scrollAnimation);\n          }\n        } else if (scrollVal <= targetTop) {\n          clear();\n        } else {\n          window.requestAnimationFrame(scrollAnimation);\n        }\n\n        function clear() {\n          key = false;\n          isMouseClicked = false;\n          maskEl.style.display = 'none';\n          emit('scroll', name);\n        }\n      }\n\n      emit('before-scroll', name);\n      window.requestAnimationFrame(scrollAnimation);\n    };\n\n    var scrollTo = function scrollTo(name) {\n      var _a;\n\n      contentEl.value.scrollTop = ((_a = contentEl === null || contentEl === void 0 ? void 0 : contentEl.value) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(selectorPrefix, \"-group-title[data-name='\").concat(name, \"']\"))).offsetTop;\n      emit('scroll', name);\n    };\n\n    var getDirection = function getDirection() {\n      return props.position === 'left' || props.position === 'right' ? 'vertical' : 'horizontal';\n    };\n\n    var findIndex = function findIndex(x, y) {\n      var direction = getDirection();\n      var val = direction === 'vertical' ? y - startY : x - startX;\n      var curIndex = indexPositionMap.find(function (t) {\n        return t.name === curIndexName;\n      }); // console.log('获取增量', val);\n      // console.log('移动获取当前索引信息', curIndex);\n\n      var low = 0;\n      var high = indexPositionMap.length - 1;\n      var middle;\n      var target;\n\n      while (low <= high && low <= indexPositionMap.length - 1 && high <= indexPositionMap.length - 1) {\n        middle = high + low >> 1;\n        var targetVal = indexPositionMap[middle];\n        var t1 = void 0;\n        var t2 = void 0;\n        var t3 = void 0;\n        var t4 = void 0;\n\n        if (direction === 'vertical') {\n          t1 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.top) + val;\n          t2 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.bottom) + val;\n          t3 = targetVal.top;\n          t4 = targetVal.bottom;\n        } else {\n          t1 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.left) + val;\n          t2 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.right) + val;\n          t3 = targetVal.left;\n          t4 = targetVal.right;\n        }\n\n        if (t1 >= t3 && t1 <= t4) {\n          target = targetVal;\n          break;\n        } else if (t1 < t3) {\n          high = middle - 1;\n        } else {\n          low = middle + 1;\n        }\n      }\n\n      if (target) {\n        return target;\n      } else {\n        return null;\n      }\n    };\n\n    var update = function update() {\n      adapterDimension();\n      createIndexPosition();\n    };\n\n    var renderIndex = function renderIndex() {\n      return props.indexes.map(function (index) {\n        var _a;\n\n        return (0, _vue.createVNode)(\"a\", {\n          \"key\": index.index,\n          \"class\": \"\".concat(selectorPrefix, \"-index-item\"),\n          \"data-name\": index.index\n        }, [slots.index ? (_a = slots === null || slots === void 0 ? void 0 : slots.index) === null || _a === void 0 ? void 0 : _a.call(slots, index) : index.index]);\n      });\n    };\n\n    var renderContent = function renderContent() {\n      return props.dataSource.map(function (record) {\n        var _a, _b;\n\n        return (0, _vue.createVNode)(\"div\", {\n          \"key\": record.index,\n          \"class\": \"\".concat(selectorPrefix, \"-group\")\n        }, [(0, _vue.createVNode)(\"a\", {\n          \"class\": \"\".concat(selectorPrefix, \"-group-title\"),\n          \"data-name\": record.index\n        }, [slots.title ? (_a = slots === null || slots === void 0 ? void 0 : slots.title) === null || _a === void 0 ? void 0 : _a.call(slots, record) : record.index]), (0, _vue.createVNode)(\"div\", {\n          \"class\": \"\".concat(selectorPrefix, \"-group-inner\")\n        }, [slots.content ? (_b = slots === null || slots === void 0 ? void 0 : slots.content) === null || _b === void 0 ? void 0 : _b.call(slots, record) : null])]);\n      });\n    };\n\n    (0, vue_1.onMounted)(function () {\n      initEvent();\n      createMask();\n      adapterDimension();\n      createIndexPosition();\n    });\n    (0, vue_1.onUpdated)(function () {\n      adapterDimension();\n      createIndexPosition();\n    });\n    (0, vue_1.onBeforeUnmount)(function () {\n      var _a, _b;\n\n      if (maskEl) {\n        (_b = (_a = maskEl) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(maskEl);\n      }\n    });\n    expose({\n      scrollToAnimation: scrollToAnimation,\n      scrollTo: scrollTo\n    });\n    return function () {\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": getClassName.value,\n        \"ref\": root\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-highlighted\"),\n        \"ref\": highlightedEl\n      }, null), (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-content\"),\n        \"ref\": contentEl\n      }, [renderContent()]), (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-index\"),\n        \"ref\": indexEl\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-index-inner\"),\n        \"ref\": indexInnerEl\n      }, [renderIndex()])])]);\n    };\n  }\n});"],"names":["positionType","_vue","require","tslib_1","Object","defineProperty","exports","value","adherev_util_1","__importDefault","classnames_1","vue_1","vue_types_1","selectorPrefix","DURATION","surnamesProps","position","string","def","right","indexes","array","dataSource","default","defineComponent","name","props","slots","emits","setup","_a","onClick","e","preventDefault","stopPropagation","clickDetail","onTouchmove","y","changedTouches","pageY","x","pageX","target","indexItemEl","getTopDom","call","concat","curIndexName","dataset","moveDetail","onTouchend","highlightedEl","style","display","innerText","transform","onMousedown","startY","startX","isMouseClicked","onMousemove","isMouseMoved","onMouseleave","onMouseup","onResize","update","adapterDimension","getDirection","root","height","indexInnerEl","offsetHeight","width","createIndexPosition","indexItemEls","querySelectorAll","indexPositionMap","i","length","indexName","rect","getBoundingClientRect","push","top","bottom","left","offsetTop","offsetLeft","offsetWidth","scrollToAnimation","duration","targetEl","contentEl","querySelector","scrollVal","_b","scrollTop","targetTop","updateInterval","screen","step","_c","scrollHeight","emit","window","requestAnimationFrame","scrollAnimation","clear","key","maskEl","scrollTo","findIndex","direction","val","curIndex","find","t","low","high","middle","targetVal","t1","t3","t4","expose","ref","indexEl","getClassName","computed","index","translateY","Math","floor","translateX","onMounted","el","isTouch","addEventListener","_d","_e","_f","_g","_h","document","createElement","innerHTML","firstElementChild","body","appendChild","onUpdated","onBeforeUnmount","parentElement","removeChild","createVNode","class","map","record","data-name","title","content"],"mappings":"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"}