{"version":3,"file":"surnames.js","sources":["surnames.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.surnamesProps = void 0;\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar selectorPrefix = 'adherev-ui-surnames';\nvar DURATION = 100;\nvar positionType;\n(function (positionType) {\n  positionType[\"top\"] = \"top\";\n  positionType[\"right\"] = \"right\";\n  positionType[\"bottom\"] = \"bottom\";\n  positionType[\"left\"] = \"left\";\n})(positionType || (positionType = {}));\nexports.surnamesProps = {\n  position: (0, vue_types_1.string)().def(positionType.right),\n  indexes: (0, vue_types_1.array)().def([]),\n  dataSource: (0, vue_types_1.array)().def([])\n};\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-surnames',\n  props: exports.surnamesProps,\n  slots: ['index', 'title', 'content'],\n  emits: ['scroll', 'before-scroll'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots,\n      emit = _a.emit,\n      expose = _a.expose;\n    var root = (0, vue_1.ref)();\n    var highlightedEl = (0, vue_1.ref)();\n    var contentEl = (0, vue_1.ref)();\n    var indexEl = (0, vue_1.ref)();\n    var indexInnerEl = (0, vue_1.ref)();\n    var key = false;\n    var isMouseClicked = false;\n    var isMouseMoved = false;\n    var startY = -1;\n    var startX = -1;\n    var curIndexName = '';\n    var indexPositionMap = [];\n    var maskEl = null;\n    var getClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, \"\".concat(selectorPrefix, \"-config-position-\").concat(props.position));\n    });\n    var onClick = function onClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      clickDetail(e);\n    };\n    var onTouchmove = function onTouchmove(e) {\n      var _a;\n      e.preventDefault();\n      var y = e.changedTouches[0].pageY;\n      var x = e.changedTouches[0].pageX;\n      var target = e.target;\n      var indexItemEl = (_a = adherev_util_1.default.getTopDom) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      curIndexName = indexItemEl === null || indexItemEl === void 0 ? void 0 : indexItemEl.dataset.name;\n      moveDetail(x, y);\n    };\n    var onTouchend = function onTouchend() {\n      highlightedEl.value.style.display = 'none';\n      highlightedEl.value.innerText = '';\n      highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n    };\n    var onMousedown = function onMousedown(e) {\n      var _a;\n      e.preventDefault();\n      startY = e.pageY;\n      startX = e.pageX;\n      var target = e.target;\n      var indexItemEl = (_a = adherev_util_1.default.getTopDom) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      // console.log('按下获取索引名称', indexItemEl.dataset.name);\n      curIndexName = indexItemEl === null || indexItemEl === void 0 ? void 0 : indexItemEl.dataset.name;\n      isMouseClicked = true;\n    };\n    var onMousemove = function onMousemove(e) {\n      if (!isMouseClicked) return false;\n      isMouseMoved = true;\n      e.preventDefault();\n      var y = e.pageY;\n      var x = e.pageX;\n      moveDetail(x, y);\n    };\n    var onMouseleave = function onMouseleave() {\n      isMouseClicked = false;\n      isMouseMoved = false;\n      highlightedEl.value.style.display = 'none';\n      highlightedEl.value.innerText = '';\n      highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n    };\n    var onMouseup = function onMouseup(e) {\n      if (isMouseMoved) {\n        isMouseClicked = false;\n        isMouseMoved = false;\n        highlightedEl.value.style.display = 'none';\n        highlightedEl.value.innerText = '';\n        highlightedEl.value.style.transform = 'translate3d(0,0,0)';\n        return false;\n      }\n      e.preventDefault();\n      clickDetail(e);\n    };\n    var onResize = function onResize() {\n      return update();\n    };\n    var clickDetail = function clickDetail(e) {\n      var _a, _b;\n      var target = e.target;\n      e.preventDefault();\n      if (key) {\n        return false;\n      }\n      key = true;\n      maskEl.style.display = 'block';\n      var targetEl = (_a = adherev_util_1.default.getTopDom) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, target, \"\".concat(selectorPrefix, \"-index-item\"));\n      scrollToAnimation((_b = targetEl === null || targetEl === void 0 ? void 0 : targetEl.dataset) === null || _b === void 0 ? void 0 : _b.name);\n    };\n    var moveDetail = function moveDetail(x, y) {\n      var index = findIndex(x, y);\n      if (index) {\n        highlightedEl.value.innerText = index.name;\n        highlightedEl.value.style.display = 'block';\n        var direction = getDirection();\n        if (direction === 'vertical') {\n          var translateY = index.offsetTop + Math.floor(index.height / 2);\n          highlightedEl.value.style.transform = \"translate3d(0,\".concat(translateY, \"px,0)\");\n        } else {\n          var translateX = index.offsetLeft + index.width;\n          highlightedEl.value.style.transform = \"translate3d(\".concat(translateX, \"px,0,0)\");\n        }\n        scrollTo(index.name);\n      }\n    };\n    var initEvent = function initEvent() {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      if ((_a = adherev_util_1.default.isTouch) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default)) {\n        (_b = indexInnerEl.value) === null || _b === void 0 ? void 0 : _b.addEventListener('click', onClick);\n        // 索引touchmove和mousemove\n        (_c = indexInnerEl.value) === null || _c === void 0 ? void 0 : _c.addEventListener('touchmove', onTouchmove);\n        (_d = indexInnerEl.value) === null || _d === void 0 ? void 0 : _d.addEventListener('touchend', onTouchend);\n      } else {\n        (_e = indexInnerEl.value) === null || _e === void 0 ? void 0 : _e.addEventListener('mousedown', onMousedown);\n        (_f = indexInnerEl.value) === null || _f === void 0 ? void 0 : _f.addEventListener('mousemove', onMousemove);\n        (_g = indexInnerEl.value) === null || _g === void 0 ? void 0 : _g.addEventListener('mouseleave', onMouseleave);\n        (_h = indexInnerEl.value) === null || _h === void 0 ? void 0 : _h.addEventListener('mouseup', onMouseup);\n        window.addEventListener('resize', onResize);\n      }\n    };\n    var adapterDimension = function adapterDimension() {\n      var _a;\n      var direction = getDirection();\n      if (direction === 'vertical') {\n        root.value.style.height = \"\".concat(((_a = indexInnerEl.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) + 50, \"px\");\n        root.value.style.width = '100%';\n      } else {\n        root.value.style.height = '100%';\n      }\n    };\n    var createIndexPosition = function createIndexPosition() {\n      var _a;\n      var indexItemEls = (_a = indexInnerEl.value) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".\".concat(selectorPrefix, \"-index-item\"));\n      indexPositionMap = [];\n      // 计算每一项距离视口的top和bottom\n      for (var i = 0; i < indexItemEls.length; i++) {\n        var indexItemEl = indexItemEls[i];\n        var indexName = indexItemEl.dataset.name;\n        var rect = indexItemEl.getBoundingClientRect();\n        indexPositionMap.push({\n          name: indexName,\n          top: rect.top,\n          bottom: rect.bottom,\n          left: rect.left,\n          right: rect.right,\n          offsetTop: indexItemEl.offsetTop,\n          offsetLeft: indexItemEl.offsetLeft,\n          width: indexItemEl.offsetWidth,\n          height: indexItemEl.offsetHeight\n        });\n      }\n    };\n    var createMask = function createMask() {\n      var el = document.createElement('div');\n      el.innerHTML = \"<div class='\".concat(selectorPrefix, \"-mask'></div>\");\n      maskEl = el.firstElementChild;\n      document.body.appendChild(maskEl);\n    };\n    var scrollToAnimation = function scrollToAnimation(name, duration) {\n      var _a, _b, _c;\n      if (duration === void 0) {\n        duration = 100;\n      }\n      var targetEl = (_a = contentEl.value) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(selectorPrefix, \"-group-title[data-name='\").concat(name, \"']\"));\n      var scrollVal = (_b = contentEl.value) === null || _b === void 0 ? void 0 : _b.scrollTop;\n      var targetTop = targetEl.offsetTop;\n      // @ts-ignore\n      var updateInterval = screen.updateInterval;\n      var step = ((_c = root.value) === null || _c === void 0 ? void 0 : _c.scrollHeight) / ((DURATION | duration) / (updateInterval || 16.7) + ((DURATION | duration) % (updateInterval || 16.7) !== 0 ? 1 : 0));\n      /**\n       * scrollAnimation\n       */\n      function scrollAnimation() {\n        var _a, _b;\n        if (((_a = contentEl.value) === null || _a === void 0 ? void 0 : _a.scrollTop) < targetTop) {\n          if (scrollVal + step > targetTop) {\n            scrollVal = targetTop;\n          } else {\n            scrollVal += step;\n          }\n        } else if (scrollVal - step < targetTop) {\n          scrollVal = targetTop;\n        } else {\n          scrollVal -= step;\n        }\n        contentEl.value.scrollTop = scrollVal;\n        if (((_b = contentEl.value) === null || _b === void 0 ? void 0 : _b.scrollTop) < targetTop) {\n          if (scrollVal >= targetTop) {\n            clear();\n          } else {\n            window.requestAnimationFrame(scrollAnimation);\n          }\n        } else if (scrollVal <= targetTop) {\n          clear();\n        } else {\n          window.requestAnimationFrame(scrollAnimation);\n        }\n        function clear() {\n          key = false;\n          isMouseClicked = false;\n          maskEl.style.display = 'none';\n          emit('scroll', name);\n        }\n      }\n      emit('before-scroll', name);\n      window.requestAnimationFrame(scrollAnimation);\n    };\n    var scrollTo = function scrollTo(name) {\n      var _a;\n      contentEl.value.scrollTop = ((_a = contentEl === null || contentEl === void 0 ? void 0 : contentEl.value) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(selectorPrefix, \"-group-title[data-name='\").concat(name, \"']\"))).offsetTop;\n      emit('scroll', name);\n    };\n    var getDirection = function getDirection() {\n      return props.position === 'left' || props.position === 'right' ? 'vertical' : 'horizontal';\n    };\n    var findIndex = function findIndex(x, y) {\n      var direction = getDirection();\n      var val = direction === 'vertical' ? y - startY : x - startX;\n      var curIndex = indexPositionMap.find(function (t) {\n        return t.name === curIndexName;\n      });\n      // console.log('获取增量', val);\n      // console.log('移动获取当前索引信息', curIndex);\n      var low = 0;\n      var high = indexPositionMap.length - 1;\n      var middle;\n      var target;\n      while (low <= high && low <= indexPositionMap.length - 1 && high <= indexPositionMap.length - 1) {\n        middle = high + low >> 1;\n        var targetVal = indexPositionMap[middle];\n        var t1 = void 0;\n        var t2 = void 0;\n        var t3 = void 0;\n        var t4 = void 0;\n        if (direction === 'vertical') {\n          t1 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.top) + val;\n          t2 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.bottom) + val;\n          t3 = targetVal.top;\n          t4 = targetVal.bottom;\n        } else {\n          t1 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.left) + val;\n          t2 = (curIndex === null || curIndex === void 0 ? void 0 : curIndex.right) + val;\n          t3 = targetVal.left;\n          t4 = targetVal.right;\n        }\n        if (t1 >= t3 && t1 <= t4) {\n          target = targetVal;\n          break;\n        } else if (t1 < t3) {\n          high = middle - 1;\n        } else {\n          low = middle + 1;\n        }\n      }\n      if (target) {\n        return target;\n      } else {\n        return null;\n      }\n    };\n    var update = function update() {\n      adapterDimension();\n      createIndexPosition();\n    };\n    var renderIndex = function renderIndex() {\n      return props.indexes.map(function (index) {\n        var _a;\n        return (0, _vue.createVNode)(\"a\", {\n          \"key\": index.index,\n          \"class\": \"\".concat(selectorPrefix, \"-index-item\"),\n          \"data-name\": index.index\n        }, [slots.index ? (_a = slots === null || slots === void 0 ? void 0 : slots.index) === null || _a === void 0 ? void 0 : _a.call(slots, index) : index.index]);\n      });\n    };\n    var renderContent = function renderContent() {\n      return props.dataSource.map(function (record) {\n        var _a, _b;\n        return (0, _vue.createVNode)(\"div\", {\n          \"key\": record.index,\n          \"class\": \"\".concat(selectorPrefix, \"-group\")\n        }, [(0, _vue.createVNode)(\"a\", {\n          \"class\": \"\".concat(selectorPrefix, \"-group-title\"),\n          \"data-name\": record.index\n        }, [slots.title ? (_a = slots === null || slots === void 0 ? void 0 : slots.title) === null || _a === void 0 ? void 0 : _a.call(slots, record) : record.index]), (0, _vue.createVNode)(\"div\", {\n          \"class\": \"\".concat(selectorPrefix, \"-group-inner\")\n        }, [slots.content ? (_b = slots === null || slots === void 0 ? void 0 : slots.content) === null || _b === void 0 ? void 0 : _b.call(slots, record) : null])]);\n      });\n    };\n    (0, vue_1.onMounted)(function () {\n      initEvent();\n      createMask();\n      adapterDimension();\n      createIndexPosition();\n    });\n    (0, vue_1.onUpdated)(function () {\n      adapterDimension();\n      createIndexPosition();\n    });\n    (0, vue_1.onBeforeUnmount)(function () {\n      var _a;\n      if (maskEl) {\n        (_a = maskEl === null || maskEl === void 0 ? void 0 : maskEl.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(maskEl);\n      }\n    });\n    expose({\n      scrollToAnimation: scrollToAnimation,\n      scrollTo: scrollTo\n    });\n    return function () {\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": getClassName.value,\n        \"ref\": root\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-highlighted\"),\n        \"ref\": highlightedEl\n      }, null), (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-content\"),\n        \"ref\": contentEl\n      }, [renderContent()]), (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-index\"),\n        \"ref\": indexEl\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-index-inner\"),\n        \"ref\": indexInnerEl\n      }, [renderIndex()])])]);\n    };\n  }\n});"],"names":["positionType","_vue","require","tslib_1","Object","defineProperty","exports","value","surnamesProps","classnames_1","__importDefault","vue_1","vue_types_1","adherev_util_1","selectorPrefix","DURATION","position","string","def","right","indexes","array","dataSource","default","defineComponent","name","props","slots","emits","setup","_a","onClick","e","preventDefault","stopPropagation","clickDetail","onTouchmove","y","changedTouches","pageY","x","pageX","target","indexItemEl","getTopDom","call","concat","curIndexName","dataset","moveDetail","onTouchend","highlightedEl","style","display","innerText","transform","onMousedown","startY","startX","isMouseClicked","onMousemove","isMouseMoved","onMouseleave","onMouseup","onResize","update","adapterDimension","getDirection","root","height","indexInnerEl","offsetHeight","width","createIndexPosition","indexItemEls","querySelectorAll","indexPositionMap","i","length","indexName","rect","getBoundingClientRect","push","top","bottom","left","offsetTop","offsetLeft","offsetWidth","scrollToAnimation","duration","targetEl","contentEl","querySelector","scrollVal","_b","scrollTop","targetTop","updateInterval","screen","step","_c","scrollHeight","emit","window","requestAnimationFrame","scrollAnimation","clear","key","maskEl","scrollTo","findIndex","direction","val","curIndex","find","t","low","high","middle","targetVal","t1","t3","t4","expose","ref","indexEl","getClassName","computed","index","translateY","Math","floor","translateX","onMounted","el","isTouch","addEventListener","_d","_e","_f","_g","_h","document","createElement","innerHTML","firstElementChild","body","appendChild","onUpdated","onBeforeUnmount","parentElement","removeChild","createVNode","class","map","record","data-name","title","content"],"mappings":"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"}