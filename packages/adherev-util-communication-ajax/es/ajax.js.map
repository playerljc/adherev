{"version":3,"file":"ajax.js","sources":["ajax.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { notification } from 'ant-design-vue';\r\nimport GlobalIndicator from '@baifendian/adherev-ui-globalindicator';\r\nimport Util from '@baifendian/adherev-util';\r\nimport intl from '@baifendian/adherev-util-intl';\r\n// 是否触发过402\r\nvar trigger402 = false;\r\n// notification的节流时间(毫秒)\r\nvar notificationThrottlingTime = 2000;\r\nvar errorInfoHandler;\r\nvar warnInfoHandler;\r\n/**\r\n * Ajax\r\n * @class Ajax\r\n * @classdesc Ajax\r\n */\r\nvar Ajax = /** @class */ (function () {\r\n    /**\r\n     * constructor\r\n     * @param baseURL\r\n     * @param systemManagerBaseURL\r\n     * @param config\r\n     */\r\n    function Ajax(baseURL, systemManagerBaseURL, config) {\r\n        this.baseURL = baseURL || '';\r\n        this.systemManagerBaseURL = systemManagerBaseURL || '';\r\n        this.config = config || {};\r\n    }\r\n    /**\r\n     * get\r\n     * @param data\r\n     * @param arg\r\n     */\r\n    Ajax.prototype.get = function (_a) {\r\n        var _this = this;\r\n        var data = _a.data, arg = __rest(_a, [\"data\"]);\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = sendPrepare.call(_this, __assign(__assign(__assign(__assign({}, getDefaultConfig.call(_this)), _this.config), { method: 'get' }), arg), {\r\n                resolve: resolve,\r\n                reject: reject,\r\n            }).xhr;\r\n            if (xhr) {\r\n                xhr.send(null);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * post\r\n     * @param params\r\n     */\r\n    Ajax.prototype.post = function (params) {\r\n        return complexRequest.call(this, 'post', params);\r\n    };\r\n    /**\r\n     * path\r\n     * @param params\r\n     */\r\n    Ajax.prototype.path = function (params) {\r\n        return complexRequest.call(this, 'path', params);\r\n    };\r\n    /**\r\n     * put\r\n     * @param params\r\n     */\r\n    Ajax.prototype.put = function (params) {\r\n        return complexRequest.call(this, 'put', params);\r\n    };\r\n    /**\r\n     * delete\r\n     * @param params\r\n     */\r\n    Ajax.prototype.delete = function (params) {\r\n        return complexRequest.call(this, 'delete', params);\r\n    };\r\n    /**\r\n     * 超时时间(10分钟)\r\n     */\r\n    Ajax.TIMEOUT = 1000 * 1000;\r\n    /**\r\n     * 状态成功代码\r\n     */\r\n    Ajax.STATUS_SUCCESS_CODES = [200, 201, 202, 203, 204, 205, 206, 207, 208, 226];\r\n    /**\r\n     * 状态重定向代码\r\n     */\r\n    Ajax.STATUS_REDIRECT_CODES = [300, 301, 302, 303, 304, 305, 306, 307, 308];\r\n    /**\r\n     * 代理被创建，但尚未调用 open() 方法。\r\n     */\r\n    Ajax.READY_STATE_UNSENT = 0;\r\n    /**\r\n     * open() 方法已经被调用\r\n     */\r\n    Ajax.READY_STATE_OPENED = 1;\r\n    /**\r\n     * send() 方法已经被调用，并且头部和状态已经可获得\r\n     */\r\n    Ajax.READY_STATE_HEADERS_RECEIVED = 2;\r\n    /**\r\n     * 下载中； responseText 属性已经包含部分数据\r\n     */\r\n    Ajax.READY_STATE_LOADING = 3;\r\n    /**\r\n     * 下载操作已完成\r\n     */\r\n    Ajax.READY_STATE_DONE = 4;\r\n    Ajax.CONTENT_TYPE_APPLICATION_JSON = 'application/json';\r\n    Ajax.CONTENT_TYPE_MULTIPART_FORM_DATA = 'multipart/form-data';\r\n    Ajax.CONTENT_TYPE_APPLICATION_X_WWW_FORM_URLENCODED = 'application/x-www-form-urlencoded';\r\n    Ajax.CONTENT_TYPE_TEXT_XML = 'text/xml';\r\n    Ajax.CONTENT_TYPE_APPLICATION_XML = 'application/xml';\r\n    Ajax.CONTENT_TYPE_TEXT_PLAIN = 'text/plain';\r\n    return Ajax;\r\n}());\r\n/**\r\n * errorInfo - 错误的提示\r\n * @param title\r\n * @param message\r\n */\r\nfunction errorInfo(title, message) {\r\n    if (errorInfoHandler) {\r\n        clearTimeout(errorInfoHandler);\r\n        errorInfoHandler = null;\r\n    }\r\n    errorInfoHandler = setTimeout(function () {\r\n        notification.error({\r\n            message: title,\r\n            description: message,\r\n        });\r\n    }, notificationThrottlingTime);\r\n}\r\n/**\r\n * warnInfo - 警告的提示\r\n * @param title\r\n * @param message\r\n */\r\nfunction warnInfo(title, message) {\r\n    if (warnInfoHandler) {\r\n        clearTimeout(warnInfoHandler);\r\n        warnInfoHandler = null;\r\n    }\r\n    warnInfoHandler = setTimeout(function () {\r\n        notification.warn({\r\n            message: title,\r\n            description: message,\r\n        });\r\n    }, notificationThrottlingTime);\r\n}\r\n/**\r\n * createXHR - 创建一个XHR对象\r\n * @return XMLHttpRequest\r\n */\r\nfunction createXHR() {\r\n    return new XMLHttpRequest();\r\n}\r\n/**\r\n * getDefaultConfig - 返回构造函数config的默认值\r\n * @return IConfig\r\n */\r\nfunction getDefaultConfig() {\r\n    var _this = this;\r\n    return {\r\n        timeout: Ajax.TIMEOUT,\r\n        withCredentials: true,\r\n        onLoad: function () { },\r\n        onLoadsStart: function () { },\r\n        onLoadend: function () { },\r\n        onProgress: function () { },\r\n        // 超时\r\n        onTimeout: function () {\r\n            warnInfo(intl.tv('提示'), intl.tv('请求超时'));\r\n        },\r\n        // 取消\r\n        onAbort: function () {\r\n            warnInfo(intl.tv('提示'), intl.tv('请求终止'));\r\n        },\r\n        // 发生错误\r\n        onError: function () {\r\n            errorInfo(intl.tv('提示'), intl.tv('请求发生错误'));\r\n        },\r\n        // 拦截器\r\n        interceptor: function (_a) {\r\n            var status = _a.status;\r\n            switch (status) {\r\n                case 401:\r\n                    deal401.call(_this);\r\n                    break;\r\n                case 402:\r\n                    deal402.call(_this);\r\n                    break;\r\n                default:\r\n                    errorInfo(intl.tv('提示'), intl.tv('已提出请求，但未收到任何回复'));\r\n                    break;\r\n            }\r\n        },\r\n        mock: false,\r\n        // loading的配置\r\n        loading: {\r\n            // 是否显示遮罩\r\n            show: false,\r\n            // 遮罩的内容\r\n            text: '',\r\n            // 遮罩的元素\r\n            el: document.body,\r\n        },\r\n        onBeforeResponse: function () { },\r\n        dataKey: 'data',\r\n        messageKey: 'message',\r\n        codeKey: 'code',\r\n        codeSuccess: 200,\r\n        showWarn: true,\r\n        responseType: '',\r\n    };\r\n}\r\n/**\r\n * initXhrEvents - 初始化XHR的事件\r\n * @param xhr\r\n * @param events\r\n */\r\nfunction initXhrEvents(xhr, events) {\r\n    var onTimeout = events.onTimeout, onLoadsStart = events.onLoadsStart, onProgress = events.onProgress, onAbort = events.onAbort, onError = events.onError, onLoad = events.onLoad, onLoadend = events.onLoadend;\r\n    // events\r\n    if (onTimeout) {\r\n        xhr.addEventListener('timeout', onTimeout);\r\n    }\r\n    if (onLoadsStart) {\r\n        xhr.addEventListener('loadstart', onLoadsStart);\r\n    }\r\n    if (onProgress) {\r\n        xhr.addEventListener('progress', onProgress);\r\n    }\r\n    if (onAbort) {\r\n        xhr.addEventListener('abort', onAbort);\r\n    }\r\n    if (onError) {\r\n        xhr.addEventListener('error', onError);\r\n    }\r\n    if (onLoad) {\r\n        xhr.addEventListener('load', onLoad);\r\n    }\r\n    if (onLoadend) {\r\n        xhr.addEventListener('loadend', onLoadend);\r\n    }\r\n}\r\n/**\r\n * resolveData - onreadystatechange中resolve的数据\r\n * @param show\r\n * @param data\r\n * @param indicator\r\n * @param xhr\r\n */\r\nfunction resolveData(_a) {\r\n    var show = _a.show, data = _a.data, indicator = _a.indicator, xhr = _a.xhr;\r\n    return __assign({ xhr: xhr, data: data }, (show ? { hideIndicator: function () { return GlobalIndicator.hide(indicator); } } : {}));\r\n}\r\n/**\r\n * onreadystatechange - onreadystatechange的处理\r\n * @param xhr\r\n * @param interceptor\r\n * @param show\r\n * @param indicator\r\n * @param messageKey\r\n * @param codeKey\r\n * @param codeSuccess\r\n * @param showWarn\r\n * @param resolve\r\n * @param reject\r\n */\r\nfunction onreadystatechange(_a) {\r\n    // const { status, readyState, statusText, response, responseText } = xhr;\r\n    var xhr = _a.xhr, interceptor = _a.interceptor, _b = _a.loading, show = _b.show, indicator = _b.indicator, _c = _a.business, messageKey = _c.messageKey, codeKey = _c.codeKey, codeSuccess = _c.codeSuccess, showWarn = _c.showWarn, resolve = _a.resolve, reject = _a.reject;\r\n    // readyState === 4\r\n    if (xhr.readyState === Ajax.READY_STATE_DONE) {\r\n        // status success\r\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304) {\r\n            // 获取contentType\r\n            var contentType = xhr.getResponseHeader('Content-type');\r\n            // response ContentType是application/json\r\n            if (contentType.indexOf(Ajax.CONTENT_TYPE_APPLICATION_JSON) !== -1) {\r\n                // 只有application/json才进行三大值的判断\r\n                var jsonObj = JSON.parse(xhr.responseText);\r\n                if (showWarn && codeKey in jsonObj && jsonObj[codeKey] !== codeSuccess) {\r\n                    warnInfo(intl.v('提示'), jsonObj[messageKey]);\r\n                }\r\n                resolve(resolveData({ show: show, data: jsonObj, indicator: indicator, xhr: xhr }));\r\n            }\r\n            // response ContentType是xml\r\n            else if ([Ajax.CONTENT_TYPE_TEXT_XML, Ajax.CONTENT_TYPE_TEXT_XML].includes(contentType)) {\r\n                resolve(resolveData({ show: show, data: xhr.responseXML, indicator: indicator, xhr: xhr }));\r\n            }\r\n            // response ContentType是其他\r\n            else {\r\n                resolve(resolveData({\r\n                    show: show,\r\n                    data: xhr.response,\r\n                    indicator: indicator,\r\n                    xhr: xhr,\r\n                }));\r\n            }\r\n        }\r\n        // status error\r\n        else {\r\n            // 3xx\r\n            // 4xx\r\n            // 5xx\r\n            // 拦截器\r\n            interceptor({\r\n                status: xhr.status,\r\n                statusText: xhr.statusText,\r\n                response: xhr.response,\r\n                responseText: xhr.responseText,\r\n            });\r\n            // catch\r\n            if (xhr.status)\r\n                reject({\r\n                    status: xhr.status,\r\n                    statusText: xhr.statusText,\r\n                    response: xhr.response,\r\n                    responseText: xhr.responseText,\r\n                });\r\n            // 取消遮罩\r\n            if (show && indicator) {\r\n                GlobalIndicator.hide(indicator);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * isMultipartFormData\r\n * @description 是否是上传\r\n * @param data\r\n */\r\nfunction isMultipartFormData(data) {\r\n    var _a, _b;\r\n    return (data &&\r\n        'form' in data &&\r\n        'data' in data &&\r\n        ((_a = Util === null || Util === void 0 ? void 0 : Util.isEmpty) === null || _a === void 0 ? void 0 : _a.call(Util, data.form)) &&\r\n        ((_b = Util === null || Util === void 0 ? void 0 : Util.isEmpty) === null || _b === void 0 ? void 0 : _b.call(Util, data.data)) &&\r\n        data.form instanceof HTMLFormElement);\r\n}\r\n/**\r\n * sendPrepare - send前的准备\r\n */\r\nfunction sendPrepare(_a, _b) {\r\n    var _c, _d, _e, _f, _g;\r\n    var \r\n    // 当前方法独有\r\n    method = _a.method, \r\n    // get|post|path|put|delete方法独有\r\n    path = _a.path, headers = _a.headers, \r\n    // 数据\r\n    data = _a.data, \r\n    // 业务参数\r\n    mock = _a.mock, loading = _a.loading, onBeforeResponse = _a.onBeforeResponse, \r\n    // 下面是后端返回的三组值\r\n    _h = _a.dataKey, \r\n    // 下面是后端返回的三组值\r\n    dataKey = _h === void 0 ? 'data' : _h, _j = _a.messageKey, messageKey = _j === void 0 ? 'message' : _j, _k = _a.codeKey, codeKey = _k === void 0 ? 'code' : _k, _l = _a.codeSuccess, codeSuccess = _l === void 0 ? 200 : _l, _m = _a.showWarn, showWarn = _m === void 0 ? true : _m, \r\n    // curConfig\r\n    curConfig = __rest(_a, [\"method\", \"path\", \"headers\", \"data\", \"mock\", \"loading\", \"onBeforeResponse\", \"dataKey\", \"messageKey\", \"codeKey\", \"codeSuccess\", \"showWarn\"]) // timeout && withCredentials && events\r\n    ;\r\n    var resolve = _b.resolve, reject = _b.reject;\r\n    var indicator;\r\n    var defaultLoadingText = \"\".concat(intl.tv('加载中'), \"...\");\r\n    var _o = loading, _p = _o.show, show = _p === void 0 ? false : _p, _q = _o.text, text = _q === void 0 ? defaultLoadingText : _q, _r = _o.el, el = _r === void 0 ? document.body : _r;\r\n    // 显示loading\r\n    if (show) {\r\n        indicator = GlobalIndicator.show(el || document.body, text || defaultLoadingText, 1000);\r\n    }\r\n    // 如果是mock数据\r\n    if (mock) {\r\n        setTimeout(function () {\r\n            if (show) {\r\n                resolve({\r\n                    data: path,\r\n                    hideIndicator: function () {\r\n                        GlobalIndicator.hide(indicator);\r\n                    },\r\n                });\r\n            }\r\n            else {\r\n                resolve(path);\r\n            }\r\n        }, 200);\r\n        return { xhr: null, contentType: '' };\r\n    }\r\n    var _s = this, baseURL = _s.baseURL, config = _s.config;\r\n    var _t = Object.assign(\r\n    // 默认的属性\r\n    getDefaultConfig.call(this), config, curConfig), timeout = _t.timeout, withCredentials = _t.withCredentials, responseType = _t.responseType, interceptor = _t.interceptor, events = __rest(_t, [\"timeout\", \"withCredentials\", \"responseType\", \"interceptor\"]);\r\n    // xhr\r\n    var xhr = createXHR();\r\n    // open\r\n    xhr.open(method, \"\".concat(baseURL, \"/\").concat(path), true);\r\n    // timeout\r\n    xhr.timeout = timeout;\r\n    // withCredentials\r\n    xhr.withCredentials = withCredentials || true;\r\n    // responseType\r\n    xhr.responseType = responseType || '';\r\n    var contentType = '';\r\n    // requestHeaders - 在open之后\r\n    // 如果用户设置了header\r\n    if (((_c = Util === null || Util === void 0 ? void 0 : Util.isEmpty) === null || _c === void 0 ? void 0 : _c.call(Util, headers)) && ((_d = Util === null || Util === void 0 ? void 0 : Util.isObject) === null || _d === void 0 ? void 0 : _d.call(Util, headers))) {\r\n        // 不是get请求且如果用户没有定义Content-type 则默认添加application/json\r\n        if (!('Content-Type' in headers)) {\r\n            if (!isMultipartFormData(data)) {\r\n                headers['Content-Type'] = \"\".concat(Ajax.CONTENT_TYPE_APPLICATION_JSON, \";charset=utf-8\");\r\n            }\r\n            // console.log('设置了header，但是没有设置Content-Type', Ajax.CONTENT_TYPE_MULTIPART_FORM_DATA);\r\n        }\r\n        contentType = (_e = headers['Content-Type']) !== null && _e !== void 0 ? _e : '';\r\n        for (var header in headers) {\r\n            xhr.setRequestHeader(header, headers[header]);\r\n        }\r\n    }\r\n    else {\r\n        // 用户没有设置header\r\n        // 会根据data初始化heeader\r\n        if (((_f = Util === null || Util === void 0 ? void 0 : Util.isEmpty) === null || _f === void 0 ? void 0 : _f.call(Util, data)) && ((_g = Util === null || Util === void 0 ? void 0 : Util.isRef) === null || _g === void 0 ? void 0 : _g.call(Util, data)) && method !== ('get' || 'GET')) {\r\n            if (!isMultipartFormData(data)) {\r\n                // console.log('默认设置Content-Type', `${Ajax.CONTENT_TYPE_APPLICATION_JSON};charset=utf-8`);\r\n                contentType = \"\".concat(Ajax.CONTENT_TYPE_APPLICATION_JSON, \";charset=utf-8\");\r\n                xhr.setRequestHeader('Content-Type', \"\".concat(Ajax.CONTENT_TYPE_APPLICATION_JSON, \";charset=utf-8\"));\r\n            }\r\n            else {\r\n                // console.log('有formData不需要设置Content-Type');\r\n                contentType = Ajax.CONTENT_TYPE_MULTIPART_FORM_DATA;\r\n            }\r\n        }\r\n    }\r\n    // 默认Content-Type\r\n    // else {\r\n    //   xhr.setRequestHeader('Content-Type', `${Ajax.CONTENT_TYPE_APPLICATION_JSON};charset=utf-8`);\r\n    // }\r\n    // events\r\n    initXhrEvents(xhr, events);\r\n    // onreadystatechange\r\n    xhr.onreadystatechange = onreadystatechange.bind(this, {\r\n        xhr: xhr,\r\n        interceptor: interceptor,\r\n        loading: {\r\n            show: show,\r\n            indicator: indicator,\r\n        },\r\n        business: {\r\n            dataKey: dataKey,\r\n            messageKey: messageKey,\r\n            codeKey: codeKey,\r\n            codeSuccess: codeSuccess,\r\n            showWarn: showWarn,\r\n        },\r\n        resolve: resolve,\r\n        reject: reject,\r\n    });\r\n    // return\r\n    return {\r\n        xhr: xhr,\r\n        contentType: contentType,\r\n    };\r\n}\r\n/**\r\n * getSendParams\r\n * @param data\r\n * @param contentType\r\n */\r\nfunction getSendParams(_a) {\r\n    // 四种Content-Type的处理(也就是send的参数)\r\n    var _b, _c, _d, _e, _f;\r\n    var data = _a.data, _g = _a.contentType, contentType = _g === void 0 ? '' : _g;\r\n    // application/json\r\n    // \"{}\"\r\n    // application/x-www-form-urlencoded\r\n    // key1=1&key2=2&key3=3&key4=4&key5=5\r\n    // multipart/form-data\r\n    // FormData\r\n    // console.log('getSendParams', data, contentType);\r\n    /**\r\n     * application/json\r\n     */\r\n    if (contentType.startsWith(Ajax.CONTENT_TYPE_APPLICATION_JSON) && ((_b = Util === null || Util === void 0 ? void 0 : Util.isRef) === null || _b === void 0 ? void 0 : _b.call(Util, data))) {\r\n        // console.log('数据需要被转换成JSON字符串', JSON.stringify(data));\r\n        return JSON.stringify(data);\r\n    }\r\n    /**\r\n     * application/x-www-form-urlencoded\r\n     */\r\n    if (contentType.startsWith(Ajax.CONTENT_TYPE_APPLICATION_X_WWW_FORM_URLENCODED) &&\r\n        ((_c = Util === null || Util === void 0 ? void 0 : Util.isObject) === null || _c === void 0 ? void 0 : _c.call(Util, data))) {\r\n        // console.log('application/x-www-form-urlencoded转换', JSON.stringify(data));\r\n        return Array.from(Object.keys(data))\r\n            .map(function (k) { return \"\".concat(k, \"=\").concat(encodeURIComponent(data[k])); })\r\n            .join('&');\r\n    }\r\n    /**\r\n     * multipart/form-data\r\n     */\r\n    if (\r\n    /*contentType.startsWith(Ajax.CONTENT_TYPE_MULTIPART_FORM_DATA) &&*/\r\n    ((_d = Util === null || Util === void 0 ? void 0 : Util.isObject) === null || _d === void 0 ? void 0 : _d.call(Util, data)) &&\r\n        isMultipartFormData(data)) {\r\n        // console.log('multipart/form-data转换');\r\n        // console.log('form', data.form);\r\n        var formData_1 = new FormData(data.form);\r\n        Array.from(Object.keys(data.data)).forEach(function (k) {\r\n            formData_1.append(k, data.data[k]);\r\n            // console.log(k, data.data[k]);\r\n        });\r\n        return formData_1;\r\n    }\r\n    /**\r\n     * text/plain\r\n     */\r\n    if (contentType.startsWith(Ajax.CONTENT_TYPE_TEXT_PLAIN)) {\r\n        if ((_e = Util === null || Util === void 0 ? void 0 : Util.isString) === null || _e === void 0 ? void 0 : _e.call(Util, data))\r\n            return data;\r\n        if ((_f = Util === null || Util === void 0 ? void 0 : Util.isObject) === null || _f === void 0 ? void 0 : _f.call(Util, data))\r\n            return JSON.stringify(data);\r\n    }\r\n    return data.toString();\r\n}\r\n/**\r\n * complexRequest - 复杂的请求\r\n * @param method\r\n * @param params\r\n */\r\nfunction complexRequest(method, params) {\r\n    var _this = this;\r\n    return new Promise(function (resolve, reject) {\r\n        var _a = sendPrepare.call(_this, __assign(__assign(__assign(__assign({}, getDefaultConfig.call(_this)), _this.config), { method: method }), params), {\r\n            resolve: resolve,\r\n            reject: reject,\r\n        }), xhr = _a.xhr, contentType = _a.contentType;\r\n        if (xhr) {\r\n            xhr.send(getSendParams.call(_this, {\r\n                data: params.data,\r\n                contentType: contentType,\r\n            }));\r\n        }\r\n    });\r\n}\r\n/**\r\n * deal401\r\n */\r\nfunction deal401() {\r\n    // 像top发送消息\r\n    if (typeof window === 'undefined')\r\n        return;\r\n    if (window.top && window.top !== window) {\r\n        window.top.postMessage('http_status_401', '*');\r\n    }\r\n    if (trigger402) {\r\n        return false;\r\n    }\r\n    window.location.href = Util.casUrl({\r\n        baseUrl: this.systemManagerBaseURL,\r\n        enterUrl: window.location.href,\r\n    });\r\n}\r\n/**\r\n * deal402\r\n */\r\nfunction deal402() {\r\n    trigger402 = true;\r\n    if (typeof window === 'undefined')\r\n        return;\r\n    if (window.parent && window.parent !== window) {\r\n        window.parent.postMessage('http_status_402', '*');\r\n        return false;\r\n    }\r\n    window.location.href = Util.casLogoutUrl({\r\n        baseUrl: this.systemManagerBaseURL,\r\n        enterUrl: window.location.href,\r\n        params: '&code=402',\r\n    });\r\n}\r\nexport default Ajax;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","notification","GlobalIndicator","Util","intl","errorInfoHandler","warnInfoHandler","trigger402","notificationThrottlingTime","Ajax","baseURL","systemManagerBaseURL","config","get","_a","_this","arg","data","Promise","resolve","reject","xhr","sendPrepare","getDefaultConfig","method","send","post","params","complexRequest","path","put","delete","TIMEOUT","STATUS_SUCCESS_CODES","STATUS_REDIRECT_CODES","READY_STATE_UNSENT","READY_STATE_OPENED","READY_STATE_HEADERS_RECEIVED","READY_STATE_LOADING","READY_STATE_DONE","CONTENT_TYPE_APPLICATION_JSON","CONTENT_TYPE_MULTIPART_FORM_DATA","CONTENT_TYPE_APPLICATION_X_WWW_FORM_URLENCODED","CONTENT_TYPE_TEXT_XML","CONTENT_TYPE_APPLICATION_XML","CONTENT_TYPE_TEXT_PLAIN","errorInfo","title","message","clearTimeout","setTimeout","error","description","warnInfo","warn","createXHR","XMLHttpRequest","timeout","withCredentials","onLoad","onLoadsStart","onLoadend","onProgress","onTimeout","tv","onAbort","onError","interceptor","status","deal401","deal402","mock","loading","show","text","el","document","body","onBeforeResponse","dataKey","messageKey","codeKey","codeSuccess","showWarn","responseType","initXhrEvents","events","addEventListener","resolveData","indicator","hideIndicator","hide","onreadystatechange","contentType","jsonObj","_b","_c","business","readyState","getResponseHeader","JSON","parse","responseText","v","includes","responseXML","response","statusText","isMultipartFormData","isEmpty","form","HTMLFormElement","headers","_h","_j","_k","_l","_m","curConfig","defaultLoadingText","concat","_p","_q","_r","_t","open","_d","isObject","header","_e","setRequestHeader","_f","_g","isRef","bind","getSendParams","formData_1","startsWith","stringify","Array","from","keys","map","k","encodeURIComponent","join","FormData","forEach","append","isString","toString","window","top","postMessage","location","href","casUrl","baseUrl","enterUrl","parent","casLogoutUrl"],"mappings":"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"}