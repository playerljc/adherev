{"version":3,"file":"table.js","sources":["demo/table.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar ant_design_vue_1 = require(\"ant-design-vue\");\nvar moment_1 = tslib_1.__importDefault(require(\"moment\"));\nvar adherev_util_communication_ajax_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-communication-ajax\"));\nvar adherev_util_resource_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-resource\"));\nvar index_1 = tslib_1.__importDefault(require(\"../index\"));\n// @ts-ignore\nvar request = new adherev_util_communication_ajax_1.default('');\nvar Option = ant_design_vue_1.Select.Option;\nvar RangePicker = ant_design_vue_1.DatePicker.RangePicker;\n// @ts-ignore\nvar SearchTableImplement = index_1.default.SearchTableImplement,\n  SearchForm = index_1.default.SearchForm,\n  SearchFormRow = index_1.default.SearchFormRow,\n  SearchFormLabel = index_1.default.SearchFormLabel,\n  SearchFormValue = index_1.default.SearchFormValue;\nvar SearchTableImplementMixins = SearchTableImplement();\nexports.default = {\n  mixins: [SearchTableImplementMixins],\n  data: function data() {\n    return {\n      loading: false,\n      dataSource: {\n        total: 0,\n        list: []\n      }\n    };\n  },\n  props: {\n    pagination: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    pagination: function pagination(oldValue, newValue) {\n      if (oldValue !== newValue) {\n        this.scrollY = 0;\n      }\n    }\n  },\n  methods: {\n    getParams: function getParams() {\n      return {\n        name: '',\n        sex: '',\n        startTime: null,\n        endTime: null,\n        deptCode: '',\n        homeTown: '',\n        width: '',\n        height: ''\n      };\n    },\n    getFetchDataParams: function getFetchDataParams() {\n      var _a = this.searchParams,\n        startTime = _a.startTime,\n        endTime = _a.endTime;\n      return {\n        startTime: startTime ? startTime.format(adherev_util_resource_1.default.Dict.value.ResourceMomentFormat15.value()) : null,\n        endTime: endTime ? endTime.format(adherev_util_resource_1.default.Dict.value.ResourceMomentFormat15.value()) : null\n      };\n    },\n    getData: function getData() {\n      return this.dataSource.list;\n    },\n    getTotal: function getTotal() {\n      return this.dataSource.total;\n    },\n    getColumns: function getColumns() {\n      return [{\n        title: '姓名',\n        dataIndex: 'name',\n        key: 'name',\n        align: 'center',\n        width: 200\n      }, {\n        title: '性别',\n        dataIndex: 'sex',\n        key: 'sex',\n        align: 'center',\n        width: 200,\n        scopedSlots: {\n          customRender: 'sex'\n        }\n      }, {\n        title: '籍贯',\n        dataIndex: 'homeTown',\n        key: 'homeTown',\n        align: 'center',\n        width: 200\n      }, {\n        title: '出生年月',\n        dataIndex: 'birthday',\n        key: 'birthday',\n        align: 'center',\n        sorter: true,\n        width: 200,\n        sortOrder: this.sortOrder('birthday'),\n        scopedSlots: {\n          customRender: 'birthday'\n        }\n      }, {\n        title: '所在部门',\n        dataIndex: 'deptName',\n        key: 'deptName',\n        align: 'center',\n        width: 200\n      }, {\n        title: '身高',\n        dataIndex: 'height',\n        key: 'height',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('height'),\n        width: 300\n      }, {\n        title: '体重',\n        dataIndex: 'width',\n        key: 'width',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('width'),\n        width: 300\n      }];\n    },\n    getScopedSlots: function getScopedSlots() {\n      return {\n        sex: function sex(text) {\n          return adherev_util_resource_1.default.Dict.value.ResourceNormalSexMap.value.get(text).label;\n        },\n        birthday: function birthday(text) {\n          return text ? (0, moment_1.default)(text).format(adherev_util_resource_1.default.Dict.value.ResourceMomentFormat10.value()) : '';\n        }\n      };\n    },\n    renderSearchForm: function renderSearchForm(h) {\n      var _this = this;\n      return h(SearchForm, [h(SearchFormRow, [h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u59D3\\u540D\\uFF1A\"]), h(SearchFormValue, [h(ant_design_vue_1.Input, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"姓名\",\n          \"value\": this.name\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.name = e.target.value.trim();\n          }\n        }\n      })]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u6027\\u522B\\uFF1A\"]), h(SearchFormValue, [h(ant_design_vue_1.Select, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"value\": this.sex,\n          \"getPopupContainer\": adherev_util_resource_1.default.Dict.value.FormPopupContainer.value\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.sex = v;\n          }\n        }\n      }, [adherev_util_resource_1.default.Dict.value.ResourceNormalSex.value.map(function (t) {\n        return (// @ts-ignore*\n          h(Option, {\n            \"key\": t.value,\n            \"attrs\": {\n              \"value\": t.value\n            }\n          }, [t.label])\n        );\n      })])]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u51FA\\u751F\\u5E74\\u6708\\uFF1A\"]), h(SearchFormValue, [h(RangePicker, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"value\": [this.startTime, this.endTime],\n          \"getPopupContainer\": adherev_util_resource_1.default.Dict.value.FormPopupContainer.value,\n          \"getCalendarContainer\": function getCalendarContainer(el) {\n            return el.parentElement;\n          }\n        },\n        \"on\": {\n          \"change\": function change(moments) {\n            _this.startTime = moments.length ? moments[0] : null;\n            _this.endTime = moments.length ? moments[1] : null;\n          }\n        }\n      })])]), h(SearchFormRow, [h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u7C4D\\u8D2F\\uFF1A\"]), h(SearchFormValue, [h(ant_design_vue_1.Input, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"籍贯\",\n          \"value\": this.homeTown\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.homeTown = e.target.value.trim();\n          }\n        }\n      })]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u8EAB\\u9AD8\\uFF1A\"]), h(SearchFormValue, [h(ant_design_vue_1.InputNumber, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"身高\",\n          \"value\": this.height\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.height = v;\n          }\n        }\n      })]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u4F53\\u91CD\\uFF1A\"]), h(SearchFormValue, [h(ant_design_vue_1.InputNumber, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"体重\",\n          \"value\": this.width\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.width = v;\n          }\n        }\n      })])]), h(SearchFormRow, [h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u6240\\u5728\\u90E8\\u95E8\\uFF1A\"]), h(SearchFormValue, [h(ant_design_vue_1.Select, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"value\": this.deptCode,\n          \"getPopupContainer\": adherev_util_resource_1.default.Dict.value.FormPopupContainer.value\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.deptCode = v;\n          }\n        }\n      }, [h(Option, {\n        \"attrs\": {\n          \"value\": \"\"\n        }\n      }, [\"\\u5168\\u90E8\"]), h(Option, {\n        \"attrs\": {\n          \"value\": \"0\"\n        }\n      }, [\"\\u4EA7\\u54C1\\u90E8\"]), h(Option, {\n        \"attrs\": {\n          \"value\": \"1\"\n        }\n      }, [\"\\u5F00\\u53D1\\u90E8\"]), h(Option, {\n        \"attrs\": {\n          \"value\": \"2\"\n        }\n      }, [\"\\u5DE5\\u7A0B\\u90E8\"])])])])]);\n    },\n    renderSearchFooterItems: function renderSearchFooterItems() {\n      return null;\n    },\n    showLoading: function showLoading() {\n      return this.loading;\n    },\n    getOrderFieldValue: function getOrderFieldValue() {\n      return 'height';\n    },\n    fetchDataExecute: function fetchDataExecute(searchParams) {\n      var _this = this;\n      this.loading = true;\n      return request\n      // @ts-ignore\n      .get({\n        mock: true,\n        // @ts-ignore\n        path: require('./mock.js').default\n      }).then(function (result) {\n        _this.dataSource = {\n          total: result.total,\n          list: result.list\n        };\n        _this.loading = false;\n      });\n    },\n    getPagination: function getPagination() {\n      var pagination = this.pagination;\n      if (pagination) {\n        return this.$getPaginationSearchTable();\n      }\n      return false;\n    }\n  }\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","ant_design_vue_1","moment_1","__importDefault","adherev_util_communication_ajax_1","adherev_util_resource_1","index_1","request","default","Option","Select","RangePicker","DatePicker","SearchTableImplement","SearchForm","SearchFormRow","SearchFormLabel","SearchFormValue","SearchTableImplementMixins","mixins","data","loading","dataSource","total","list","props","pagination","type","Boolean","watch","oldValue","newValue","this","scrollY","methods","getParams","name","sex","startTime","endTime","deptCode","homeTown","width","height","getFetchDataParams","_a","searchParams","format","Dict","ResourceMomentFormat15","getData","getTotal","getColumns","title","dataIndex","key","align","scopedSlots","customRender","sorter","sortOrder","getScopedSlots","text","ResourceNormalSexMap","get","label","birthday","ResourceMomentFormat10","renderSearchForm","h","_this","style","Input","attrs","placeholder","on","change","e","target","trim","getPopupContainer","FormPopupContainer","v","ResourceNormalSex","map","t","getCalendarContainer","el","parentElement","moments","length","InputNumber","renderSearchFooterItems","showLoading","getOrderFieldValue","fetchDataExecute","mock","path","then","result","getPagination","$getPaginationSearchTable"],"mappings":"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"}