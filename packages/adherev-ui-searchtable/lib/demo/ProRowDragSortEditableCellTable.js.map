{"version":3,"file":"ProRowDragSortEditableCellTable.js","sources":["demo/ProRowDragSortEditableCellTable.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.promise.js\");\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar adherev_ui_datedisplay_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-datedisplay\"));\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar adherev_util_dict_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-dict\"));\nvar index_1 = tslib_1.__importDefault(require(\"../index\"));\nvar extend = adherev_util_1.default._util.extend;\nvar ProDragSortEditableCellSearchTable = index_1.default.ProDragSortEditableCellSearchTable,\n  OptionsWrap = index_1.default.OptionsWrap,\n  DisabledOption = index_1.default.DisabledOption;\nvar ProRowDragSortEditableCellTable = extend({\n  className: 'ProRowDragSortEditableCellTable',\n  mixins: [ProDragSortEditableCellSearchTable('user')],\n  methods: {\n    getFetchListPropName: function getFetchListPropName() {\n      return 'fetchList';\n    },\n    getOrderFieldValue: function getOrderFieldValue() {\n      return 'height';\n    },\n    getDataKey: function getDataKey() {\n      return 'records';\n    },\n    getTotalKey: function getTotalKey() {\n      return 'total';\n    },\n    getBodyCellScopedSlots: function getBodyCellScopedSlots(_a) {\n      var value = _a.value,\n        record = _a.record,\n        index = _a.index,\n        column = _a.column;\n      var dataIndex = column.dataIndex;\n      if (dataIndex === 'sex') {\n        return adherev_util_dict_1.default.value.SystemTestSexSelect.value.find(function (t) {\n          return t.value == record.sex;\n        }).label;\n      }\n      if (dataIndex === 'birthday') {\n        return (0, _vue.createVNode)(adherev_ui_datedisplay_1.default.DateDisplay10, {\n          \"value\": record.birthday\n        }, null);\n      }\n      if (dataIndex === '_options') {\n        var _slot;\n        return (0, _vue.createVNode)(OptionsWrap, null, _isSlot(_slot = this.renderOptionColumn([{\n          key: 'view',\n          value: (0, _vue.createVNode)(\"a\", {\n            \"onClick\": function onClick() {\n              return alert(1);\n            }\n          }, [(0, _vue.createTextVNode)(\"\\u67E5\\u770B\")])\n        }, {\n          key: 'edit',\n          value: (0, _vue.createVNode)(\"a\", {\n            \"onClick\": function onClick() {\n              return alert(2);\n            }\n          }, [(0, _vue.createTextVNode)(\"\\u7F16\\u8F91\")])\n        }, {\n          key: 'delete',\n          value: (0, _vue.createVNode)(DisabledOption, null, {\n            default: function _default() {\n              return [(0, _vue.createTextVNode)(\"\\u5220\\u9664\")];\n            }\n          })\n        }], {\n          val: value,\n          record: record\n        })) ? _slot : {\n          default: function _default() {\n            return [_slot];\n          }\n        });\n      }\n      return value;\n    },\n    getColumns: function getColumns() {\n      var _this = this;\n      return this.$getColumnsProDragSortEditableCellSearchTable([{\n        title: '姓名',\n        dataIndex: 'name',\n        key: 'name',\n        align: 'center',\n        width: 200,\n        $search: {\n          type: 'input',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'input',\n          rules: [{\n            required: true,\n            message: '请输入姓名'\n          }],\n          onSave: function onSave(_a) {\n            var value = _a.value,\n              record = _a.record,\n              dataIndex = _a.dataIndex;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '性别',\n        dataIndex: 'sex',\n        key: 'sex',\n        align: 'center',\n        width: 200,\n        $search: {\n          type: 'select',\n          visible: true,\n          dictName: 'SystemTestSexSelect'\n        }\n      }, {\n        title: '籍贯',\n        dataIndex: 'homeTown',\n        key: 'homeTown',\n        align: 'center',\n        width: 200,\n        $search: {\n          type: 'input',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'input',\n          rules: [{\n            required: true,\n            message: '请输入姓名'\n          }],\n          onSave: function onSave(_a) {\n            var value = _a.value,\n              record = _a.record,\n              dataIndex = _a.dataIndex;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '出生年月',\n        dataIndex: 'birthday',\n        key: 'birthday',\n        align: 'center',\n        sorter: true,\n        width: 200,\n        sortOrder: this.sortOrder('birthday'),\n        $search: {\n          type: 'rangePicker',\n          visible: true,\n          startName: 'birthDayStart',\n          endName: 'birthDayEnd'\n        },\n        $editable: {\n          editable: true,\n          type: 'datePicker',\n          rules: [{\n            required: true,\n            message: '请选择'\n          }],\n          onSave: function onSave(_a) {\n            var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDateData({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '所在部门',\n        dataIndex: 'deptName',\n        key: 'deptName',\n        align: 'center',\n        width: 200,\n        $search: {\n          type: 'input',\n          visible: true\n        }\n      }, {\n        title: '身高',\n        dataIndex: 'height',\n        key: 'height',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('height'),\n        width: 300,\n        $search: {\n          type: 'inputNumberDecimal2',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'inputNumberDecimal2',\n          rules: [{\n            required: true,\n            message: '请输入体重'\n          }],\n          onSave: function onSave(_a) {\n            var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '体重',\n        dataIndex: 'width',\n        key: 'width',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('width'),\n        width: 300,\n        $search: {\n          type: 'inputNumberDecimal2',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'inputNumberDecimal2',\n          rules: [{\n            required: true,\n            message: '请输入体重'\n          }],\n          onSave: function onSave(_a) {\n            var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '操作',\n        dataIndex: '_options',\n        key: '_options',\n        align: 'center',\n        width: 200\n      }]);\n    }\n  }\n});\nexports.default = ProRowDragSortEditableCellTable;"],"names":["_vue","require","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","tslib_1","adherev_ui_datedisplay_1","__importDefault","adherev_util_1","adherev_util_dict_1","index_1","extend","default","_util","ProDragSortEditableCellSearchTable","OptionsWrap","DisabledOption","ProRowDragSortEditableCellTable","className","mixins","methods","getFetchListPropName","getOrderFieldValue","getDataKey","getTotalKey","getBodyCellScopedSlots","_a","_slot","record","dataIndex","index","column","SystemTestSexSelect","find","t","sex","label","createVNode","DateDisplay10","birthday","this","renderOptionColumn","key","onClick","alert","createTextVNode","val","getColumns","_this","$getColumnsProDragSortEditableCellSearchTable","title","align","width","$search","type","visible","$editable","editable","rules","required","message","onSave","Promise","resolve","updateEditorCellDate","then","dictName","sorter","sortOrder","startName","endName","updateEditorCellDateData"],"mappings":"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"}