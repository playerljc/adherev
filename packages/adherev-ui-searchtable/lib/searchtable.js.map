{"version":3,"file":"SearchTable.js","sources":["SearchTable.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _babelHelperVueJsxMergeProps = _interopRequireDefault(require(\"@vue/babel-helper-vue-jsx-merge-props\"));\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.find-index.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.sort.js\");\nrequire(\"core-js/modules/es.string.starts-with.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ROW_SELECTION_CONTINUOUS_MODE = exports.ROW_SELECTION_NORMAL_MODE = exports.NUMBER_GENERATOR_RULE_CONTINUITY = exports.NUMBER_GENERATOR_RULE_ALONE = exports.selectorPrefix = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ant_design_vue_1 = require(\"ant-design-vue\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar lodash_clonedeep_1 = tslib_1.__importDefault(require(\"lodash.clonedeep\"));\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_ui_flexlayout_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-flexlayout\"));\nvar adherev_ui_suspense_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-suspense\"));\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\nvar adherev_util_mixins_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-mixins\"));\nvar ColumnResizable_1 = tslib_1.__importStar(require(\"./Extension/ColumnResizable\"));\nvar ColumnSetting_1 = tslib_1.__importDefault(require(\"./Extension/ColumnSetting\"));\nvar TableCell_1 = tslib_1.__importDefault(require(\"./Extension/TableComponents/TableCell\"));\nvar TableRow_1 = tslib_1.__importDefault(require(\"./Extension/TableComponents/TableRow\"));\nvar TableDensitySetting_1 = tslib_1.__importDefault(require(\"./Extension/TableDensitySetting\"));\nvar types_1 = require(\"./types\");\nexports.selectorPrefix = 'adherev-ui-searchtable';\nvar updatedEx = adherev_util_mixins_1.default.updatedEx,\n  watchEffect = adherev_util_mixins_1.default.watchEffect;\nvar Fixed = adherev_ui_flexlayout_1.default.Fixed,\n  Auto = adherev_ui_flexlayout_1.default.Auto;\nvar extend = adherev_util_1.default._util.extend;\n// 单独模式\nexports.NUMBER_GENERATOR_RULE_ALONE = Symbol();\n// 连续模式\nexports.NUMBER_GENERATOR_RULE_CONTINUITY = Symbol();\n// 全选的规则 - 标准模式(不能跨页)\nexports.ROW_SELECTION_NORMAL_MODE = Symbol();\n// 全选的规则 - 可以跨页\nexports.ROW_SELECTION_CONTINUOUS_MODE = Symbol();\nvar SearchTable = extend({\n  className: 'SearchTable',\n  mixins: [adherev_ui_suspense_1.default, updatedEx, watchEffect],\n  props: {\n    className: {\n      type: String,\n      default: ''\n    },\n    wrapStyle: {\n      type: String,\n      default: ''\n    },\n    tableClassName: {\n      type: String,\n      default: ''\n    },\n    tableStyle: {\n      type: String,\n      default: ''\n    },\n    searchClassName: {\n      type: String,\n      default: ''\n    },\n    searchStyle: {\n      type: String,\n      default: ''\n    },\n    reset: {\n      type: Boolean,\n      default: true\n    },\n    antdTableProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    // 是否有展开和收缩的功能\n    isShowExpandSearch: {\n      type: Boolean,\n      default: true\n    },\n    // 展开和收缩的默认状态\n    defaultExpandSearchCollapse: {\n      type: Boolean,\n      default: true\n    },\n    // 撑开search\n    fitSearch: {\n      type: Boolean,\n      default: true\n    },\n    // 撑开表格\n    fitTable: {\n      type: Boolean,\n      default: true\n    },\n    // 是否是查询固定，表格自适应\n    autoFixed: {\n      type: Boolean,\n      default: true\n    },\n    // 锁定列头，表格滚动\n    fixedHeaderAutoTable: {\n      type: Boolean,\n      default: false\n    },\n    // 两端固定(表格的头始终在上方，分页始终在下方)\n    fixedTableSpaceBetween: {\n      type: Boolean,\n      default: false\n    },\n    // 是否显示列设置\n    showColumnSetting: {\n      type: Boolean,\n      default: false\n    }\n  },\n  scopedSlots: ['searchFormBefore', 'searchFormAfter', 'searchForm', 'tableHeader', 'tableFooter', 'tableNumberColumn', 'columnSetting', 'tableDensitySetting', 'searchFooter', 'table', 'inner', 'searchTable'],\n  data: function data() {\n    return {\n      page: 1,\n      limit: 10,\n      expand: this.defaultExpandSearchCollapse,\n      scrollY: 0,\n      // 列设置\n      columnSetting: [],\n      // 表格密度\n      // 表格密度设置\n      tableDensity: types_1.TableDensity.DEFAULT,\n      // 列拖动对象\n      $columnResizable: new ColumnResizable_1.default(),\n      // 列属性监控对象\n      $columnObserver: null,\n      // rowConfigReducers\n      // 给TableRow传递props的reducer\n      $rowConfigReducers: [],\n      // cellConfigReducers\n      // 给TableCell传递props的reducer\n      $cellConfigReducers: [],\n      // tableRowComponentReducers\n      // 处理TableRow的reducer\n      $tableRowComponentReducers: [],\n      // tableCellComponentReducers\n      // 处理TableCell的reducer\n      $tableCellComponentReducers: []\n    };\n  },\n  computed: {\n    // 自定义表格部分\n    components: function components() {\n      var columns = this.getTableColumns(this.$createElement);\n      return {\n        header: {\n          cell: (0, ColumnResizable_1.SearchTableResizableTitle)(columns)\n        },\n        body: {\n          row: TableRow_1.default,\n          cell: TableCell_1.default\n        }\n      };\n    }\n  },\n  provide: function provide() {\n    return {\n      getContext: this.getContext\n    };\n  },\n  created: function created() {\n    this.columnSetting = this.getTableColumns(this.$createElement).map(function (column, index) {\n      return tslib_1.__assign(tslib_1.__assign({}, column), {\n        sort: index,\n        display: true\n      });\n    });\n    this.tableDensity = this.getTableDensity();\n  },\n  updatedEx: function updatedEx(prevState) {\n    if (!this.$refs.tableWrapRef) return;\n    this.searchTableResizableEffectLayout();\n    this.fixedHeaderAutoTableEffectLayout(prevState);\n  },\n  watchEffect: function watchEffect() {\n    this.columnSettingEffect();\n  },\n  beforeDestroy: function beforeDestroy() {\n    var _a;\n    var fixedHeaderAutoTable = this.fixedHeaderAutoTable;\n    if (fixedHeaderAutoTable) {\n      (_a = this.getScrollBodyEl()) === null || _a === void 0 ? void 0 : _a.removeEventListener('scroll', this.onScrollBodyScroll);\n    }\n  },\n  methods: {\n    /**\n     * getContext\n     */\n    getContext: function getContext() {\n      return {\n        context: this\n      };\n    },\n    /**\n     * searchTableResizableEffectLayout\n     * @protected\n     */\n    searchTableResizableEffectLayout: function searchTableResizableEffectLayout() {\n      // 监控header的属性变化(colgroup)\n      if (!this.$data.$columnObserver) {\n        this.$data.$columnObserver = (0, ColumnResizable_1.SearchTableResizableObserver)(this);\n      }\n    },\n    /**\n     * fixedHeaderAutoTableEffectLayout\n     * @param prevState\n     * @protected\n     */\n    fixedHeaderAutoTableEffectLayout: function fixedHeaderAutoTableEffectLayout(prevState) {\n      var _a, _b;\n      if (this.fixedHeaderAutoTable) {\n        var dataSource = this.getData();\n        if (dataSource && dataSource.length && (prevState.scrollY === 0 && this.scrollY === 0 || prevState.scrollY !== this.scrollY || prevState.expand !== this.expand)) {\n          var tableWrapRef = this.$refs.tableWrapRef;\n          var scrollBodyEl = this.getScrollBodyEl();\n          if (scrollBodyEl) {\n            scrollBodyEl.removeEventListener('scroll', this.onScrollBodyScroll);\n            scrollBodyEl.addEventListener('scroll', this.onScrollBodyScroll);\n          }\n          var tableHeaderHeight = ((_a = tableWrapRef.querySelector('.ant-table-thead')) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n          var tablePaginationHeight = ((_b = tableWrapRef.querySelector('.ant-table-pagination')) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n          this.scrollY = tableWrapRef.clientHeight - (tableHeaderHeight + (tablePaginationHeight ? tablePaginationHeight + 16 * 2 : 0));\n        }\n      }\n    },\n    /**\n     * columnSettingEffect\n     * @param props\n     * @protected\n     */\n    columnSettingEffect: function columnSettingEffect() {\n      var _this = this;\n      var _a, _b;\n      var preColumnSetting = this.columnSetting || [];\n      var columnSetting = this.getTableColumns(this.$createElement).map(function (column, index) {\n        return tslib_1.__assign(tslib_1.__assign({}, column), {\n          sort: index,\n          display: true\n        });\n      });\n      // 长度不相等\n      if ((preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.length) !== columnSetting.length) {\n        this.columnSetting = columnSetting;\n        return;\n      }\n      var preColumnSettingRowKeys = (_a = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.map) === null || _a === void 0 ? void 0 : _a.call(preColumnSetting, function (t) {\n        return t[_this.getRowKey()];\n      });\n      var columnSettingRowKeys = (_b = columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map) === null || _b === void 0 ? void 0 : _b.call(columnSetting, function (t) {\n        return t[_this.getRowKey()];\n      });\n      // 长度相等但是key有变化\n      if ((preColumnSettingRowKeys === null || preColumnSettingRowKeys === void 0 ? void 0 : preColumnSettingRowKeys.toString()) !== columnSettingRowKeys.toString()) {\n        var rowKey_1 = this.getRowKey() || 'id';\n        this.columnSetting = columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map(function (t) {\n          var item = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.find(function (item) {\n            return item[rowKey_1] === t[rowKey_1];\n          });\n          return tslib_1.__assign(tslib_1.__assign({}, t), {\n            display: item ? item.display : true\n          });\n        });\n      }\n    },\n    /**\n     * onSearchPanelCollapse\n     * @description 查询面板展开之前\n     * @protected\n     */\n    onSearchPanelCollapseBefore: function onSearchPanelCollapseBefore() {},\n    /**\n     * onSearchPanelCollapseAfter\n     * @description 查询面板展开之后\n     * @protected\n     */\n    onSearchPanelCollapseAfter: function onSearchPanelCollapseAfter() {},\n    /**\n     * onTableChange\n     * @param pagination\n     * @param filters\n     * @param sorter\n     */\n    onTableChange: function onTableChange(pagination, filters, sorter) {\n      this[this.getOrderFieldProp()] = sorter.field || this.getOrderFieldValue();\n      this[this.getOrderProp()] = sorter.order /*|| this.getOrderPropValue()*/;\n      this.$nextTick(function () {\n        var _a;\n        var order = sorter.order;\n        if (!order) return;\n        this.fetchData();\n        (_a = this.onSubTableChange) === null || _a === void 0 ? void 0 : _a.call(this, pagination, filters, sorter);\n      });\n    },\n    /**\n     * onClear - 清除操作\n     */\n    onClear: function onClear() {\n      var _this = this;\n      return new Promise(function (resolve) {\n        _this.page = 1;\n        _this.limit = _this.getLimit();\n        _this.$nextTick(function () {\n          var _this = this;\n          this.clear().then(function () {\n            _this.fetchData();\n            resolve();\n          });\n        });\n      });\n    },\n    /**\n     * onScrollBodyScroll\n     */\n    onScrollBodyScroll: function onScrollBodyScroll() {\n      var scrollBodyEl = this.getScrollBodyEl();\n      var scrollHeaderEl = this.getScrollHeaderEl();\n      scrollHeaderEl.scrollLeft = scrollBodyEl === null || scrollBodyEl === void 0 ? void 0 : scrollBodyEl.scrollLeft;\n    },\n    /**\n     * sortOrder\n     * @param columnName\n     */\n    sortOrder: function sortOrder(columnName) {\n      return this[this.getOrderFieldProp()] === columnName ? this[this.getOrderProp()] : '';\n    },\n    /**\n     * onCellConfigReducers\n     * @description 所有onCell的处理\n     * @return ColumnTypeExt\n     */\n    onCellConfigReducers: function onCellConfigReducers(params) {\n      var _this = this;\n      var rowIndex = params.rowIndex,\n        column = params.column,\n        record = params.record,\n        columns = params.columns;\n      return this.$data.$cellConfigReducers.reduce(function (params, reducer) {\n        params.value = reducer.call(_this, {\n          rowIndex: rowIndex,\n          record: record,\n          columns: columns,\n          column: params.value\n        });\n        return params;\n      }, {\n        value: column\n      }).value;\n    },\n    /**\n     * onRowConfigReducers\n     * @description 所有row的处理\n     * @param params\n     */\n    onRowConfigReducers: function onRowConfigReducers(params) {\n      var _this = this;\n      var rowIndex = params.rowIndex,\n        record = params.record,\n        columns = params.columns;\n      return this.$data.$rowConfigReducers.reduce(function (params, reducer) {\n        params.value = reducer.call(_this, {\n          rowIndex: rowIndex,\n          record: record,\n          columns: columns,\n          rowConfig: params.value\n        });\n        return params;\n      }, {\n        value: {}\n      }).value;\n    },\n    /**\n     * onRow\n     * @description 自定义bodyRow传递props参数\n     * @param primaryValue\n     */\n    onRow: function onRow(primaryValue) {\n      // customRow: (record, rowIndex) => {\n      //   // 这块可能以后会有很多操作\n      //   // 行的所有操作都可以在这里处理\n      //   return {\n      //     props: {\n      //       record,\n      //       rowIndex,\n      //       columns,\n      //       rowKey: this.getRowKey(),\n      //       rowConfig: this.onRowConfigReducers({\n      //         rowIndex: Number(rowIndex),\n      //         record,\n      //         columns,\n      //       }),\n      //     },\n      //   };\n      // },\n      var _this = this;\n      var dataSource = this.getData();\n      if (!dataSource) return;\n      var rowIndex = dataSource.findIndex(function (t) {\n        return t[_this.getRowKey()] === primaryValue;\n      });\n      if (rowIndex === -1) return;\n      var record = dataSource[rowIndex];\n      var columns = this.getColumns();\n      return {\n        record: record,\n        rowIndex: rowIndex,\n        columns: columns,\n        rowKey: this.getRowKey(),\n        rowConfig: this.onRowConfigReducers({\n          rowIndex: Number(rowIndex),\n          record: record,\n          columns: columns\n        })\n      };\n    },\n    /**\n     * getLimit\n     * @description limit参数\n     */\n    getLimit: function getLimit() {\n      return 10;\n    },\n    /**\n     * getPagination\n     */\n    getPagination: function getPagination() {\n      var _this = this;\n      return {\n        onChange: function onChange(page, limit) {\n          _this.page = page;\n          _this.limit = limit;\n          _this.$nextTick(function () {\n            this.fetchData();\n          });\n        },\n        onShowSizeChange: function onShowSizeChange(page, limit) {\n          _this.page = page;\n          _this.limit = limit;\n          _this.$nextTick(function () {\n            this.fetchData();\n          });\n        },\n        showTotal: function showTotal(total) {\n          return adherev_util_intl_1.default.tv(\"\\u5F53\\u524D {page}-{pageSize}/\\u5171 {total}\\u6761\", {\n            page: _this.page,\n            pageSize: _this.limit,\n            total: total\n          });\n        },\n        total: this.getTotal(),\n        current: this.page,\n        pageSize: this.limit,\n        showQuickJumper: true\n      };\n    },\n    /**\n     * getTableDensity\n     * @description 表格密度\n     */\n    getTableDensity: function getTableDensity() {\n      return types_1.TableDensity.DEFAULT;\n    },\n    /**\n     * onTableChange - 表格change\n     */\n    getTableColumns: function getTableColumns(h) {\n      var _this = this;\n      var isShowNumber = this.isShowNumber();\n      var getTableNumberColumnWidth = this.getTableNumberColumnWidth();\n      // 对权限进行过滤\n      var columns = this.getColumns().filter(function (column) {\n        var _a;\n        if ('$hide' in column && !column.$hide) return false;\n        if ('$authorized' in column) return (_a = column === null || column === void 0 ? void 0 : column.$authorized) === null || _a === void 0 ? void 0 : _a.call(column);\n        return true;\n      })\n      // $resizable 设置\n      .map(function (column, index) {\n        var res = {\n          value: column\n        };\n        var loop = function loop(_column) {\n          var _res = _column;\n          if ('$resizable' in _column && !!(_column === null || _column === void 0 ? void 0 : _column.$resizable)) {\n            _res = _this.$data.$columnResizable.searchTableResizableColumnItem(_this, index, _column);\n          }\n          // @ts-ignore\n          if ((_res === null || _res === void 0 ? void 0 : _res.children) && Array.isArray(_res.children)) {\n            // @ts-ignore\n            _res.children.forEach(function (_t, _index) {\n              // @ts-ignore\n              _res.children[_index] = loop(_t);\n            });\n          }\n          return _res;\n        };\n        // @ts-ignore\n        res.value = loop(column);\n        return res.value;\n        // if ('resizable' in column && !!column.resizable) {\n        //   return this.$data.$columnResizable.searchTableResizableColumnItem(this, index, column);\n        // }\n        // return column;\n      }).map(function (column) {\n        return tslib_1.__assign(tslib_1.__assign({}, column), {\n          // 每个单元格都会调用\n          // 给TableCell传递的props参数\n          customCell: function customCell(record, rowIndex) {\n            var _column = (0, lodash_clonedeep_1.default)(column);\n            return {\n              props: {\n                // 行的索引\n                rowIndex: rowIndex,\n                // 行的数据\n                record: record,\n                // 列的配置\n                column: _this.onCellConfigReducers({\n                  rowIndex: rowIndex,\n                  column: _column,\n                  record: record,\n                  columns: columns\n                }),\n                // 所有列的配置\n                columns: columns\n              }\n            };\n          }\n        });\n      });\n      if (isShowNumber) {\n        var numberGeneratorRule_1 = this.getNumberGeneratorRule() || SearchTable.NUMBER_GENERATOR_RULE_ALONE;\n        var _a = this,\n          _b = _a.page,\n          page_1 = _b === void 0 ? 0 : _b,\n          _c = _a.limit,\n          limit_1 = _c === void 0 ? 10 : _c;\n        return [tslib_1.__assign(tslib_1.__assign({}, this.getTableNumberColumnProps ? this.getTableNumberColumnProps() || {} : {}), {\n          title: adherev_util_intl_1.default.tv('序号'),\n          key: '_number',\n          dataIndex: '_number',\n          align: 'center',\n          width: getTableNumberColumnWidth || 80,\n          customRender: function customRender(text, row, index) {\n            // const numberGeneratorRule =\n            //   this.getNumberGeneratorRule() || NUMBER_GENERATOR_RULE_ALONE;\n            //\n            // const { page = 0, limit = 10 } = this;\n            return h(adherev_ui_conditionalrender_1.default, {\n              \"attrs\": {\n                \"conditional\": numberGeneratorRule_1 === exports.NUMBER_GENERATOR_RULE_ALONE\n              }\n            }, [h(\"span\", {\n              \"slot\": \"default\"\n            }, [_this.renderTableNumberColumn(h, index + 1, {\n              value: text,\n              record: row,\n              index: index\n            })]), h(\"span\", {\n              \"slot\": \"noMatch\"\n            }, [_this.renderTableNumberColumn(h, (page_1 - 1) * limit_1 + (index + 1), {\n              value: text,\n              record: row,\n              index: index\n            })])]);\n          }\n        })].concat(columns);\n      }\n      return columns;\n    },\n    /**\n     * getTableRowComponentReducers\n     */\n    getTableRowComponentReducers: function getTableRowComponentReducers() {\n      return this.$data.$tableRowComponentReducers;\n    },\n    /**\n     * getTableCellComponentReducers\n     */\n    getTableCellComponentReducers: function getTableCellComponentReducers() {\n      return this.$data.$tableCellComponentReducers;\n    },\n    /**\n     * getSortColumnSetting\n     */\n    getSortColumnSetting: function getSortColumnSetting() {\n      var columns = tslib_1.__spreadArray([], this.columnSetting, true);\n      columns.sort(function (c1, c2) {\n        if (c1.sort > c2.sort) return 1;\n        if (c1.sort < c2.sort) return -1;\n        return 0;\n      });\n      return columns;\n    },\n    /**\n     * getScrollHeaderEl\n     */\n    getScrollHeaderEl: function getScrollHeaderEl() {\n      var tableWrapRef = this.$refs.tableWrapRef;\n      return tableWrapRef === null || tableWrapRef === void 0 ? void 0 : tableWrapRef.querySelector('.ant-table-wrapper > .ant-spin-nested-loading > .ant-spin-container > .ant-table > .ant-table-content > .ant-table-scroll > .ant-table-header');\n    },\n    /**\n     * getScrollBodyEl\n     */\n    getScrollBodyEl: function getScrollBodyEl() {\n      var tableWrapRef = this.$refs.tableWrapRef;\n      return tableWrapRef === null || tableWrapRef === void 0 ? void 0 : tableWrapRef.querySelector('.ant-table-wrapper > .ant-spin-nested-loading > .ant-spin-container > .ant-table > .ant-table-content > .ant-table-scroll > .ant-table-body');\n    },\n    /**\n     * renderTableNumberColumn\n     * @description - 渲染序号列\n     * @param h\n     * @param number\n     * @param params\n     */\n    renderTableNumberColumn: function renderTableNumberColumn(h, number, params) {\n      var _a, _b, _c, _d;\n      if (number === void 0) {\n        number = '';\n      }\n      return ((_b = (_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.tableNumberColumn) === null || _b === void 0 ? void 0 : _b.call(_a, {\n        context: (_d = (_c = this.getContext) === null || _c === void 0 ? void 0 : _c.call(this)) === null || _d === void 0 ? void 0 : _d.context,\n        number: number\n      })) || h(\"span\", [number]);\n    },\n    /**\n     * renderColumnSetting\n     * @description 创建列设置组件\n     */\n    renderColumnSetting: function renderColumnSetting(h) {\n      var _this = this;\n      var _a, _b, _c, _d;\n      var columns = tslib_1.__spreadArray([], this.columnSetting, true);\n      columns.sort(function (c1, c2) {\n        if (c1.sort > c2.sort) return 1;\n        if (c1.sort < c2.sort) return -1;\n        return 0;\n      });\n      return ((_b = (_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.columnSetting) === null || _b === void 0 ? void 0 : _b.call(_a, {\n        context: (_d = (_c = this.getContext) === null || _c === void 0 ? void 0 : _c.call(this)) === null || _d === void 0 ? void 0 : _d.context,\n        columns: columns\n      })) || // @ts-ignore\n      h(ColumnSetting_1.default, {\n        \"attrs\": {\n          \"columns\": columns\n        },\n        \"on\": {\n          \"showColumns\": function showColumns(checked) {\n            var _a;\n            _this.columnSetting = (_a = _this.columnSetting || []) === null || _a === void 0 ? void 0 : _a.map(function (column) {\n              return tslib_1.__assign(tslib_1.__assign({}, column), {\n                display: checked\n              });\n            });\n          },\n          \"reset\": function reset() {\n            _this.columnSetting = _this.getTableColumns(h).map(function (column, index) {\n              return tslib_1.__assign(tslib_1.__assign({}, column), {\n                display: true,\n                sort: index\n              });\n            });\n          },\n          \"displayColumn\": function displayColumn(column, checked) {\n            var _a;\n            _this.columnSetting = (_a = _this.columnSetting || []) === null || _a === void 0 ? void 0 : _a.map(function (_column) {\n              return tslib_1.__assign(tslib_1.__assign({}, _column), {\n                display: _column.key === column.key ? checked : _column.display\n              });\n            });\n          },\n          \"sortEnd\": function sortEnd(map) {\n            var _a;\n            _this.columnSetting = (_a = _this.columnSetting || []) === null || _a === void 0 ? void 0 : _a.map(function (column) {\n              return tslib_1.__assign(tslib_1.__assign({}, column), {\n                sort: map.get(column.key)\n              });\n            });\n          }\n        }\n      });\n    },\n    /**\n     * renderTableDensitySetting\n     * @description 表格密度设置\n     */\n    renderTableDensitySetting: function renderTableDensitySetting(h) {\n      var _this = this;\n      var _a, _b;\n      return ((_b = (_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.tableDensitySetting) === null || _b === void 0 ? void 0 : _b.call(_a, this)) || // @ts-ignore\n      h(TableDensitySetting_1.default, {\n        \"attrs\": {\n          \"density\": this.tableDensity\n        },\n        \"on\": {\n          \"change\": function change(density) {\n            _this.tableDensity = density;\n          },\n          \"reset\": function reset() {\n            _this.tableDensity = _this.getTableDensity();\n          }\n        }\n      });\n    },\n    /**\n     * renderSearchFooter\n     * @param h\n     */\n    renderSearchFooter: function renderSearchFooter(h) {\n      var _this = this;\n      var _a, _b, _c, _d;\n      var isShowExpandSearch = this.isShowExpandSearch;\n      var defaultItems = [h(ant_design_vue_1.Button, {\n        \"class\": \"\".concat(exports.selectorPrefix, \"-searchfooteritem\"),\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"key\": \"search\",\n        \"on\": {\n          \"click\": function click() {\n            _this.page = 1;\n            _this.$nextTick(function () {\n              this.onSearch();\n            });\n          }\n        }\n      }, [h(\"i\", {\n        \"class\": (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-searchfooteritem-search-btn-icon\"), 'iconfont iconsousuo')\n      }), adherev_util_intl_1.default.tv('查询')]), h(ant_design_vue_1.Button, {\n        \"class\": \"\".concat(exports.selectorPrefix, \"-searchfooteritem\"),\n        \"key\": \"reset\",\n        \"on\": {\n          \"click\": this.onClear\n        }\n      }, [adherev_util_intl_1.default.tv('重置')])];\n      if (isShowExpandSearch) {\n        defaultItems.push(h(adherev_ui_conditionalrender_1.default, {\n          \"attrs\": {\n            \"conditional\": this.expand\n          }\n        }, [h(\"a\", {\n          \"slot\": \"noMatch\",\n          \"key\": \"expand\",\n          \"class\": \"\".concat(exports.selectorPrefix, \"-searchfooteritem-expand-search-up-btn\"),\n          \"on\": {\n            \"click\": function click() {\n              // this.expand = true;\n              _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\n              _this.expand = true;\n              _this.$nextTick(function () {\n                this.onSearchPanelCollapseAfter && this.onSearchPanelCollapseAfter();\n              });\n            }\n          }\n        }, [h(\"span\", [adherev_util_intl_1.default.tv('展开')]), h(\"i\", {\n          \"class\": \"iconfont iconup\"\n        })]), h(\"a\", {\n          \"key\": \"hide\",\n          \"class\": \"\".concat(exports.selectorPrefix, \"-searchfooteritem-expand-search-down-btn\"),\n          \"on\": {\n            \"click\": function click() {\n              // this.expand = false;\n              _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\n              _this.expand = false;\n              _this.$nextTick(function () {\n                this.onSearchPanelCollapseAfter && this.onSearchPanelCollapseAfter();\n              });\n            }\n          }\n        }, [h(\"span\", [adherev_util_intl_1.default.tv('关闭')]), h(\"i\", {\n          \"class\": \"iconfont icondownarrow\"\n        })])]));\n      }\n      // 返回的是VNodes数组\n      var items = this.renderSearchFooterItems(h, defaultItems) || tslib_1.__spreadArray([], defaultItems, true);\n      return h(\"div\", {\n        \"class\": \"\".concat(exports.selectorPrefix, \"-searchfooterwrapper\")\n      }, [((_b = (_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.searchFooter) === null || _b === void 0 ? void 0 : _b.call(_a, {\n        context: (_d = (_c = this.getContext) === null || _c === void 0 ? void 0 : _c.call(this)) === null || _d === void 0 ? void 0 : _d.context,\n        items: items\n      })) || items.map(function (t, index) {\n        return h(\"div\", {\n          \"key\": index,\n          \"class\": \"\".concat(exports.selectorPrefix, \"-searchfooteritem\")\n        }, [t]);\n      })]);\n    },\n    /**\n     * renderTable\n     * @description - 认选表格体\n     * @protected\n     */\n    renderTable: function renderTable(h) {\n      var _a, _b, _c, _d;\n      if ((_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.table) {\n        return (_c = (_b = this.$scopedSlots) === null || _b === void 0 ? void 0 : _b.table) === null || _c === void 0 ? void 0 : _c.call(_b, this);\n      }\n      var _e = this,\n        antdTableProps = _e.antdTableProps,\n        fixedHeaderAutoTable = _e.fixedHeaderAutoTable;\n      // 作用域插槽\n      var scopedSlots = tslib_1.__assign({}, ((_d = this === null || this === void 0 ? void 0 : this.getScopedSlots) === null || _d === void 0 ? void 0 : _d.call(this, h)) || {});\n      var tablePropsAttr = {};\n      var tableOnAttr = {};\n      var mergeProps = antdTableProps || {};\n      for (var p in mergeProps) {\n        if (p.startsWith('on')) {\n          tableOnAttr[p.substring(2).toLowerCase()] = mergeProps[p];\n        } else {\n          tablePropsAttr[p] = mergeProps[p];\n        }\n      }\n      var _f = this,\n        _g = _f.columnSetting,\n        columnSetting = _g === void 0 ? [] : _g,\n        tableDensity = _f.tableDensity;\n      var columns = this.getTableColumns(h).map(function (column, index) {\n        return tslib_1.__assign(tslib_1.__assign({}, columnSetting[index]), column);\n      }).filter(function (column) {\n        return column.display;\n      });\n      columns.sort(function (c1, c2) {\n        if (c1.sort > c2.sort) return 1;\n        if (c1.sort < c2.sort) return -1;\n        return 0;\n      });\n      // Table的antdProps配置\n      var tableProps = {\n        scopedSlots: scopedSlots,\n        props: tslib_1.__assign({\n          ref: 'antdTableRef',\n          rowKey: this.getRowKey(),\n          dataSource: this.getData(),\n          columns: columns,\n          size: tableDensity,\n          pagination: this.getPagination(),\n          rowSelection: this.getRowSelection(),\n          components: this.components\n        }, tablePropsAttr || {}),\n        on: tslib_1.__assign({\n          change: this.onTableChange\n        }, tableOnAttr || {})\n      };\n      // 是否支持锁定列头，表格体滚动\n      if (fixedHeaderAutoTable) {\n        var scrollY_1 = this.scrollY;\n        if (tablePropsAttr) {\n          // @ts-ignore\n          if (tablePropsAttr.scroll) {\n            // @ts-ignore\n            tableProps.props.scroll.y = scrollY_1;\n          } else {\n            // @ts-ignore\n            tableProps.props.scroll = {\n              y: scrollY_1\n            };\n          }\n        } else {\n          // @ts-ignore\n          tableProps.props.scroll = {\n            y: scrollY_1\n          };\n        }\n      }\n      this.$data.$tableRowComponentReducers = this.onTableRowComponentReducers(columns);\n      this.$data.$tableCellComponentReducers = this.onTableCellComponentReducers(columns);\n      return h(ant_design_vue_1.Table, (0, _babelHelperVueJsxMergeProps.default)([{}, tableProps]));\n    },\n    /**\n     * renderInner\n     * @param h\n     */\n    renderInner: function renderInner(h) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n      if ((_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.inner) {\n        return (_c = (_b = this.$scopedSlots) === null || _b === void 0 ? void 0 : _b.inner) === null || _c === void 0 ? void 0 : _c.call(_b, this);\n      }\n      var _p = this,\n        className = _p.className,\n        wrapStyle = _p.wrapStyle,\n        tableClassName = _p.tableClassName,\n        tableStyle = _p.tableStyle,\n        searchStyle = _p.searchStyle,\n        searchClassName = _p.searchClassName,\n        fitSearch = _p.fitSearch,\n        fitTable = _p.fitTable,\n        autoFixed = _p.autoFixed,\n        fixedTableSpaceBetween = _p.fixedTableSpaceBetween;\n      return h(adherev_ui_flexlayout_1.default, {\n        \"attrs\": {\n          \"direction\": \"vertical\"\n        },\n        \"style\": wrapStyle || '',\n        \"class\": (0, classnames_1.default)(exports.selectorPrefix, fixedTableSpaceBetween ? 'fixedtablespacebetween' : '', className || '')\n      }, [h(Fixed, {\n        \"class\": (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-searchwrapper\"), searchClassName || ''),\n        \"style\": searchStyle || '',\n        \"attrs\": {\n          \"fit\": fitSearch\n        }\n      }, [h(adherev_ui_flexlayout_1.default, {\n        \"attrs\": {\n          \"direction\": \"vertical\"\n        }\n      }, [h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": this.$scopedSlots.searchFormBefore || !!this.renderSearchFormBefore\n        }\n      }, [h(Fixed, {\n        \"slot\": \"default\"\n      }, [((_e = (_d = this.$scopedSlots) === null || _d === void 0 ? void 0 : _d.searchFormBefore) === null || _e === void 0 ? void 0 : _e.call(_d, this)) || this.renderSearchFormBefore(h)])]), h(Fixed, [h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": this.expand\n        }\n      }, [((_g = (_f = this.$scopedSlots) === null || _f === void 0 ? void 0 : _f.searchForm) === null || _g === void 0 ? void 0 : _g.call(_f, this)) || this.renderSearchForm(h)])]), h(Fixed, [this.renderSearchFooter(h)]), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": this.$scopedSlots.searchFormAfter || !!this.renderSearchFormAfter\n        }\n      }, [h(Fixed, {\n        \"slot\": \"default\"\n      }, [((_j = (_h = this.$scopedSlots) === null || _h === void 0 ? void 0 : _h.searchFormAfter) === null || _j === void 0 ? void 0 : _j.call(_h, this)) || this.renderSearchFormAfter(h)])])])]), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !!this.$scopedSlots.tableHeader || !!this.renderTableHeader\n        }\n      }, [h(Fixed, {\n        \"slot\": \"default\"\n      }, [((_l = (_k = this.$scopedSlots) === null || _k === void 0 ? void 0 : _k.tableHeader) === null || _l === void 0 ? void 0 : _l.call(_k, this)) || this.renderTableHeader(h)])]), h(Auto, {\n        \"class\": (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-autowrapper\"), tableClassName || '', autoFixed ? 'autofixed' : ''),\n        \"style\": tableStyle || '',\n        \"attrs\": {\n          \"fit\": fitTable,\n          \"autoFixed\": autoFixed\n        }\n      }, [h(\"div\", {\n        \"ref\": \"tableWrapRef\",\n        \"class\": \"\".concat(exports.selectorPrefix, \"-tablewrapper\")\n      }, [this.renderTable(h)])]), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !!this.$scopedSlots.tableFooter || !!this.renderTableFooter\n        }\n      }, [h(Fixed, {\n        \"slot\": \"default\"\n      }, [((_o = (_m = this.$scopedSlots) === null || _m === void 0 ? void 0 : _m.tableFooter) === null || _o === void 0 ? void 0 : _o.call(_m, this)) || this.renderTableFooter(h)])])]);\n    },\n    /**\n     * renderSearchTable\n     * @description - renderSearchTable\n     * @param h\n     */\n    renderSearchTable: function renderSearchTable(h) {\n      var _a, _b;\n      return ((_b = (_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.searchTable) === null || _b === void 0 ? void 0 : _b.call(_a, this)) || h(\"div\", {\n        \"class\": \"\".concat(exports.selectorPrefix, \"-wrap\")\n      }, [this.$renderSuspense(h)]);\n    }\n  },\n  render: function render(h) {\n    return this.renderSearchTable(h);\n  }\n});\nexports.default = SearchTable;"],"names":["_interopRequireDefault","require","_babelHelperVueJsxMergeProps","tslib_1","Object","defineProperty","exports","value","ROW_SELECTION_CONTINUOUS_MODE","ROW_SELECTION_NORMAL_MODE","NUMBER_GENERATOR_RULE_CONTINUITY","NUMBER_GENERATOR_RULE_ALONE","selectorPrefix","ant_design_vue_1","classnames_1","__importDefault","lodash_clonedeep_1","adherev_ui_conditionalrender_1","adherev_ui_flexlayout_1","adherev_ui_suspense_1","adherev_util_1","adherev_util_intl_1","adherev_util_mixins_1","ColumnResizable_1","__importStar","ColumnSetting_1","TableCell_1","TableRow_1","TableDensitySetting_1","types_1","updatedEx","default","watchEffect","Fixed","Auto","extend","_util","SearchTable","Symbol","className","mixins","props","type","String","wrapStyle","tableClassName","tableStyle","searchClassName","searchStyle","reset","Boolean","antdTableProps","isShowExpandSearch","defaultExpandSearchCollapse","fitSearch","fitTable","autoFixed","fixedHeaderAutoTable","fixedTableSpaceBetween","showColumnSetting","scopedSlots","data","page","limit","expand","this","scrollY","columnSetting","tableDensity","TableDensity","DEFAULT","$columnResizable","$columnObserver","$rowConfigReducers","$cellConfigReducers","$tableRowComponentReducers","$tableCellComponentReducers","computed","components","columns","getTableColumns","$createElement","header","cell","SearchTableResizableTitle","body","row","provide","getContext","created","map","column","index","__assign","sort","display","getTableDensity","prevState","$refs","tableWrapRef","searchTableResizableEffectLayout","fixedHeaderAutoTableEffectLayout","columnSettingEffect","beforeDestroy","_a","getScrollBodyEl","removeEventListener","onScrollBodyScroll","methods","context","$data","SearchTableResizableObserver","tablePaginationHeight","dataSource","getData","length","scrollBodyEl","addEventListener","tableHeaderHeight","querySelector","offsetHeight","_b","clientHeight","preColumnSettingRowKeys","columnSettingRowKeys","rowKey_1","_this","preColumnSetting","call","t","getRowKey","toString","item","find","onSearchPanelCollapseBefore","onSearchPanelCollapseAfter","onTableChange","pagination","filters","sorter","getOrderFieldProp","field","getOrderFieldValue","getOrderProp","order","$nextTick","fetchData","onSubTableChange","onClear","Promise","resolve","getLimit","clear","then","getScrollHeaderEl","scrollLeft","sortOrder","columnName","onCellConfigReducers","params","rowIndex","record","reduce","reducer","onRowConfigReducers","rowConfig","onRow","primaryValue","findIndex","getColumns","rowKey","Number","getPagination","onChange","onShowSizeChange","showTotal","total","tv","pageSize","getTotal","current","showQuickJumper","h","numberGeneratorRule_1","page_1","limit_1","isShowNumber","getTableNumberColumnWidth","filter","$hide","$authorized","res","loop","_column","_res","$resizable","searchTableResizableColumnItem","children","Array","isArray","forEach","_t","_index","customCell","getNumberGeneratorRule","_c","getTableNumberColumnProps","title","key","dataIndex","align","width","customRender","text","attrs","conditional","slot","renderTableNumberColumn","concat","getTableRowComponentReducers","getTableCellComponentReducers","getSortColumnSetting","__spreadArray","c1","c2","number","_d","$scopedSlots","tableNumberColumn","renderColumnSetting","on","showColumns","checked","displayColumn","sortEnd","get","renderTableDensitySetting","tableDensitySetting","density","change","renderSearchFooter","defaultItems","Button","class","click","onSearch","items","push","renderSearchFooterItems","searchFooter","renderTable","table","p","getScopedSlots","tablePropsAttr","tableOnAttr","mergeProps","startsWith","substring","toLowerCase","_g","tableProps","ref","size","rowSelection","getRowSelection","scrollY_1","scroll","y","onTableRowComponentReducers","onTableCellComponentReducers","Table","renderInner","inner","_p","direction","style","fit","searchFormBefore","renderSearchFormBefore","_e","_f","searchForm","renderSearchForm","searchFormAfter","renderSearchFormAfter","_j","_h","tableHeader","renderTableHeader","_l","_k","tableFooter","renderTableFooter","_o","_m","renderSearchTable","searchTable","$renderSuspense","render"],"mappings":"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"}