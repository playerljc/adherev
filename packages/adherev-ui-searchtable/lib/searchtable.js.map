{"version":3,"file":"searchtable.js","sources":["searchtable.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _babelHelperVueJsxMergeProps = _interopRequireDefault(require(\"@vue/babel-helper-vue-jsx-merge-props\"));\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.string.starts-with.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = void 0 && (void 0).__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NUMBER_GENERATOR_RULE_CONTINUITY = exports.NUMBER_GENERATOR_RULE_ALONE = void 0;\n\nvar vue_1 = __importDefault(require(\"vue\"));\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar adherev_ui_suspense_1 = __importDefault(require(\"@baifendian/adherev-ui-suspense\"));\n\nvar adherev_ui_flexlayout_1 = __importDefault(require(\"@baifendian/adherev-ui-flexlayout\"));\n\nvar adherev_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\n\nvar adherev_util_intl_1 = __importDefault(require(\"@baifendian/adherev-util-intl\"));\n\nvar adherev_util_mixins_1 = __importDefault(require(\"@baifendian/adherev-util-mixins\"));\n\nvar selectorPrefix = 'adherev-ui-searchtable';\nvar updatedEx = adherev_util_mixins_1.default.updatedEx;\nvar Fixed = adherev_ui_flexlayout_1.default.Fixed,\n    Auto = adherev_ui_flexlayout_1.default.Auto; // 单独模式\n\nexports.NUMBER_GENERATOR_RULE_ALONE = Symbol(); // 连续模式\n\nexports.NUMBER_GENERATOR_RULE_CONTINUITY = Symbol();\nexports.default = vue_1.default.extend({\n  // @overview\n  mixins: [adherev_ui_suspense_1.default, updatedEx],\n  props: {\n    wrapStyle: {\n      type: String,\n      default: ''\n    },\n    className: {\n      type: String,\n      default: ''\n    },\n    tableClassName: {\n      type: String,\n      default: ''\n    },\n    tableStyle: {\n      type: String,\n      default: ''\n    },\n    searchClassName: {\n      type: String,\n      default: ''\n    },\n    searchStyle: {\n      type: String,\n      default: ''\n    },\n    reset: {\n      type: Boolean,\n      default: true\n    },\n    antdTableProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    // 是否有展开和收缩的功能\n    isShowExpandSearch: {\n      type: Boolean,\n      default: true\n    },\n    // 展开和收缩的默认状态\n    defaultExpandSearchCollapse: {\n      type: Boolean,\n      default: true\n    },\n    // 撑开search\n    fitSearch: {\n      type: Boolean,\n      default: true\n    },\n    // 撑开表格\n    fitTable: {\n      type: Boolean,\n      default: true\n    },\n    // 是否是查询固定，表格自适应\n    autoFixed: {\n      type: Boolean,\n      default: true\n    },\n    // 锁定列头，表格滚动\n    fixedHeaderAutoTable: {\n      type: Boolean,\n      default: false\n    },\n    // 两端固定(表格的头始终在上方，分页始终在下方)\n    fixedTableSpaceBetween: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      page: 1,\n      limit: 10,\n      expand: this.defaultExpandSearchCollapse,\n      scrollY: 0\n    };\n  },\n  updatedEx: function updatedEx(prevState) {\n    var _a, _b;\n\n    if (!this.$refs.tableWrapRef) return;\n\n    if (this.fixedHeaderAutoTable) {\n      var dataSource = this.getData();\n\n      if (dataSource && dataSource.length && (prevState.scrollY === 0 && this.scrollY === 0 || prevState.scrollY !== this.scrollY || prevState.expand !== this.expand)) {\n        var tableWrapRef = this.$refs.tableWrapRef;\n        var scrollBodyEl = this.getScrollBodyEl();\n\n        if (scrollBodyEl) {\n          scrollBodyEl.removeEventListener('scroll', this.onScrollBodyScroll);\n          scrollBodyEl.addEventListener('scroll', this.onScrollBodyScroll);\n        }\n\n        var tableHeaderHeight = ((_a = tableWrapRef.querySelector('.ant-table-thead')) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n        var tablePaginationHeight = ((_b = tableWrapRef.querySelector('.ant-table-pagination')) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n        this.scrollY = tableWrapRef.clientHeight - (tableHeaderHeight + (tablePaginationHeight ? tablePaginationHeight + 16 * 2 : 0));\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var _a;\n\n    var fixedHeaderAutoTable = this.fixedHeaderAutoTable;\n\n    if (fixedHeaderAutoTable) {\n      (_a = this.getScrollBodyEl()) === null || _a === void 0 ? void 0 : _a.removeEventListener('scroll', this.onScrollBodyScroll);\n    }\n  },\n  methods: {\n    onScrollBodyScroll: function onScrollBodyScroll() {\n      var scrollBodyEl = this.getScrollBodyEl();\n      var scrollHeaderEl = this.getScrollHeaderEl();\n      scrollHeaderEl === null || scrollHeaderEl === void 0 ? void 0 : scrollHeaderEl.scrollLeft = scrollBodyEl === null || scrollBodyEl === void 0 ? void 0 : scrollBodyEl.scrollLeft;\n    },\n    getScrollHeaderEl: function getScrollHeaderEl() {\n      var tableWrapRef = this.$refs.tableWrapRef;\n      return tableWrapRef === null || tableWrapRef === void 0 ? void 0 : tableWrapRef.querySelector('.ant-table-wrapper > .ant-spin-nested-loading > .ant-spin-container > .ant-table > .ant-table-content > .ant-table-scroll > .ant-table-header');\n    },\n    getScrollBodyEl: function getScrollBodyEl() {\n      var tableWrapRef = this.$refs.tableWrapRef;\n      return tableWrapRef === null || tableWrapRef === void 0 ? void 0 : tableWrapRef.querySelector('.ant-table-wrapper > .ant-spin-nested-loading > .ant-spin-container > .ant-table > .ant-table-content > .ant-table-scroll > .ant-table-body');\n    },\n\n    /**\n     * renderTableNumberColumn\n     * @description - 渲染序号列\n     * @param h\n     * @param number\n     * @param params\n     */\n    renderTableNumberColumn: function renderTableNumberColumn(h, number, params) {\n      if (number === void 0) {\n        number = '';\n      }\n\n      return h(\"span\", [number]);\n    },\n    renderSearchTableInner: function renderSearchTableInner(h) {\n      var _a = this,\n          wrapStyle = _a.wrapStyle,\n          className = _a.className,\n          tableClassName = _a.tableClassName,\n          tableStyle = _a.tableStyle,\n          searchStyle = _a.searchStyle,\n          searchClassName = _a.searchClassName,\n          fitSearch = _a.fitSearch,\n          fitTable = _a.fitTable,\n          autoFixed = _a.autoFixed,\n          fixedTableSpaceBetween = _a.fixedTableSpaceBetween;\n\n      return h(adherev_ui_flexlayout_1.default, {\n        \"attrs\": {\n          \"direction\": \"vertical\",\n          \"className\": classnames_1.default.apply(void 0, __spreadArrays([selectorPrefix, fixedTableSpaceBetween ? 'fixedtablespacebetween' : ''], (className || '').split(/\\s+/)))\n        },\n        \"style\": wrapStyle || ''\n      }, [h(Fixed, {\n        \"style\": searchStyle || '',\n        \"attrs\": {\n          \"className\": classnames_1.default.apply(void 0, __spreadArrays([selectorPrefix + \"-searchwrapper\"], (searchClassName || '').split(/\\s+/))),\n          \"fit\": fitSearch\n        }\n      }, [h(adherev_ui_flexlayout_1.default, {\n        \"attrs\": {\n          \"direction\": \"vertical\"\n        }\n      }, [h(Fixed, [h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": this.expand\n        }\n      }, [this.renderSearchForm(h)])]), h(Fixed, [this.renderSearchFooter(h)])])]), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !!this.$slots.tableHeader\n        }\n      }, [h(Fixed, [this.$slots.tableHeader])]), h(Auto, {\n        \"style\": tableStyle || '',\n        \"attrs\": {\n          \"className\": classnames_1.default.apply(void 0, __spreadArrays([selectorPrefix + \"-autowrapper\"], (tableClassName || '').split(/\\s+/), [autoFixed ? 'autofixed' : ''])),\n          \"fit\": fitTable,\n          \"autoFixed\": autoFixed\n        }\n      }, [h(\"div\", {\n        \"ref\": \"tableWrapRef\",\n        \"class\": selectorPrefix + \"-tablewrapper\"\n      }, [this.renderTable(h)])]), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !!this.$slots.tableFooter\n        }\n      }, [h(Fixed, [this.$slots.tableFooter])])]);\n    },\n\n    /**\n     * renderInner\n     * @param h\n     */\n    renderInner: function renderInner(h) {\n      return this.renderSearchTableInner(h);\n    },\n    renderSearchTableSearchFooter: function renderSearchTableSearchFooter(h) {\n      var _this = this;\n\n      var isShowExpandSearch = this.isShowExpandSearch;\n      var defaultItems = [h(ant_design_vue_1.Button, {\n        \"class\": selectorPrefix + \"-searchfooteritem\",\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"on\": {\n          \"click\": function click() {\n            _this.page = 1;\n\n            _this.onSearch();\n          }\n        }\n      }, [h(\"i\", {\n        \"class\": \"iconfont iconsousuo\"\n      }), adherev_util_intl_1.default.tv('查询')]), h(ant_design_vue_1.Button, {\n        \"class\": selectorPrefix + \"-searchfooteritem\",\n        \"on\": {\n          \"click\": this.onClear\n        }\n      }, [adherev_util_intl_1.default.tv('重置')])];\n\n      if (isShowExpandSearch) {\n        defaultItems.push(h(adherev_ui_conditionalrender_1.default, {\n          \"attrs\": {\n            \"conditional\": this.expand\n          }\n        }, [h(\"a\", {\n          \"slot\": \"noMatch\",\n          \"style\": \"display: flex; align-items: center\",\n          \"on\": {\n            \"click\": function click() {\n              _this.expand = true;\n            }\n          }\n        }, [h(\"span\", {\n          \"style\": \"margin-right: 5px;\"\n        }, [adherev_util_intl_1.default.tv('展开')]), h(\"img\", {\n          \"style\": \"width: 16px;\",\n          \"attrs\": {\n            \"src\": \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjMzODYzMjYyMTM1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE1MjQ0IiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0xOTkuMzYgNTcyLjc2OGEzMS45MDQgMzEuOTA0IDAgMCAwIDIyLjYyNC05LjM3NmwyOTQuMTQ0LTI5NC4xNDQgMjg1LjcyOCAyODUuNzI4YTMxLjk2OCAzMS45NjggMCAxIDAgNDUuMjQ4LTQ1LjI0OEw1MzguNzUyIDIwMS4zNzZhMzIgMzIgMCAwIDAtNDUuMjggMEwxNzYuNzA0IDUxOC4xNDRhMzEuOTY4IDMxLjk2OCAwIDAgMCAyMi42NTYgNTQuNjI0eiBtMzM5LjQyNC0xMTUuMzkyYTMyIDMyIDAgMCAwLTQ1LjI4IDBMMTc2LjczNiA3NzQuMTQ0YTMxLjk2OCAzMS45NjggMCAxIDAgNDUuMjQ4IDQ1LjI0OGwyOTQuMTQ0LTI5NC4xNDQgMjg1LjcyOCAyODUuNzI4YTMxLjk2OCAzMS45NjggMCAxIDAgNDUuMjQ4LTQ1LjI0OGwtMzA4LjMyLTMwOC4zNTJ6IiBwLWlkPSIxNTI0NSIgZmlsbD0iIzE4OTBmZiI+PC9wYXRoPjwvc3ZnPg==\",\n            \"alt\": \"up\"\n          }\n        })]), h(\"a\", {\n          \"style\": \"display: flex; align-items: center\",\n          \"on\": {\n            \"click\": function click() {\n              _this.expand = false;\n            }\n          }\n        }, [h(\"span\", {\n          \"style\": \"margin-right: 5px;\"\n        }, [adherev_util_intl_1.default.tv('关闭')]), h(\"img\", {\n          \"style\": \"width: 16px;\",\n          \"attrs\": {\n            \"src\": \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjMzODYzMTc4MzI5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE0ODY3IiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik00OTMuNTA0IDU1OC4xNDRhMzEuOTA0IDMxLjkwNCAwIDAgMCA0NS4yOCAwbDMwOC4zNTItMzA4LjM1MmEzMS45NjggMzEuOTY4IDAgMSAwLTQ1LjI0OC00NS4yNDhMNTE2LjE2IDQ5MC4yNzIgMjIxLjk4NCAxOTYuMTI4YTMxLjk2OCAzMS45NjggMCAxIDAtNDUuMjQ4IDQ1LjI0OGwzMTYuNzY4IDMxNi43Njh6IiBwLWlkPSIxNDg2OCIgZmlsbD0iIzE4OTBmZiI+PC9wYXRoPjxwYXRoIGQ9Ik04MDEuODg4IDQ2MC41NzZMNTE2LjE2IDc0Ni4zMDQgMjIyLjAxNiA0NTIuMTZhMzEuOTY4IDMxLjk2OCAwIDEgMC00NS4yNDggNDUuMjQ4bDMxNi43NjggMzE2Ljc2OGEzMS45MDQgMzEuOTA0IDAgMCAwIDQ1LjI4IDBsMzA4LjM1Mi0zMDguMzUyYTMyIDMyIDAgMSAwLTQ1LjI4LTQ1LjI0OHoiIHAtaWQ9IjE0ODY5IiBmaWxsPSIjMTg5MGZmIj48L3BhdGg+PC9zdmc+\",\n            \"alt\": \"down\"\n          }\n        })])]));\n      } // 返回的是VNodes数组\n\n\n      var items = this.renderSearchFooterItems(h, defaultItems) || __spreadArrays(defaultItems);\n\n      return h(\"div\", {\n        \"class\": selectorPrefix + \"-searchfooterwrapper\"\n      }, [items.map(function (t) {\n        return h(\"div\", {\n          \"class\": selectorPrefix + \"-searchfooteritem\"\n        }, [t]);\n      })]);\n    },\n\n    /**\n     * renderSearchFooter\n     * @param h\n     */\n    renderSearchFooter: function renderSearchFooter(h) {\n      return this.renderSearchTableSearchFooter(h);\n    },\n    renderSearchTableTable: function renderSearchTableTable(h) {\n      var _a = this,\n          antdTableProps = _a.antdTableProps,\n          fixedHeaderAutoTable = _a.fixedHeaderAutoTable; // 作用域插槽\n\n\n      var scopedSlots = __assign({}, this.getScopedSlots(h) || {});\n\n      var tablePropsAttr = {};\n      var tableOnAttr = {};\n      var mergeProps = antdTableProps || {};\n\n      for (var p in mergeProps) {\n        if (p.startsWith('on')) {\n          tableOnAttr[p.substring(2).toLowerCase()] = mergeProps[p];\n        } else {\n          tablePropsAttr[p] = mergeProps[p];\n        }\n      } // Table的antdProps配置\n\n\n      var tableProps = {\n        scopedSlots: scopedSlots,\n        props: __assign({\n          rowKey: this.getRowKey(),\n          dataSource: this.getData(),\n          columns: this.getTableColumns(h),\n          pagination: this.getPagination(),\n          rowSelection: this.getRowSelection()\n        }, tablePropsAttr || {}),\n        on: __assign({\n          change: this.onTableChange\n        }, tableOnAttr || {})\n      }; // 是否支持锁定列头，表格体滚动\n\n      if (fixedHeaderAutoTable) {\n        var scrollY = this.scrollY;\n\n        if (tablePropsAttr) {\n          if (tablePropsAttr.scroll) {\n            tableProps.props.scroll.y = scrollY;\n          } else {\n            tableProps.props.scroll = {\n              y: scrollY\n            };\n          }\n        } else {\n          tableProps.props.scroll = {\n            y: scrollY\n          };\n        }\n      }\n\n      return h(ant_design_vue_1.Table, (0, _babelHelperVueJsxMergeProps.default)([{}, tableProps]));\n    },\n\n    /**\n     * renderTable\n     * @description - 认选表格体\n     * @protected\n     */\n    renderTable: function renderTable(h) {\n      return this.renderSearchTableTable(h);\n    },\n    getSearchTableTableColumns: function getSearchTableTableColumns(h) {\n      var _this = this;\n\n      var isShowNumber = this.isShowNumber();\n      var getTableNumberColumnWidth = this.getTableNumberColumnWidth(); // 对权限进行过滤\n\n      var columns = this.getColumns().filter(function (column) {\n        if ('authorized' in column) {\n          return column.authorized();\n        }\n\n        return true;\n      });\n\n      if (isShowNumber) {\n        return [{\n          title: adherev_util_intl_1.default.tv('序号'),\n          // dataIndex: 'number',\n          key: 'number',\n          align: 'center',\n          width: getTableNumberColumnWidth || 80,\n          customRender: function customRender(text, row, index) {\n            var numberGeneratorRule = _this.getNumberGeneratorRule() || exports.NUMBER_GENERATOR_RULE_ALONE;\n            var _a = _this,\n                page = _a.page,\n                limit = _a.limit;\n            return h(adherev_ui_conditionalrender_1.default, {\n              \"attrs\": {\n                \"conditional\": numberGeneratorRule === exports.NUMBER_GENERATOR_RULE_ALONE\n              }\n            }, [h(\"span\", [_this.renderTableNumberColumn(h, index + 1, {\n              record: row,\n              index: index\n            })]), h(\"span\", {\n              \"slot\": \"noMatch\"\n            }, [_this.renderTableNumberColumn(h, (page - 1) * limit + (index + 1), {\n              record: row,\n              index: index\n            })])]);\n          }\n        }].concat(columns);\n      }\n\n      return columns;\n    },\n\n    /**\n     * onTableChange - 表格change\n     */\n    getTableColumns: function getTableColumns(h) {\n      return this.getSearchTableTableColumns(h);\n    },\n\n    /**\n     * onTableChange\n     * @param pagination\n     * @param filters\n     * @param sorter\n     */\n    onTableChange: function onTableChange(pagination, filters, sorter) {\n      this[this.getOrderFieldProp()] = sorter.field;\n      this[this.getOrderProp()] = sorter.order;\n      var order = sorter.order;\n      if (!order) return;\n      this.fetchData();\n      this.onSubTableChange(pagination, filters, sorter);\n    },\n\n    /**\n     * onClear - 清除操作\n     */\n    onClear: function onClear() {\n      var _this = this;\n\n      this.page = 1;\n      this.limit = 10;\n      this.clear().then(function () {\n        _this.fetchData();\n      });\n    },\n\n    /**\n     * sortOrder\n     * @param columnName\n     */\n    sortOrder: function sortOrder(columnName) {\n      return this[this.getOrderFieldProp()] === columnName ? this[this.getOrderProp()] : '';\n    },\n\n    /**\n     * getSearchTablePagination\n     */\n    getSearchTablePagination: function getSearchTablePagination() {\n      var _this = this;\n\n      return {\n        onChange: function onChange(page, limit) {\n          _this.page = page;\n          _this.limit = limit;\n\n          _this.fetchData();\n        },\n        onShowSizeChange: function onShowSizeChange(page, limit) {\n          _this.page = page;\n          _this.limit = limit;\n\n          _this.fetchData();\n        },\n        showTotal: function showTotal(total) {\n          return adherev_util_intl_1.default.tv(\"\\u5F53\\u524D {page}-{pageSize}/\\u5171 {total}\\u6761\", {\n            page: _this.page,\n            pageSize: _this.limit,\n            total: total\n          });\n        },\n        total: this.getTotal(),\n        current: this.page,\n        pageSize: this.limit,\n        showQuickJumper: true\n      };\n    },\n\n    /**\n     * getPagination - 获取分页信息\n     */\n    getPagination: function getPagination() {\n      return this.getSearchTablePagination();\n    },\n\n    /**\n     * renderSearchTable\n     * @description - renderSearchTable\n     * @param h\n     */\n    renderSearchTable: function renderSearchTable(h) {\n      return h(\"div\", {\n        \"class\": selectorPrefix + \"-wrap\"\n      }, [this.renderSuspense(h)]);\n    }\n  },\n  render: function render(h) {\n    return this.renderSearchTable(h);\n  }\n});"],"names":["_interopRequireDefault","require","_babelHelperVueJsxMergeProps","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__spreadArrays","il","r","Array","k","a","j","jl","__importDefault","mod","__esModule","default","defineProperty","exports","value","NUMBER_GENERATOR_RULE_CONTINUITY","NUMBER_GENERATOR_RULE_ALONE","vue_1","ant_design_vue_1","classnames_1","adherev_ui_suspense_1","adherev_ui_flexlayout_1","adherev_ui_conditionalrender_1","adherev_util_intl_1","adherev_util_mixins_1","selectorPrefix","updatedEx","Fixed","Auto","Symbol","extend","mixins","props","wrapStyle","type","String","className","tableClassName","tableStyle","searchClassName","searchStyle","reset","Boolean","antdTableProps","isShowExpandSearch","defaultExpandSearchCollapse","fitSearch","fitTable","autoFixed","fixedHeaderAutoTable","fixedTableSpaceBetween","data","page","limit","expand","scrollY","prevState","tableWrapRef","tableHeaderHeight","$refs","dataSource","getData","scrollBodyEl","getScrollBodyEl","removeEventListener","onScrollBodyScroll","addEventListener","_a","querySelector","offsetHeight","tablePaginationHeight","_b","clientHeight","beforeDestroy","methods","scrollHeaderEl","getScrollHeaderEl","scrollLeft","renderTableNumberColumn","h","number","params","renderSearchTableInner","attrs","direction","split","style","fit","conditional","renderSearchForm","renderSearchFooter","$slots","tableHeader","ref","class","renderTable","tableFooter","renderInner","renderSearchTableSearchFooter","_this","defaultItems","Button","on","click","onSearch","tv","onClear","push","slot","src","alt","items","renderSearchFooterItems","map","renderSearchTableTable","scopedSlots","getScopedSlots","tablePropsAttr","tableOnAttr","mergeProps","startsWith","substring","toLowerCase","tableProps","rowKey","getRowKey","columns","getTableColumns","pagination","getPagination","rowSelection","getRowSelection","change","onTableChange","scroll","y","Table","getSearchTableTableColumns","isShowNumber","getTableNumberColumnWidth","getColumns","filter","column","authorized","title","key","align","width","customRender","text","row","index","numberGeneratorRule","getNumberGeneratorRule","record","concat","filters","sorter","getOrderFieldProp","field","getOrderProp","order","fetchData","onSubTableChange","clear","then","sortOrder","columnName","getSearchTablePagination","onChange","onShowSizeChange","showTotal","total","pageSize","getTotal","current","showQuickJumper","renderSearchTable","renderSuspense","render"],"mappings":"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"}