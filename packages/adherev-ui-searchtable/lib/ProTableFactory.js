"use strict";var _vue=require("vue");function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,_vue.isVNode)(e)}require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.search.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.object.keys.js"),require("core-js/modules/es.array.reduce.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.string.includes.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.array.index-of.js"),require("core-js/modules/es.string.trim.js"),require("core-js/modules/es.array.concat.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.array.find.js"),require("core-js/modules/es.array.sort.js"),require("core-js/modules/es.array.splice.js"),require("core-js/modules/es.array.find-index.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/esnext.map.delete-all.js"),require("core-js/modules/esnext.map.every.js"),require("core-js/modules/esnext.map.filter.js"),require("core-js/modules/esnext.map.find.js"),require("core-js/modules/esnext.map.find-key.js"),require("core-js/modules/esnext.map.includes.js"),require("core-js/modules/esnext.map.key-of.js"),require("core-js/modules/esnext.map.map-keys.js"),require("core-js/modules/esnext.map.map-values.js"),require("core-js/modules/esnext.map.merge.js"),require("core-js/modules/esnext.map.reduce.js"),require("core-js/modules/esnext.map.some.js"),require("core-js/modules/esnext.map.update.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.promise.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),ant_design_vue_1=require("ant-design-vue"),lodash_merge_1=tslib_1.__importDefault(require("lodash.merge")),moment_1=tslib_1.__importDefault(require("moment/moment")),omit_js_1=tslib_1.__importDefault(require("omit.js")),qs_1=tslib_1.__importDefault(require("qs")),vue_1=require("vue"),vue_types_1=require("vue-types"),icons_vue_1=require("@ant-design/icons-vue"),adherev_ui_antdvformitem_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-antdvformitem")),adherev_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-conditionalrender")),adherev_ui_tablegridlayout_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-tablegridlayout")),adherev_util_1=tslib_1.__importDefault(require("@baifendian/adherev-util")),adherev_util_intl_1=tslib_1.__importDefault(require("@baifendian/adherev-util-intl")),adherev_util_resource_1=tslib_1.__importDefault(require("@baifendian/adherev-util-resource")),adherev_util_validator_1=tslib_1.__importDefault(require("@baifendian/adherev-util-validator")),AdvancedSearchPanel_1=tslib_1.__importDefault(require("./Extension/AdvancedSearchPanel")),SearchTable_1=require("./SearchTable"),extend=adherev_util_1.default._util.extend,getComponents=adherev_ui_antdvformitem_1.default.FormItemGeneratorToDict.getComponents,_a=adherev_ui_antdvformitem_1.default.AntdvFormItemNormalize,DatePicker=_a.DatePicker,InputNumberDecimal1=_a.InputNumberDecimal1,InputNumberDecimal2=_a.InputNumberDecimal2,InputNumberInteger=_a.InputNumberInteger,RangePicker=_a.RangePicker,TimePicker=_a.TimePicker,Input=_a.Input,TextArea=_a.TextArea,_renderGridSearchFormGroup=adherev_ui_tablegridlayout_1.default.renderGridSearchFormGroup,Label=adherev_ui_tablegridlayout_1.default.Label,Value=adherev_ui_tablegridlayout_1.default.Value,Components=function(){return getComponents()},_selectorPrefix="".concat(SearchTable_1.selectorPrefix,"-protable"),ProTableFactory=function(e,o){var n=e.className,e=e.superClass;return extend({className:n,mixins:[e],props:{openSearchParamsMemory:(0,vue_types_1.bool)().def(!0)},data:function(){var e=this;return{$pathname:"undefined"!=typeof window?this.getPathName():"",$hasAdvancedSearchPanel:!1,$advancedSearchConfig:{rowCount:"auto",showStrategy:"remaining",insertSearchButton:null,advancedSearch:{width:"60%",mask:!0,zIndex:1e3,time:300,direction:"right",collapse:!0,onBeforeShow:function(){},onBeforeClose:function(){},onAfterShow:function(){},onAfterClose:function(){e.advancedSearchPanelCollapse=!1},getPopupContainer:function(){return document.body}}},advancedSearchPanelCollapse:!1,search:{},searchParams:{},page:1,limit:10}},created:function(){var e={search:{},page:1,limit:this.getLimit()||10};for(n in(e="openSearchParamsMemory"in this&&!("openSearchParamsMemory"in this&&this.openSearchParamsMemory)?e:this.initSearchAndPaginParams()).search)this[n]=e.search[n];this.page=e.page,this.limit=e.limit,this.searchParams=tslib_1.__assign(tslib_1.__assign({},this.searchParams),e.search);var n,t=this.getDateState((0,omit_js_1.default)(this.$data,["searchParams"]));for(n in t)this[n]=t[n];this.searchParams=tslib_1.__assign(tslib_1.__assign({},this.searchParams),this.getDateState(this.searchParams)),this.$data.$hasAdvancedSearchPanel=!1},beforeUnmount:function(){"openSearchParamsMemory"in this&&!("openSearchParamsMemory"in this&&this.openSearchParamsMemory)||this.unMountSearchAndPaginParamsDeal()},methods:{onSearchPanelCollapseBefore:function(){this.hasAdvancedSearch()&&this.$data.$hasAdvancedSearchPanel&&this.expand&&(this.advancedSearchPanelCollapse=!1)},unMountSearchAndPaginParamsDeal:function(){var e,n=this.searchParams||{},t=this.$data.$pathname,r=this.getComponentId();o.isEmpty()?o.add(t,((e={})[r]={search:n,page:this.page,limit:this.limit},e)):(e=o.findByPath(t))&&e.components&&e.components[r]?(e.components[r].search=n,e.components[r].page=this.page,e.components[r].limit=this.limit):o.add(t,((e={})[r]={search:n,page:this.page,limit:this.limit},e))},initSearchAndPaginParams:function(n){var e,t,r=qs_1.default.parse(this.getSearch(),{ignoreQueryPrefix:!0}),a={};return Object.keys(r).forEach(function(e){a[e]=n?n(e,r[e]):r[e]}),!o.isEmpty()&&(e=o.findByPath(this.$data.$pathname),t=this.getComponentId(),e&&e.components[t])?tslib_1.__assign(tslib_1.__assign({},a),e.components[t]):{search:tslib_1.__assign({},a),page:1,limit:this.getLimit()}},hasAdvancedSearch:function(){return!0},hasNumberColumnFixed:function(){return!0},hasOptionColumnFixed:function(){return!0},getPathName:function(){return window.location.pathname},getSearch:function(){return window.location.search},getParams:function(){var o=this,n={};return function a(e){e.reduce(function(e,n){var t=n.$search,r=n.children,t=t||{},n=t.dataIndex||n.dataIndex;return[o.getOptionsColumnDataIndex(),o.getLinkColumnDataIndex(),"_number"].includes(n)||("rangePicker"===t.type?(t.startName&&(e[t.startName]=null),t.endName&&(e[t.endName]=null)):["datePicker","timePicker"].includes(t.type)?e[n]=null:e[n]=void 0,r&&Array.isArray(r)&&a(r)),e},n)}(this.getTableColumns()),n},getDateState:function(n){var e=Object.keys(n).filter(function(e){return null===n[e]||"null"===n[e]||adherev_util_validator_1.default.isDate(n[e],{format:"YYYY-MM-DD"})}),t={};return e.forEach(function(e){t[e]=null===n[e]||"null"===n[e]?null:(0,moment_1.default)(n[e])}),t},getDataKey:function(){return"records"},getTotalKey:function(){return"total"},getLimit:function(){return 10},getFetchDataParams:function(){var t=this,r={};return Object.keys(this.searchParams).filter(function(n){return["start","Start"].some(function(e){return-1!==n.indexOf(e)})||["end","End"].some(function(e){return-1!==n.indexOf(e)})}).forEach(function(n){r[n]=t.searchParams[n]?"".concat(t.searchParams[n].format(adherev_util_resource_1.default.Dict.value.ResourceMomentFormat10.value())," ").concat(["start","Start"].some(function(e){return-1!==n.indexOf(e)})?"00:00:00":["end","End"].some(function(e){return-1!==n.indexOf(e)})?"23:59:59":"").trim():null}),Object.keys(this.searchParams).filter(function(e){return!(e in r)&&t.searchParams[e]instanceof moment_1.default}).forEach(function(e){r[e]=t.searchParams[e]?t.searchParams[e].format(adherev_util_resource_1.default.Dict.value.ResourceMomentFormat10.value()).trim():null}),r},getColumns:function(e){return(e||this.$getColumnsSearchTableImpl()).map(function(e){return tslib_1.__assign({},e)})},getTableColumns:function(){var o=this,e=this.$getTableColumnsSearchTable(),n=(!this.hasOptionColumnFixed()||(n=e.find(function(e){return e.dataIndex===(o.getOptionsColumnDataIndex()||"_options")}))&&!("fixed"in n||n.fixed)&&(n.fixed="right"),!this.hasNumberColumnFixed()||(n=e.find(function(e){return"_number"===e.dataIndex}))&&!("fixed"in n||n.fixed)&&(n.fixed="left"),e.find(function(e){return e.dataIndex===(o.getLinkColumnDataIndex()||"_linkColumn")}));return n&&("ellipsis"in n||(n.ellipsis=!1),"align"in n||(n.align="left")),e.map(function(e){return tslib_1.__assign(tslib_1.__assign({},e),{align:[o.getLinkColumnDataIndex()||"_linkColumn"].includes(e.dataIndex)&&"align"in e&&e.align?e.align:"center"})}).map(function(e){return function t(r){var e=r.$search,n=tslib_1.__rest(r,["$search"]),e=o.assignSearchConfig(e,n),n=e.showColumnHeader,a=tslib_1.__assign({},r),e=e.dataIndex||r.dataIndex;return!["_number",o.getOptionsColumnDataIndex()].includes(e)&&n&&(a=tslib_1.__assign(tslib_1.__assign({},a),{customFilterDropdown:!0})),r.children&&Array.isArray(r.children)&&r.children.forEach(function(e,n){r.children[n]=t(e)}),a}(e)})},getOptionsColumnDataIndex:function(){return"_options"},getLinkColumnDataIndex:function(){return"_linkColumn"},getPagination:function(){var r=this;return tslib_1.__assign(tslib_1.__assign({},this.$getPaginationSearchTable()),{showTotal:function(e){var n=(r.page-1)*r.limit+1,t=r.page*r.limit;return adherev_util_intl_1.default.tv("当前 {page}-{pageSize}/共 {total}条",{page:n,pageSize:t<e?t:e,total:e})}})},getGridSearchFormGroupParams:function(){return[[{name:"g1",columnCount:3,colgroup:[,"auto",,"auto",,"auto"],data:this.getGridSearchFormGroupDataByColumnConfig()}],{},{rowCount:1}]},getGridSearchFormGroupDataByColumnConfig:function(){var m=this,h=[],e=(function d(e){e.filter(function(e){return"$search"in e&&!!e.$search.visible}).forEach(function(e){var n,t,r,a,o=e.$search,i=tslib_1.__rest(e,["$search"]),u=m.assignSearchConfig(o,i),c=(null==u?void 0:u.type)||"input",l=u.dataIndex||e.dataIndex,s=o.title||e.title;h.push({key:l,sort:o.sort,label:(0,_vue.createVNode)(Label,o.labelAttrs||{},{default:function(){return[s,(0,_vue.createTextVNode)("：")]}}),value:adherev_ui_conditionalrender_1.default.conditionalRender({conditional:!m.hasAuthority||(null==(t=m.hasAuthority)?void 0:t.call(m,u.authority)),match:(0,_vue.createVNode)(Value,o.valueAttrs||{},_isSlot(n=m.renderGridSearchFormGroupDataItem(c,{searchConfig:u,column:i,dataIndex:l}))?n:{default:function(){return[n]}}),noMatch:o.renderNoAuthority?(0,_vue.createVNode)(Value,o.valueAttrs||{},{default:function(){return[(null==(a=null==(r=m.$slots)?void 0:r[null==o?void 0:o.renderNoAuthority])?void 0:a.call(r))||(null==(a=null==o?void 0:o.renderNoAuthority)?void 0:a.call(o))]}}):null})}),e.children&&Array.isArray(e.children)&&d(e.children)})}(this.getColumns(this.$getColumnsSearchTableImpl())),h.filter(function(e){return!!e.value})),n=e.filter(function(e){return"sort"in e&&null!==e.sort&&void 0!==e.sort}),t=e.filter(function(e){return!("sort"in e)||null===e.sort||void 0===e.sort||"number"!=typeof e.sort});return n.forEach(function(e){t.splice(e.sort-1,0,e)}),t},getCustomFilterDropdown:function(e){var n,t,r,a,o=this,i=e.column,u=e.confirm,e=i.$search,c=tslib_1.__rest(i,["$search"]),l=this.assignSearchConfig(e,c);if(l.showColumnHeader)return r=i.dataIndex,a=l.type,(0,_vue.createVNode)("div",{class:"".concat(_selectorPrefix,"-headersearchwrap")},[(0,_vue.createVNode)("div",{class:"".concat(_selectorPrefix,"-headersearchwrap-main")},[this.renderGridSearchFormGroupDataItem(a,{searchConfig:l,column:i,dataIndex:r})]),(0,_vue.createVNode)("div",{class:"".concat(_selectorPrefix,"-headersearchwrap-footer")},[(0,_vue.createVNode)(ant_design_vue_1.Button,{size:"small",onClick:function(){"rangePicker"===a?(l.startName&&(o[l.startName]=null),l.endName&&(o[l.endName]=null)):o[r]=void 0,o.$nextTick(function(){return o.onSearch().then(function(){return u()})})}},_isSlot(n=adherev_util_intl_1.default.tv("重置"))?n:{default:function(){return[n]}}),(0,_vue.createVNode)(ant_design_vue_1.Button,{size:"small",type:"primary",onClick:function(){return o.onSearch().then(function(){return u()})}},_isSlot(t=adherev_util_intl_1.default.tv("确定"))?t:{default:function(){return[t]}})])])},getCustomFilterIcon:function(e){var e=e.column,n=e.$search,e=tslib_1.__rest(e,["$search"]);if(this.assignSearchConfig(n,e).showColumnHeader)return(0,_vue.createVNode)(icons_vue_1.SearchOutlined,null,null)},assignSearchConfig:function(e,n){n={type:"input",visible:!0,showColumnHeader:!0,props:{},labelAttrs:{},valueAttrs:{},authority:[],renderNoAuthority:function(){return null},dataIndex:n.dataIndex,title:n.title,dictName:"",renderChildren:function(){return null},render:function(){return null},startName:"",endName:""};return tslib_1.__assign(tslib_1.__assign({},n),e||{})},renderSearchForm:function(){return this.renderGridSearchFormGroup.apply(this,this.getGridSearchFormGroupParams())},renderSearchFooterItems:function(e){var n,t,r=this,e=tslib_1.__spreadArray([],e||[],!0);return this.hasAdvancedSearch()&&this.$data.$hasAdvancedSearchPanel&&this.expand&&(n=(0,_vue.createVNode)(ant_design_vue_1.Button,{type:"primary",onClick:function(){r.advancedSearchPanelCollapse=!0}},{default:function(){return adherev_util_intl_1.default.tv("高级搜索")},icon:function(){return(0,_vue.createVNode)(icons_vue_1.FilterOutlined,null,null)}}),this.$data.$advancedSearchConfig.insertSearchButton?this.$data.$advancedSearchConfig.insertSearchButton(e,n):-1!==(t=e.findIndex(function(e){return(0,vue_1.isVNode)(e)&&"key"in e&&"reset"===e.key}))&&e.splice(t+1,0,n)),this.renderSearchFooterItemsImpl(e).map(function(e){return(0,vue_1.isVNode)(e)?e:e.value})},renderSearchFooterItemsImpl:function(e){var n=this.renderTableDensitySetting(),t=this.renderColumnSetting();return tslib_1.__spreadArray(tslib_1.__spreadArray([],e,!0),[{value:(0,_vue.createVNode)("div",{class:"".concat(_selectorPrefix,"-headeritem")},[n])},{value:(0,_vue.createVNode)("div",{class:"".concat(_selectorPrefix,"-headeritem")},[t])}],!1)},renderGridSearchFormGroupDataItem:function(e,n){var o=this,t=n.searchConfig,r=n.column,a=n.dataIndex;return null==(n=new Map([["input",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(Input,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onInputChange(t,e)}},n.props||{}),null)}],["textArea",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(TextArea,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onInputChange(t,e)}},n.props||{}),null)}],["inputNumber",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(ant_design_vue_1.InputNumber,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["inputNumberDecimal1",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(InputNumberDecimal1,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["inputNumberDecimal2",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(InputNumberDecimal2,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["inputNumberInteger",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(InputNumberInteger,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["select",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"FormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["multiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"MulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["checkAllMultiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"CheckAllMulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["autoCompleteSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"FormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["autoCompleteSelectMulti",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"MulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["autoCompleteSelectCheckAllMulti",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"CheckAllMulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["radioHorizontal",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"HorizontalFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["radioButton",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"ButtonFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["radioSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"SelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["radioCustom",function(e){var r=e.searchConfig,n=e.dataIndex,e=Components()["".concat(r.dictName,"CustomFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[n],onChange:function(e){return o.onSelectChange(n,e)}},r.props||{}),{default:function(e){var n,t;return(null==(t=null==(n=o.$slots)?void 0:n[null==r?void 0:r.renderChildren])?void 0:t.call(n,e))||(null==(t=null==r?void 0:r.renderChildren)?void 0:t.call(r,e))}})}],["checkBoxHorizontal",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"HorizontalFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["checkBoxCheckAllHorizontal",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"CheckAllHorizontalFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["checkboxSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"SelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["checkBoxCheckAllSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"CheckAllSelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["checkBoxCustom",function(e){var r=e.searchConfig,n=e.dataIndex,e=Components()["".concat(r.dictName,"CustomFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[n],onChange:function(e){return o.onSelectChange(n,e)}},r.props||{}),{default:function(e){var n,t;return(null==(t=null==(n=o.$slots)?void 0:n[null==r?void 0:r.renderChildren])?void 0:t.call(n,e))||(null==(t=null==r?void 0:r.renderChildren)?void 0:t.call(r,e))}})}],["checkBoxCheckAllCustom",function(e){var r=e.searchConfig,n=e.dataIndex,e=Components()["".concat(r.dictName,"CheckAllCustomFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[n],onChange:function(e){return o.onSelectChange(n,e)}},r.props||{}),{default:function(e){var n,t;return(null==(t=null==(n=o.$slots)?void 0:n[null==r?void 0:r.renderChildren])?void 0:t.call(n,e))||(null==(t=null==r?void 0:r.renderChildren)?void 0:t.call(r,e))}})}],["transferSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"SelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["tableSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"SelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["tableMultiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"MulitSelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["tablePagingSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"PaginationSelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["tablePagingMultiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"PaginationMulitSelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["listSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"SelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["listMultiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"MulitSelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["listPagingSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"PaginationSelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["listPagingMultiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"PaginationMulitSelectFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["treeSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"FormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["treeMultiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"MulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["treeSelectLeaf",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"LeafFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["treeMultiSelectLeaf",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"LeafMulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["cascaderSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"FormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["cascaderMultiSelect",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"MulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["cascaderSelectLeaf",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"LeafFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["cascaderMultiSelectLeaf",function(e){var n=e.searchConfig,t=e.dataIndex,e=Components()["".concat(n.dictName,"LeafMulitFormItem")];return(0,_vue.createVNode)(e,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["datePicker",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(DatePicker,(0,_vue.mergeProps)({value:o[t],onChange:function(e){var n;o.setState(((n={})[t]=e||null,n))}},n.props||{}),null)}],["timePicker",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(TimePicker,(0,_vue.mergeProps)({value:o[t],onChange:function(e){var n;o.setState(((n={})[t]=e||null,n))}},n.props||{}),null)}],["rangePicker",function(e){var e=e.searchConfig,n=e.startName,t=e.endName;return(0,_vue.createVNode)(RangePicker,(0,_vue.mergeProps)({value:[o[n],o[t]],onChange:function(e){o.onDateTimeRangeChange([n,t],e)}},e.props||{}),null)}],["slider",function(e){var n=e.searchConfig,t=e.dataIndex;return(0,_vue.createVNode)(ant_design_vue_1.Slider,(0,_vue.mergeProps)({value:o[t],onChange:function(e){return o.onSelectChange(t,e)}},n.props||{}),null)}],["sliderRange",function(e){e=e.searchConfig;return(0,_vue.createVNode)(ant_design_vue_1.Slider,(0,_vue.mergeProps)({range:!0,value:o[a],onChange:function(e){return o.onSelectChange(a,e)}},e.props||{}),null)}],["rate",function(e){e=e.searchConfig;return(0,_vue.createVNode)(ant_design_vue_1.Rate,(0,_vue.mergeProps)({value:o[a],onChange:function(e){return o.onSelectChange(a,e)}},e.props||{}),null)}],["switch",function(e){e=e.searchConfig;return(0,_vue.createVNode)(ant_design_vue_1.Switch,(0,_vue.mergeProps)({value:o[a],onChange:function(e){return o.onSelectChange(a,e)}},e.props||{}),null)}],["custom",function(e){var n,t,r=e.searchConfig,a=e.column,e=e.dataIndex;return(null==(t=null==(n=o.$slots)?void 0:n[null==r?void 0:r.render])?void 0:t.call(n,{searchConfig:r,column:a,dataIndex:e}))||(null==(t=null==r?void 0:r.render)?void 0:t.call(r,{searchConfig:r,column:a,dataIndex:e}))}]]).get(e))?void 0:n({searchConfig:t,column:r,dataIndex:a})},renderGridSearchFormGroup:function(e,n,t){var r,a=this,n=(0,lodash_merge_1.default)({layout:"horizontal",density:"middle"},n||{}),o=(null!=(o=null==t?void 0:t.advancedSearch)&&o.onAfterClose&&(r=t.advancedSearch.onAfterClose,t.advancedSearch.onAfterClose=function(){r(),a.advancedSearchPanelCollapse=!1}),this.$data.$advancedSearchConfig=(0,lodash_merge_1.default)(this.$data.$advancedSearchConfig,t||{}),_renderGridSearchFormGroup(this.$slots,e,n));if("auto"!==this.$data.$advancedSearchConfig.rowCount){var t=adherev_ui_tablegridlayout_1.default.getRenderDetail(this.$slots,e,n),i=t.rowCount,u=t.detail;if(i>this.$data.$advancedSearchConfig.rowCount){for(var c=[],l=[],s=this.$data.$advancedSearchConfig.rowCount,d=0;0!==s;){var m=e[d],h=u[d];h.rowCount<=s?(c.push(tslib_1.__assign({},m)),s-=h.rowCount):(h=h.detail.slice(0,s),c.push(tslib_1.__assign(tslib_1.__assign({},m),{data:m.data.slice(h[0].startIndex,h[h.length-1].endIndex+1)})),l.push(tslib_1.__assign(tslib_1.__assign({},m),{data:m.data.slice(h[h.length-1].endIndex+1)})),s=0),d+=1}for(var f=d;f<e.length;f++)l.push(tslib_1.__assign({},e[f]));return this.$data.$hasAdvancedSearchPanel=!0,this.$data.$advancedSearchConfig.advancedSearch.collapse=this.advancedSearchPanelCollapse,(0,_vue.createVNode)("div",{class:"".concat(_selectorPrefix,"-gridsearchformgroupwrap")},[_renderGridSearchFormGroup(this.$slots,c,n),(0,_vue.createVNode)(AdvancedSearchPanel_1.default,{groupData:e,tableGridLayoutConfig:n,remainingGroupData:l,advancedSearchConfig:this.$data.$advancedSearchConfig,searchFn:function(){return new Promise(function(e){a.page=1,a.$nextTick(function(){this.onSearch().then(function(){return e()})})})},resetFn:function(){return a.onClear()},collapseFn:function(e){a.advancedSearchPanelCollapse=e}},null)])}}return(this.$data.$hasAdvancedSearchPanel=!1,_vue.createVNode)("div",{class:"".concat(_selectorPrefix,"-gridsearchformgroupwrap")},[o])},renderOptionColumn:function(e){return e.map(function(e){return e.value}).filter(function(e){return!!e})}}})};exports.default=ProTableFactory;
//# sourceMappingURL=ProTableFactory.js.map
