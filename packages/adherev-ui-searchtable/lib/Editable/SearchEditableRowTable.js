"use strict";require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.object.keys.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.find.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),moment_1=tslib_1.__importDefault(require("moment")),adherev_util_1=tslib_1.__importDefault(require("@baifendian/adherev-util")),SearchEditableCellTable_1=tslib_1.__importDefault(require("./SearchEditableCellTable")),extend=adherev_util_1.default._util.extend;exports.default=function(e){return extend({className:"SearchEditableRowTable",mixins:[(0,SearchEditableCellTable_1.default)(e)],data:function(){var t=this;return{$rowConfigReducers:[function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.rowEditableReducer.apply(t,e)}],editorRowId:""}},methods:{rowEditableReducer:function(e){var r=e.rowConfig,t=e.rowIndex,o=e.columns,e=e.record;return this.onEditorRow&&(r.$editable=this.onEditorRow({rowIndex:t,record:e,columns:o})),r},onEditorRow:function(e){return{editable:!0}},onEditorCell:function(e){var r=e.record,e=e.editorConfig;e&&(e.useTrigger=!1,r[this.getRowKey()]===this.editorRowId)&&(e.defaultStatus="edit")},fetchData:function(){var r=this;return this.$fetchDataSearchTableImpl().then(function(e){return r.editorRowId="",e})},updateEditorCellRowData:function(e){var r=this,n=e.values,u=e.record;return new Promise(function(e){var o=r.getData()||[],i=r.getRowKey();Object.keys(n).forEach(function(e){var r=n[e],t=(r instanceof moment_1.default&&(r=r.valueOf()),o.find(function(e){return e[i]===u[i]}));t&&(t[e]=r)}),r.$nextTick(function(){return e()})})}}})};
//# sourceMappingURL=SearchEditableRowTable.js.map
