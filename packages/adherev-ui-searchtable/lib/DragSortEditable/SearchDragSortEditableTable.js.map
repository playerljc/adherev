{"version":3,"file":"SearchDragSortEditableTable.js","sources":["DragSortEditable/SearchDragSortEditableTable.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.set.js\");\nrequire(\"core-js/modules/esnext.set.add-all.js\");\nrequire(\"core-js/modules/esnext.set.delete-all.js\");\nrequire(\"core-js/modules/esnext.set.difference.js\");\nrequire(\"core-js/modules/esnext.set.every.js\");\nrequire(\"core-js/modules/esnext.set.filter.js\");\nrequire(\"core-js/modules/esnext.set.find.js\");\nrequire(\"core-js/modules/esnext.set.intersection.js\");\nrequire(\"core-js/modules/esnext.set.is-disjoint-from.js\");\nrequire(\"core-js/modules/esnext.set.is-subset-of.js\");\nrequire(\"core-js/modules/esnext.set.is-superset-of.js\");\nrequire(\"core-js/modules/esnext.set.join.js\");\nrequire(\"core-js/modules/esnext.set.map.js\");\nrequire(\"core-js/modules/esnext.set.reduce.js\");\nrequire(\"core-js/modules/esnext.set.some.js\");\nrequire(\"core-js/modules/esnext.set.symmetric-difference.js\");\nrequire(\"core-js/modules/esnext.set.union.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar SearchRowDragSortTable_1 = tslib_1.__importDefault(require(\"../DragSort/RowDragSort/SearchRowDragSortTable\"));\nvar SearchEditableTable_1 = tslib_1.__importDefault(require(\"../Editable/SearchEditableTable\"));\nvar extend = adherev_util_1.default._util.extend;\n/**\n * SearchDragSortEditableTable\n * @description 可拖拽和编辑的表格\n * @param serviceName\n */\nexports.default = function (serviceName) {\n  return extend({\n    className: 'SearchDragSortEditableTable',\n    mixins: [(0, SearchEditableTable_1.default)(serviceName), (0, SearchRowDragSortTable_1.default)(serviceName)],\n    data: function data() {\n      var _this = this;\n      return {\n        $rowConfigReducers: [function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.rowDragSortReducer.apply(_this, params);\n        }, function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.rowEditableReducer.apply(_this, params);\n        }],\n        $cellConfigReducers: [function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellDragSortReducer.apply(_this, params);\n        }, function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellEditableReducer.apply(_this, params);\n        }]\n      };\n    },\n    methods: {\n      onTableRowComponentReducers: function onTableRowComponentReducers(columns) {\n        var set = Array.from(new Set(tslib_1.__spreadArray(tslib_1.__spreadArray([], this.$data.$tableRowComponentReducers, true), ['useRowDragSortRow'], false)));\n        var existsEditable = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditable) {\n          return tslib_1.__spreadArray(tslib_1.__spreadArray([], Array.from(set), true), ['useEditableTableRow'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onTableCellComponentReducers\n       * @param columns\n       */\n      onTableCellComponentReducers: function onTableCellComponentReducers(columns) {\n        var set = new Set(tslib_1.__spreadArray(tslib_1.__spreadArray([], this.$data.$tableCellComponentReducers, true), ['useRowDragSortCell'], false));\n        var existsEditor = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditor) {\n          return tslib_1.__spreadArray(tslib_1.__spreadArray([], Array.from(set), true), ['useEditableTableCell'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onDragSortBody\n       * @description\n       */\n      onDragSortBody: function onDragSortBody() {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.isTableEditor;\n          }\n        };\n      },\n      /**\n       * onDragSortRow\n       * @param params\n       */\n      onDragSortRow: function onDragSortRow(params) {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.isTableEditor;\n          }\n        };\n      }\n    }\n  });\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","adherev_util_1","__importDefault","SearchRowDragSortTable_1","SearchEditableTable_1","extend","default","_util","serviceName","className","mixins","data","_this","this","$rowConfigReducers","params","_i","arguments","length","rowDragSortReducer","apply","rowEditableReducer","$cellConfigReducers","cellDragSortReducer","cellEditableReducer","methods","onTableRowComponentReducers","columns","set","Array","from","Set","__spreadArray","$data","$tableRowComponentReducers","some","column","_a","$editable","editable","onTableCellComponentReducers","$tableCellComponentReducers","onDragSortBody","canDrag","isTableEditor","onDragSortRow"],"mappings":"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"}