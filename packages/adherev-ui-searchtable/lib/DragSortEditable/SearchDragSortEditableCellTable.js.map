{"version":3,"file":"SearchDragSortEditableCellTable.js","sources":["DragSortEditable/SearchDragSortEditableCellTable.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.set.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/esnext.set.add-all.js\");\nrequire(\"core-js/modules/esnext.set.delete-all.js\");\nrequire(\"core-js/modules/esnext.set.difference.js\");\nrequire(\"core-js/modules/esnext.set.every.js\");\nrequire(\"core-js/modules/esnext.set.filter.js\");\nrequire(\"core-js/modules/esnext.set.find.js\");\nrequire(\"core-js/modules/esnext.set.intersection.js\");\nrequire(\"core-js/modules/esnext.set.is-disjoint-from.js\");\nrequire(\"core-js/modules/esnext.set.is-subset-of.js\");\nrequire(\"core-js/modules/esnext.set.is-superset-of.js\");\nrequire(\"core-js/modules/esnext.set.join.js\");\nrequire(\"core-js/modules/esnext.set.map.js\");\nrequire(\"core-js/modules/esnext.set.reduce.js\");\nrequire(\"core-js/modules/esnext.set.some.js\");\nrequire(\"core-js/modules/esnext.set.symmetric-difference.js\");\nrequire(\"core-js/modules/esnext.set.union.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar SearchRowDragSortTable_1 = tslib_1.__importDefault(require(\"../DragSort/RowDragSort/SearchRowDragSortTable\"));\nvar SearchEditableCellTable_1 = tslib_1.__importDefault(require(\"../Editable/SearchEditableCellTable\"));\nvar extend = adherev_util_1.default._util.extend;\n/**\n * SearchDragSortEditableCellTable\n * @description 可拖拽和编辑单元格的表格\n * @param serviceName\n */\nexports.default = function (serviceName) {\n  return extend({\n    className: 'SearchDragSortEditableCellTable',\n    mixins: [(0, SearchEditableCellTable_1.default)(serviceName), (0, SearchRowDragSortTable_1.default)(serviceName)],\n    data: function data() {\n      var _this = this;\n      return {\n        $cellConfigReducers: [function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellDragSortReducer.apply(_this, params);\n        }, function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellEditableReducer.apply(_this, params);\n        }]\n      };\n    },\n    methods: {\n      /**\n       * onTableRowComponentReducers\n       * @param columns\n       */\n      onTableRowComponentReducers: function onTableRowComponentReducers(columns) {\n        var set = new Set(tslib_1.__spreadArray(tslib_1.__spreadArray([], this.$data.$tableRowComponentReducers, true), ['useRowDragSortRow'], false));\n        var existsEditable = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditable) {\n          return tslib_1.__spreadArray(tslib_1.__spreadArray([], Array.from(set), true), ['useEditableRow'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onTableCellComponentReducers\n       * @param columns\n       */\n      onTableCellComponentReducers: function onTableCellComponentReducers(columns) {\n        var set = new Set(tslib_1.__spreadArray(tslib_1.__spreadArray([], this.$data.$tableCellComponentReducers, true), ['useRowDragSortCell'], false));\n        var existsEditor = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditor) {\n          return tslib_1.__spreadArray(tslib_1.__spreadArray([], Array.from(set), true), ['useEditableCell'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onDragSortBody\n       * @description\n       */\n      onDragSortBody: function onDragSortBody() {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.activeValue;\n          }\n        };\n      },\n      /**\n       * onDragSortRow\n       * @param params\n       */\n      onDragSortRow: function onDragSortRow(params) {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.activeValue;\n          }\n        };\n      }\n    }\n  });\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","adherev_util_1","__importDefault","SearchRowDragSortTable_1","SearchEditableCellTable_1","extend","default","_util","serviceName","className","mixins","data","_this","this","$cellConfigReducers","params","_i","arguments","length","cellDragSortReducer","apply","cellEditableReducer","methods","onTableRowComponentReducers","columns","set","Set","__spreadArray","$data","$tableRowComponentReducers","some","column","_a","$editable","editable","Array","from","onTableCellComponentReducers","$tableCellComponentReducers","onDragSortBody","canDrag","activeValue","onDragSortRow"],"mappings":"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"}