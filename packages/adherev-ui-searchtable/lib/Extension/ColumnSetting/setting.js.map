{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar vue_1 = tslib_1.__importDefault(require(\"vue\"));\n\nvar vuedraggable_1 = tslib_1.__importDefault(require(\"vuedraggable\"));\n\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\n\nvar searchtable_1 = require(\"../../searchtable\");\n/**\n * Setting\n */\n\n\nvar Setting = vue_1.default.extend({\n  props: {\n    columns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  // @ts-ignore\n  emits: ['showColumns', 'reset', 'sortEnd', 'displayColumn'],\n  computed: {\n    showColumns: function showColumns() {\n      return this.columns.every(function (column) {\n        return column.display;\n      });\n    }\n  },\n  methods: {\n    onShowColumns: function onShowColumns(e) {\n      this.$emit('showColumns', e.target.checked);\n    },\n    onReset: function onReset() {\n      this.$emit('reset');\n    },\n    onEnd: function onEnd() {\n      var map = new Map();\n      this.columns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n      this.$emit('sortEnd', map);\n    },\n    onChange: function onChange(column, e) {\n      this.$emit('displayColumn', {\n        column: column,\n        checked: e.target.checked\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    return h(\"div\", {\n      \"class\": searchtable_1.selectorPrefix + \"-column-setting\"\n    }, [h(\"div\", {\n      \"class\": searchtable_1.selectorPrefix + \"-column-setting-header\"\n    }, [h(\"div\", [h(ant_design_vue_1.Checkbox, {\n      \"attrs\": {\n        \"checked\": this.showColumns\n      },\n      \"on\": {\n        \"change\": this.onShowColumns\n      }\n    }, [adherev_util_intl_1.default.tv('列展示')])]), h(\"div\", [h(\"a\", {\n      \"on\": {\n        \"click\": this.onReset\n      }\n    }, [adherev_util_intl_1.default.tv('重置')])])]), h(\"div\", {\n      \"class\": searchtable_1.selectorPrefix + \"-column-setting-body\"\n    }, [h(vuedraggable_1.default, {\n      \"attrs\": {\n        \"tag\": \"ul\",\n        \"list\": this.columns,\n        \"handle\": \".\" + searchtable_1.selectorPrefix + \"-column-setting-handle\"\n      },\n      \"on\": {\n        \"end\": this.onEnd\n      }\n    }, [this.columns.map(function (column) {\n      return h(\"li\", {\n        \"key\": column.dataIndex || column.key\n      }, [h(\"img\", {\n        \"class\": searchtable_1.selectorPrefix + \"-column-setting-handle\",\n        \"attrs\": {\n          \"src\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n          \"alt\": \"\"\n        }\n      }), h(ant_design_vue_1.Checkbox, {\n        \"attrs\": {\n          \"checked\": column.display\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.onChange(column, e);\n          }\n        }\n      }, [column.title])]);\n    })])])]);\n  }\n});\nexports.default = Setting;"],"names":["require","Object","defineProperty","exports","value","tslib_1","ant_design_vue_1","vue_1","__importDefault","vuedraggable_1","adherev_util_intl_1","searchtable_1","Setting","default","extend","props","columns","type","Array","emits","computed","showColumns","this","every","column","display","methods","onShowColumns","e","$emit","target","checked","onReset","onEnd","map","Map","forEach","index","set","key","onChange","render","h","_this","class","selectorPrefix","Checkbox","attrs","on","change","tv","click","tag","list","handle","end","dataIndex","src","alt","title"],"mappings":"aAEAA,QAAQ,gDAERA,QAAQ,0CAERA,QAAQ,wCAERA,QAAQ,6BAERA,QAAQ,yCAERA,QAAQ,4CAERA,QAAQ,uCAERA,QAAQ,wCAERA,QAAQ,sCAERA,QAAQ,0CAERA,QAAQ,0CAERA,QAAQ,wCAERA,QAAQ,0CAERA,QAAQ,4CAERA,QAAQ,uCAERA,QAAQ,wCAERA,QAAQ,sCAERA,QAAQ,wCAERA,QAAQ,mDAERA,QAAQ,mDAERA,QAAQ,mCAERC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIC,QAAUL,QAAQ,SAElBM,iBAAmBN,QAAQ,kBAE3BO,MAAQF,QAAQG,gBAAgBR,QAAQ,QAExCS,eAAiBJ,QAAQG,gBAAgBR,QAAQ,iBAEjDU,oBAAsBL,QAAQG,gBAAgBR,QAAQ,kCAEtDW,cAAgBX,QAAQ,qBAMxBY,QAAUL,MAAMM,QAAQC,OAAO,CACjCC,MAAO,CACLC,QAAS,CACPC,KAAMC,MACNL,QAAS,WACP,MAAO,MAKbM,MAAO,CAAC,cAAe,QAAS,UAAW,iBAC3CC,SAAU,CACRC,YAAa,WACX,OAAOC,KAAKN,QAAQO,MAAM,SAAUC,GAClC,OAAOA,EAAOC,YAIpBC,QAAS,CACPC,cAAe,SAAuBC,GACpCN,KAAKO,MAAM,cAAeD,EAAEE,OAAOC,UAErCC,QAAS,WACPV,KAAKO,MAAM,UAEbI,MAAO,WACL,IAAIC,EAAM,IAAIC,IACdb,KAAKN,QAAQoB,QAAQ,SAAUZ,EAAQa,GACrCH,EAAII,IAAId,EAAOe,IAAKF,KAEtBf,KAAKO,MAAM,UAAWK,IAExBM,SAAU,SAAkBhB,EAAQI,GAClCN,KAAKO,MAAM,gBAAiB,CAC1BL,OAAQA,EACRO,QAASH,EAAEE,OAAOC,YAIxBU,OAAQ,SAAgBC,GACtB,IAAIC,EAAQrB,KAEZ,OAAOoB,EAAE,MAAO,CACdE,MAASjC,cAAckC,eAAiB,mBACvC,CAACH,EAAE,MAAO,CACXE,MAASjC,cAAckC,eAAiB,0BACvC,CAACH,EAAE,MAAO,CAACA,EAAEpC,iBAAiBwC,SAAU,CACzCC,MAAS,CACPhB,QAAWT,KAAKD,aAElB2B,GAAM,CACJC,OAAU3B,KAAKK,gBAEhB,CAACjB,oBAAoBG,QAAQqC,GAAG,WAAYR,EAAE,MAAO,CAACA,EAAE,IAAK,CAC9DM,GAAM,CACJG,MAAS7B,KAAKU,UAEf,CAACtB,oBAAoBG,QAAQqC,GAAG,YAAaR,EAAE,MAAO,CACvDE,MAASjC,cAAckC,eAAiB,wBACvC,CAACH,EAAEjC,eAAeI,QAAS,CAC5BkC,MAAS,CACPK,IAAO,KACPC,KAAQ/B,KAAKN,QACbsC,OAAU,IAAM3C,cAAckC,eAAiB,0BAEjDG,GAAM,CACJO,IAAOjC,KAAKW,QAEb,CAACX,KAAKN,QAAQkB,IAAI,SAAUV,GAC7B,OAAOkB,EAAE,KAAM,CACbH,IAAOf,EAAOgC,WAAahC,EAAOe,KACjC,CAACG,EAAE,MAAO,CACXE,MAASjC,cAAckC,eAAiB,yBACxCE,MAAS,CACPU,IAAO,iwBACPC,IAAO,MAEPhB,EAAEpC,iBAAiBwC,SAAU,CAC/BC,MAAS,CACPhB,QAAWP,EAAOC,SAEpBuB,GAAM,CACJC,OAAU,SAAgBrB,GACxBe,EAAMH,SAAShB,EAAQI,MAG1B,CAACJ,EAAOmC,qBAIjBxD,QAAQU,QAAUD"}