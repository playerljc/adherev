{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.map.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\nrequire(\"core-js/modules/esnext.map.every.js\");\nrequire(\"core-js/modules/esnext.map.filter.js\");\nrequire(\"core-js/modules/esnext.map.find.js\");\nrequire(\"core-js/modules/esnext.map.find-key.js\");\nrequire(\"core-js/modules/esnext.map.includes.js\");\nrequire(\"core-js/modules/esnext.map.key-of.js\");\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\nrequire(\"core-js/modules/esnext.map.map-values.js\");\nrequire(\"core-js/modules/esnext.map.merge.js\");\nrequire(\"core-js/modules/esnext.map.reduce.js\");\nrequire(\"core-js/modules/esnext.map.some.js\");\nrequire(\"core-js/modules/esnext.map.update.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar ant_design_vue_1 = require(\"ant-design-vue\");\nvar vue_1 = require(\"vue\");\nvar vuedraggable_1 = tslib_1.__importDefault(require(\"vuedraggable\"));\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\nvar searchtable_1 = require(\"../../searchtable\");\nexports.default = (0, vue_1.defineComponent)({\n  props: {\n    columns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  emits: ['showColumns', 'reset', 'sortEnd', 'displayColumn'],\n  computed: {\n    showColumns: function showColumns() {\n      return this.columns.every(function (column) {\n        return column.display;\n      });\n    }\n  },\n  methods: {\n    onShowColumns: function onShowColumns(e) {\n      this.$emit('showColumns', e.target.checked);\n    },\n    onReset: function onReset() {\n      this.$emit('reset');\n    },\n    onEnd: function onEnd() {\n      var map = new Map();\n      this.columns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n      this.$emit('sortEnd', map);\n    },\n    onChange: function onChange(column, e) {\n      this.$emit('displayColumn', {\n        column: column,\n        checked: e.target.checked\n      });\n    }\n  },\n  render: function render() {\n    var _slot;\n    var _this = this;\n    return (0, _vue.createVNode)(\"div\", {\n      \"class\": \"\".concat(searchtable_1.selectorPrefix, \"-column-setting\")\n    }, [(0, _vue.createVNode)(\"div\", {\n      \"class\": \"\".concat(searchtable_1.selectorPrefix, \"-column-setting-header\")\n    }, [(0, _vue.createVNode)(\"div\", null, [(0, _vue.createVNode)(ant_design_vue_1.Checkbox, {\n      \"checked\": this.showColumns,\n      \"onChange\": this.onShowColumns\n    }, _isSlot(_slot = adherev_util_intl_1.default.tv('列展示')) ? _slot : {\n      default: function _default() {\n        return [_slot];\n      }\n    })]), (0, _vue.createVNode)(\"div\", null, [(0, _vue.createVNode)(\"a\", {\n      \"onClick\": this.onReset\n    }, [adherev_util_intl_1.default.tv('重置')])])]), (0, _vue.createVNode)(\"div\", {\n      \"class\": \"\".concat(searchtable_1.selectorPrefix, \"-column-setting-body\")\n    }, [(0, _vue.createVNode)(vuedraggable_1.default, {\n      \"tag\": \"ul\",\n      \"list\": this.columns,\n      \"itemKey\": function itemKey(item) {\n        return item.dataIndex || item.key;\n      },\n      \"handle\": \".\".concat(searchtable_1.selectorPrefix, \"-column-setting-handle\"),\n      \"onEnd\": this.onEnd\n    }, {\n      item: function item(_a) {\n        var column = _a.element;\n        return (0, _vue.createVNode)(\"li\", {\n          \"key\": column.dataIndex || column.key\n        }, [(0, _vue.createVNode)(\"img\", {\n          \"class\": \"\".concat(searchtable_1.selectorPrefix, \"-column-setting-handle\"),\n          \"src\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n          \"alt\": \"\"\n        }, null), (0, _vue.createVNode)(ant_design_vue_1.Checkbox, {\n          \"checked\": column.display,\n          \"onChange\": function onChange(e) {\n            return _this.onChange(column, e);\n          }\n        }, {\n          default: function _default() {\n            return [column.title];\n          }\n        })]);\n      }\n    })])]);\n  }\n});"],"names":["_vue","require","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","tslib_1","ant_design_vue_1","vue_1","vuedraggable_1","__importDefault","adherev_util_intl_1","searchtable_1","default","defineComponent","props","columns","type","Array","emits","computed","showColumns","this","every","column","display","methods","onShowColumns","e","$emit","target","checked","onReset","onEnd","map","Map","forEach","index","set","key","onChange","render","_slot","_this","createVNode","class","concat","selectorPrefix","Checkbox","tv","onClick","tag","list","itemKey","item","dataIndex","handle","_a","element","src","alt","title"],"mappings":"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"}