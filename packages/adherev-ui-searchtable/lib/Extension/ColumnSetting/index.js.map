{"version":3,"file":"index.js","sources":["Extension/ColumnSetting/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar ant_design_vue_1 = require(\"ant-design-vue\");\nvar setting_1 = tslib_1.__importDefault(require(\"./setting\"));\nexports.default = {\n  name: 'adv-searchtable-column-setting',\n  // props: {\n  //   columns: {\n  //     type: Array as PropType<IColumnSetting[]>,\n  //     default: () => [],\n  //   },\n  // },\n  emits: ['showColumns', 'reset', 'sortEnd', 'displayColumn'],\n  inject: ['getContext'],\n  render: function render(h) {\n    var _this = this;\n    var _a, _b, _c, _d;\n    return h(ant_design_vue_1.Popover, {\n      \"attrs\": {\n        \"content\": h(setting_1.default, {\n          \"attrs\": {\n            \"columns\": ((_d = (_c = (_b = (_a = this.getContext) === null || _a === void 0 ? void 0 : _a.call(this)) === null || _b === void 0 ? void 0 : _b.context) === null || _c === void 0 ? void 0 : _c.getSortColumnSetting) === null || _d === void 0 ? void 0 : _d.call(_c)) || []\n          },\n          \"on\": {\n            \"showColumns\": function showColumns(checked) {\n              var _a, _b, _c;\n              var columnSetting = ((_b = (_a = _this.getContext) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.context).columnSetting;\n              _this.getContext().context.columnSetting = (_c = columnSetting || []) === null || _c === void 0 ? void 0 : _c.map(function (column) {\n                return tslib_1.__assign(tslib_1.__assign({}, column), {\n                  display: checked\n                });\n              });\n              // this.$emit('showColumns', checked);\n            },\n            \"reset\": function reset() {\n              var _a, _b, _c, _d, _e;\n              _this.getContext().context.columnSetting = (_e = (_d = (_c = (_b = (_a = _this === null || _this === void 0 ? void 0 : _this.getContext()) === null || _a === void 0 ? void 0 : _a.context) === null || _b === void 0 ? void 0 : _b.getTableColumns) === null || _c === void 0 ? void 0 : _c.call(_b, h)) === null || _d === void 0 ? void 0 : _d.map) === null || _e === void 0 ? void 0 : _e.call(_d, function (column, index) {\n                return tslib_1.__assign(tslib_1.__assign({}, column), {\n                  display: true,\n                  sort: index\n                });\n              });\n              // this.$emit('reset');\n            },\n            \"displayColumn\": function displayColumn(_a) {\n              var _b, _c, _d, _e;\n              var column = _a.column,\n                checked = _a.checked;\n              var columnSetting = ((_c = (_b = _this.getContext) === null || _b === void 0 ? void 0 : _b.call(_this)) === null || _c === void 0 ? void 0 : _c.context).columnSetting;\n              _this.getContext().context.columnSetting = (_e = (_d = columnSetting || []) === null || _d === void 0 ? void 0 : _d.map) === null || _e === void 0 ? void 0 : _e.call(_d, function (_column) {\n                return tslib_1.__assign(tslib_1.__assign({}, _column), {\n                  display: _column.key === column.key ? checked : _column.display\n                });\n              });\n              // this.$emit('displayColumn', { column, checked });\n            },\n            \"sortEnd\": function sortEnd(map) {\n              var _a, _b, _c, _d;\n              var columnSetting = ((_b = (_a = _this.getContext) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.context).columnSetting;\n              _this.getContext().context.columnSetting = (_d = (_c = columnSetting || []) === null || _c === void 0 ? void 0 : _c.map) === null || _d === void 0 ? void 0 : _d.call(_c, function (column) {\n                return tslib_1.__assign(tslib_1.__assign({}, column), {\n                  sort: map.get(column.key)\n                });\n              });\n              // this.$emit('sortEnd', map);\n            }\n          }\n        }),\n        \"placement\": \"bottomRight\",\n        \"trigger\": \"click\",\n        \"getPopupContainer\": function getPopupContainer(el) {\n          return el.parentElement;\n        }\n      }\n    }, [h(\"a\", [h(\"img\", {\n      \"attrs\": {\n        \"src\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1yaSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiM4ODg4ODgiIGQ9Ik0yLjIxMyAxNC4wNmE5Ljk0NSA5Ljk0NSAwIDAgMSAwLTQuMTJjMS4xMS4xMyAyLjA4LS4yMzcgMi4zOTYtMS4wMDFjLjMxNy0uNzY1LS4xMDgtMS43MS0uOTg2LTIuNDAzYTkuOTQ1IDkuOTQ1IDAgMCAxIDIuOTEzLTIuOTEzYy42OTIuODc3IDEuNjM4IDEuMzAzIDIuNDAzLjk4NmMuNzY1LS4zMTcgMS4xMzItMS4yODYgMS4wMDEtMi4zOTZhOS45NDUgOS45NDUgMCAwIDEgNC4xMiAwYy0uMTMgMS4xMS4yMzcgMi4wOCAxLjAwMSAyLjM5NmMuNzY1LjMxNyAxLjcxLS4xMDggMi40MDMtLjk4NmE5Ljk0NSA5Ljk0NSAwIDAgMSAyLjkxMyAyLjkxM2MtLjg3Ny42OTItMS4zMDMgMS42MzgtLjk4NiAyLjQwM2MuMzE3Ljc2NSAxLjI4NiAxLjEzMiAyLjM5NiAxLjAwMWE5Ljk0NSA5Ljk0NSAwIDAgMSAwIDQuMTJjLTEuMTEtLjEzLTIuMDguMjM3LTIuMzk2IDEuMDAxYy0uMzE3Ljc2NS4xMDggMS43MS45ODYgMi40MDNhOS45NDUgOS45NDUgMCAwIDEtMi45MTMgMi45MTNjLS42OTItLjg3Ny0xLjYzOC0xLjMwMy0yLjQwMy0uOTg2Yy0uNzY1LjMxNy0xLjEzMiAxLjI4Ni0xLjAwMSAyLjM5NmE5Ljk0NSA5Ljk0NSAwIDAgMS00LjEyIDBjLjEzLTEuMTEtLjIzNy0yLjA4LTEuMDAxLTIuMzk2Yy0uNzY1LS4zMTctMS43MS4xMDgtMi40MDMuOTg2YTkuOTQ1IDkuOTQ1IDAgMCAxLTIuOTEzLTIuOTEzYy44NzctLjY5MiAxLjMwMy0xLjYzOC45ODYtMi40MDNjLS4zMTctLjc2NS0xLjI4Ni0xLjEzMi0yLjM5Ni0xLjAwMXpNNCAxMi4yMWMxLjEuMzA1IDIuMDA3IDEuMDAyIDIuNDU3IDIuMDg2Yy40NDkgMS4wODUuMyAyLjIyLS4yNjIgMy4yMTJjLjA5Ni4xMDIuMTk1LjIwMS4yOTcuMjk3Yy45OTMtLjU2MiAyLjEyNy0uNzEgMy4yMTItLjI2MmMxLjA4NC40NSAxLjc4MSAxLjM1NyAyLjA4NiAyLjQ1N2MuMTQuMDA0LjI4LjAwNC40MiAwYy4zMDUtMS4xIDEuMDAyLTIuMDA3IDIuMDg2LTIuNDU3YzEuMDg1LS40NDkgMi4yMi0uMyAzLjIxMi4yNjJjLjEwMi0uMDk2LjIwMS0uMTk1LjI5Ny0uMjk3Yy0uNTYyLS45OTMtLjcxLTIuMTI3LS4yNjItMy4yMTJjLjQ1LTEuMDg0IDEuMzU3LTEuNzgxIDIuNDU3LTIuMDg2Yy4wMDQtLjE0LjAwNC0uMjggMC0uNDJjLTEuMS0uMzA1LTIuMDA3LTEuMDAyLTIuNDU3LTIuMDg2Yy0uNDQ5LTEuMDg1LS4zLTIuMjIuMjYyLTMuMjEyYTcuOTM1IDcuOTM1IDAgMCAwLS4yOTctLjI5N2MtLjk5My41NjItMi4xMjcuNzEtMy4yMTIuMjYyQzEzLjIxMiA2LjAwNyAxMi41MTUgNS4xIDEyLjIxIDRhNy45MzUgNy45MzUgMCAwIDAtLjQyIDBjLS4zMDUgMS4xLTEuMDAyIDIuMDA3LTIuMDg2IDIuNDU3Yy0xLjA4NS40NDktMi4yMi4zLTMuMjEyLS4yNjJhNi45MzIgNi45MzIgMCAwIDAtLjI5Ny4yOTdjLjU2Mi45OTMuNzEgMi4xMjcuMjYyIDMuMjEyQzYuMDA3IDEwLjc4OCA1LjEgMTEuNDg1IDQgMTEuNzljLS4wMDQuMTQtLjAwNC4yOCAwIC40MnpNMTIgMTVhMyAzIDAgMSAxIDAtNmEzIDMgMCAwIDEgMCA2em0wLTJhMSAxIDAgMSAwIDAtMmExIDEgMCAwIDAgMCAyeiI+PC9wYXRoPjwvc3ZnPg==\",\n        \"alt\": \"\"\n      }\n    })])]);\n  }\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","ant_design_vue_1","setting_1","__importDefault","default","name","emits","inject","render","h","_c","_d","_this","this","Popover","attrs","content","columns","_b","_a","getContext","call","context","getSortColumnSetting","on","showColumns","checked","columnSetting","map","column","__assign","display","reset","_e","getTableColumns","index","sort","displayColumn","_column","key","sortEnd","get","placement","trigger","getPopupContainer","el","parentElement","src","alt"],"mappings":"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"}