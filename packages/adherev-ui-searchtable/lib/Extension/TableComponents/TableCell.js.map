{"version":3,"file":"TableCell.js","sources":["Extension/TableComponents/TableCell.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.map.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\nrequire(\"core-js/modules/esnext.map.every.js\");\nrequire(\"core-js/modules/esnext.map.filter.js\");\nrequire(\"core-js/modules/esnext.map.find.js\");\nrequire(\"core-js/modules/esnext.map.find-key.js\");\nrequire(\"core-js/modules/esnext.map.includes.js\");\nrequire(\"core-js/modules/esnext.map.key-of.js\");\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\nrequire(\"core-js/modules/esnext.map.map-values.js\");\nrequire(\"core-js/modules/esnext.map.merge.js\");\nrequire(\"core-js/modules/esnext.map.reduce.js\");\nrequire(\"core-js/modules/esnext.map.some.js\");\nrequire(\"core-js/modules/esnext.map.update.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar DragSortCell_1 = require(\"../DragSort/RowDragSort/DragSortCell\");\nvar EditableCell_1 = require(\"../EditableCell/EditableCell\");\nvar EditableTableCell_1 = require(\"../EditableCell/EditableTableCell\");\n/**\n * TableCell\n * @description 表格单元格(td)组件\n */\nexports.default = (0, vue_1.defineComponent)({\n  props: {\n    // 行的索引\n    rowIndex: (0, vue_types_1.number)(),\n    // 行的数据\n    record: (0, vue_types_1.object)().def({}),\n    // 列的配置\n    column: (0, vue_types_1.object)().def({}),\n    // 所有列的配置\n    columns: (0, vue_types_1.array)().def([])\n  },\n  setup: function setup(props, _context) {\n    var _a;\n    var slots = _context.slots;\n    var getContext = (0, vue_1.inject)('getContext');\n    var context = (_a = getContext === null || getContext === void 0 ? void 0 : getContext()) === null || _a === void 0 ? void 0 : _a.context;\n    var editableCell = (0, EditableCell_1.useEditableCell)(props, _context);\n    var editableTableCell = (0, EditableTableCell_1.useEditableTableCell)(props, _context);\n    var rowDragSortCell = (0, DragSortCell_1.useRowDragSortCell)(props, _context);\n    var map = new Map([['useEditableCell', editableCell], ['useEditableTableCell', editableTableCell], ['useRowDragSortCell', rowDragSortCell]]);\n    return function () {\n      var _a, _b, _c;\n      // 所有的reducer都去装饰tr，最终返回装饰后的tr\n      var tdVNode = (0, _vue.createVNode)(\"td\", null, [(_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]);\n      return (_c = (_b = context === null || context === void 0 ? void 0 : context.getTableCellComponentReducers()) === null || _b === void 0 ? void 0 : _b.reduce) === null || _c === void 0 ? void 0 : _c.call(_b, function (pre, hookName) {\n        var _a;\n        // 调用混入对象的use方法\n        pre.value = (_a = map.get(hookName)) === null || _a === void 0 ? void 0 : _a(pre.value);\n        return pre;\n      }, {\n        value: tdVNode\n      }).value;\n    };\n  }\n});"],"names":["_vue","require","vue_1","Object","defineProperty","exports","value","vue_types_1","DragSortCell_1","EditableCell_1","EditableTableCell_1","default","defineComponent","props","rowIndex","number","record","object","def","column","columns","array","setup","_context","slots","getContext","inject","context","_a","editableCell","useEditableCell","editableTableCell","useEditableTableCell","rowDragSortCell","useRowDragSortCell","map","Map","_b","_c","tdVNode","createVNode","call","getTableCellComponentReducers","reduce","pre","hookName","get"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EAwBpBC,OAvBJD,QAAQ,8CAA8C,EACtDA,QAAQ,sCAAsC,EAC9CA,QAAQ,2BAA2B,EACnCA,QAAQ,wCAAwC,EAChDA,QAAQ,uCAAuC,EAC/CA,QAAQ,0CAA0C,EAClDA,QAAQ,qCAAqC,EAC7CA,QAAQ,sCAAsC,EAC9CA,QAAQ,oCAAoC,EAC5CA,QAAQ,wCAAwC,EAChDA,QAAQ,wCAAwC,EAChDA,QAAQ,sCAAsC,EAC9CA,QAAQ,wCAAwC,EAChDA,QAAQ,0CAA0C,EAClDA,QAAQ,qCAAqC,EAC7CA,QAAQ,sCAAsC,EAC9CA,QAAQ,oCAAoC,EAC5CA,QAAQ,sCAAsC,EAC9CA,QAAQ,iDAAiD,EACzDA,QAAQ,oCAAoC,EAC5CE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACWL,QAAQ,KAAK,GACrBM,YAAcN,QAAQ,WAAW,EACjCO,eAAiBP,QAAQ,sCAAsC,EAC/DQ,eAAiBR,QAAQ,8BAA8B,EACvDS,oBAAsBT,QAAQ,mCAAmC,EAKrEI,QAAQM,SAAU,EAAIT,MAAMU,iBAAiB,CAC3CC,MAAO,CAELC,UAAU,EAAIP,YAAYQ,QAAQ,EAElCC,QAAQ,EAAIT,YAAYU,QAAQ,EAAEC,IAAI,EAAE,EAExCC,QAAQ,EAAIZ,YAAYU,QAAQ,EAAEC,IAAI,EAAE,EAExCE,SAAS,EAAIb,YAAYc,OAAO,EAAEH,IAAI,EAAE,CAC1C,EACAI,MAAO,SAAeT,EAAOU,GAC3B,IACIC,EAAQD,EAASC,MACjBC,GAAa,EAAIvB,MAAMwB,QAAQ,YAAY,EAC3CC,EAAU,OAACC,EAAKH,MAAAA,EAA+C,KAAA,EAASA,EAAW,GAA+B,KAAA,EAASG,EAAGD,QAC9HE,GAAe,EAAIpB,eAAeqB,iBAAiBjB,EAAOU,CAAQ,EAClEQ,GAAoB,EAAIrB,oBAAoBsB,sBAAsBnB,EAAOU,CAAQ,EACjFU,GAAkB,EAAIzB,eAAe0B,oBAAoBrB,EAAOU,CAAQ,EACxEY,EAAM,IAAIC,IAAI,CAAC,CAAC,kBAAmBP,GAAe,CAAC,uBAAwBE,GAAoB,CAAC,qBAAsBE,GAAiB,EAC3I,OAAO,WACL,IAAQI,EAAIC,EAERC,GAAU,EAAIvC,KAAKwC,aAAa,KAAM,KAAM,CAAC,OAACZ,EAAKJ,MAAAA,EAAqC,KAAA,EAASA,EAAMb,SAAqC,KAAA,EAASiB,EAAGa,KAAKjB,CAAK,EAAE,EACxK,OAAO,OAACc,EAAK,OAACD,EAAKV,MAAAA,EAAyC,KAAA,EAASA,EAAQe,8BAA8B,GAA+B,KAAA,EAASL,EAAGM,QAAoC,KAAA,EAASL,EAAGG,KAAKJ,EAAI,SAAUO,EAAKC,GAI5N,OADAD,EAAItC,MAAQ,OAACsB,EAAKO,EAAIW,IAAID,CAAQ,GAA+B,KAAA,EAASjB,EAAGgB,EAAItC,KAAK,EAC/EsC,CACT,EAAG,CACDtC,MAAOiC,CACT,CAAC,EAAEjC,KACL,CACF,CACF,CAAC"}