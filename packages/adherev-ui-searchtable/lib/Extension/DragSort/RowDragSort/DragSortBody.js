"use strict";require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),sortablejs_1=tslib_1.__importDefault(require("sortablejs")),vue_1=require("vue"),SearchTable_1=require("../../../SearchTable");exports.default=function(l){function r(l){var e;null!=(l=null==(e=null==(e=null==o?void 0:o.moveRow)?void 0:e.call(o,l.oldDraggableIndex,l.newDraggableIndex))?void 0:e.then)&&l.call(e,function(){})}var e=(0,vue_1.inject)("getContext"),o=null==(e=null==e?void 0:e())?void 0:e.context,n=null==(e=null==(e=o.onBody)?void 0:e.call(o))?void 0:e.bodyConfig,a=(0,vue_1.ref)();return(0,vue_1.onMounted)(function(){var l,e;a.value&&sortablejs_1.default.create(a.value,tslib_1.__assign(tslib_1.__assign({draggable:!(null==(e=null==(l=null==n?void 0:n.$bodyDragSort)?void 0:l.canDrag)||!e.call(l))&&".".concat(SearchTable_1.selectorPrefix,"-row-drag-sort-draggable-item")},(null==(e=null==n?void 0:n.$bodyDragSort)?void 0:e.draggableProps)||{}),{onEnd:function(l){var e,o;null!=(o=null==(o=null==n?void 0:n.$bodyDragSort)?void 0:o.draggableProps)&&o.onEnd?null!=(o=null==(e=null==(e=null==(o=null==(o=null==n?void 0:n.$bodyDragSort)?void 0:o.draggableProps)?void 0:o.onEnd)?void 0:e.call(o,l))?void 0:e.then)&&o.call(e,function(){r(l)}):r(l)}}))}),function(l){var e;return(0,vue_1.cloneVNode)(l,{ref:a,class:(0,classnames_1.default)(null==(e=null==l?void 0:l.props)?void 0:e.class,"".concat(SearchTable_1.selectorPrefix,"-search-row-drag-sort-table"),null==(e=null==l?void 0:l.props)?void 0:e.class)})}};
//# sourceMappingURL=DragSortBody.js.map
