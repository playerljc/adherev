{"version":3,"file":"SearchTableResizableTitle.js","sources":["Extension/ColumnResizable/SearchTableResizableTitle.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.map.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\nrequire(\"core-js/modules/esnext.map.every.js\");\nrequire(\"core-js/modules/esnext.map.filter.js\");\nrequire(\"core-js/modules/esnext.map.find.js\");\nrequire(\"core-js/modules/esnext.map.find-key.js\");\nrequire(\"core-js/modules/esnext.map.includes.js\");\nrequire(\"core-js/modules/esnext.map.key-of.js\");\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\nrequire(\"core-js/modules/esnext.map.map-values.js\");\nrequire(\"core-js/modules/esnext.map.merge.js\");\nrequire(\"core-js/modules/esnext.map.reduce.js\");\nrequire(\"core-js/modules/esnext.map.some.js\");\nrequire(\"core-js/modules/esnext.map.update.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar SearchTable_1 = require(\"../../SearchTable\");\nvar types_1 = require(\"../../types\");\nvar columnAlignMap = new Map([[types_1.columnHeaderAlign.center, types_1.columnHeaderAlign.center], [types_1.columnHeaderAlign.left, types_1.columnHeaderAlign.left], [types_1.columnHeaderAlign.right, types_1.columnHeaderAlign.right], ['', ''], [null, '']]);\n/**\n * findColumnByKey\n * @param columns\n * @param key\n * @return column | null\n */\nfunction findColumnByKey(columns, key) {\n  function loop(children) {\n    var res;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].key === key) {\n        res = children[i];\n        break;\n      } else {\n        if ('children' in children[i] && Array.isArray(children[i].children) && children[i].children.length) {\n          res = loop(children[i].children);\n          if (res) {\n            break;\n          }\n        }\n      }\n    }\n    return res;\n  }\n  return loop(columns);\n}\nexports.default = function (columns) {\n  return function (h, props, children) {\n    var key = props.key,\n      restProps = tslib_1.__rest(props, [\"key\"]);\n    var col = findColumnByKey(columns, key);\n    if (!col || !col.width || !col.$resizable) {\n      return h('th', tslib_1.__assign(tslib_1.__assign({}, restProps), {\n        class: (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-resize-table-th\"), columnAlignMap.get(col === null || col === void 0 ? void 0 : col.align))\n      }), children);\n    }\n    var dragProps = {\n      key: col.dataIndex || col.key,\n      class: \"\".concat(SearchTable_1.selectorPrefix, \"-table-draggable-handle\"),\n      attrs: {\n        w: 10,\n        x: 0,\n        z: 1,\n        axis: 'x',\n        draggable: true,\n        resizable: false\n      },\n      on: {\n        dragging: function dragging(x) {\n          col.onHeaderCell(col, {\n            x: x,\n            width: Math.max(11, col.width + x)\n          });\n        }\n      }\n    };\n    var drag = h('vue-draggable-resizable', tslib_1.__assign({}, dragProps));\n    return h('th', tslib_1.__assign(tslib_1.__assign({}, restProps), {\n      class: (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-resize-table-th\"), columnAlignMap.get(col === null || col === void 0 ? void 0 : col.align))\n    }), tslib_1.__spreadArray(tslib_1.__spreadArray([], children, true), [drag], false));\n  };\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","SearchTable_1","types_1","columnAlignMap","Map","columnHeaderAlign","center","left","right","findColumnByKey","columns","key","loop","children","res","i","length","Array","isArray","default","h","props","restProps","__rest","col","width","$resizable","dragProps","dataIndex","class","concat","selectorPrefix","attrs","w","x","z","axis","draggable","resizable","on","dragging","onHeaderCell","Math","max","drag","__assign","get","align","__spreadArray"],"mappings":"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"}