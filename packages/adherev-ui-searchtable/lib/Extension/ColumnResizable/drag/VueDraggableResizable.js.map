{"version":3,"file":"VueDraggableResizable.js","sources":["Extension/ColumnResizable/drag/VueDraggableResizable.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.set.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/esnext.set.add-all.js\");\nrequire(\"core-js/modules/esnext.set.delete-all.js\");\nrequire(\"core-js/modules/esnext.set.difference.js\");\nrequire(\"core-js/modules/esnext.set.every.js\");\nrequire(\"core-js/modules/esnext.set.filter.js\");\nrequire(\"core-js/modules/esnext.set.find.js\");\nrequire(\"core-js/modules/esnext.set.intersection.js\");\nrequire(\"core-js/modules/esnext.set.is-disjoint-from.js\");\nrequire(\"core-js/modules/esnext.set.is-subset-of.js\");\nrequire(\"core-js/modules/esnext.set.is-superset-of.js\");\nrequire(\"core-js/modules/esnext.set.join.js\");\nrequire(\"core-js/modules/esnext.set.map.js\");\nrequire(\"core-js/modules/esnext.set.reduce.js\");\nrequire(\"core-js/modules/esnext.set.some.js\");\nrequire(\"core-js/modules/esnext.set.symmetric-difference.js\");\nrequire(\"core-js/modules/esnext.set.union.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.regexp.constructor.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.string.includes.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar vue_1 = require(\"vue\");\nvar dom_1 = require(\"./utils/dom\");\nvar fns_1 = require(\"./utils/fns\");\nvar events = {\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  },\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  }\n};\nvar userSelectNone = {\n  userSelect: 'none',\n  MozUserSelect: 'none',\n  WebkitUserSelect: 'none',\n  MsUserSelect: 'none'\n};\nvar userSelectAuto = {\n  userSelect: 'auto',\n  MozUserSelect: 'auto',\n  WebkitUserSelect: 'auto',\n  MsUserSelect: 'auto'\n};\nvar eventsFor = events.mouse;\nexports.default = (0, vue_1.defineComponent)({\n  replace: true,\n  name: 'vue-draggable-resizable',\n  props: {\n    className: {\n      type: String,\n      default: 'vdr'\n    },\n    classNameDraggable: {\n      type: String,\n      default: 'draggable'\n    },\n    classNameResizable: {\n      type: String,\n      default: 'resizable'\n    },\n    classNameDragging: {\n      type: String,\n      default: 'dragging'\n    },\n    classNameResizing: {\n      type: String,\n      default: 'resizing'\n    },\n    classNameActive: {\n      type: String,\n      default: 'active'\n    },\n    classNameHandle: {\n      type: String,\n      default: 'handle'\n    },\n    disableUserSelect: {\n      type: Boolean,\n      default: true\n    },\n    enableNativeDrag: {\n      type: Boolean,\n      default: false\n    },\n    preventDeactivation: {\n      type: Boolean,\n      default: false\n    },\n    active: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: true\n    },\n    resizable: {\n      type: Boolean,\n      default: true\n    },\n    lockAspectRatio: {\n      type: Boolean,\n      default: false\n    },\n    w: {\n      type: [Number, String],\n      default: 200,\n      validator: function validator(val) {\n        if (typeof val === 'number') {\n          return val > 0;\n        }\n        return val === 'auto';\n      }\n    },\n    h: {\n      type: [Number, String],\n      default: 200,\n      validator: function validator(val) {\n        if (typeof val === 'number') {\n          return val > 0;\n        }\n        return val === 'auto';\n      }\n    },\n    minWidth: {\n      type: Number,\n      default: 0,\n      validator: function validator(val) {\n        return val >= 0;\n      }\n    },\n    minHeight: {\n      type: Number,\n      default: 0,\n      validator: function validator(val) {\n        return val >= 0;\n      }\n    },\n    maxWidth: {\n      type: Number,\n      default: null,\n      validator: function validator(val) {\n        return val >= 0;\n      }\n    },\n    maxHeight: {\n      type: Number,\n      default: null,\n      validator: function validator(val) {\n        return val >= 0;\n      }\n    },\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    },\n    z: {\n      type: [String, Number],\n      default: 'auto',\n      validator: function validator(val) {\n        return typeof val === 'string' ? val === 'auto' : val >= 0;\n      }\n    },\n    handles: {\n      type: Array,\n      default: function _default() {\n        return ['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml'];\n      },\n      validator: function validator(val) {\n        var s = new Set(['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml']);\n        return new Set(val.filter(function (h) {\n          return s.has(h);\n        })).size === val.length;\n      }\n    },\n    dragHandle: {\n      type: String,\n      default: null\n    },\n    dragCancel: {\n      type: String,\n      default: null\n    },\n    axis: {\n      type: String,\n      default: 'both',\n      validator: function validator(val) {\n        return ['x', 'y', 'both'].includes(val);\n      }\n    },\n    grid: {\n      type: Array,\n      default: function _default() {\n        return [1, 1];\n      }\n    },\n    parent: {\n      type: Boolean,\n      default: false\n    },\n    scale: {\n      type: [Number, Array],\n      default: 1,\n      validator: function validator(val) {\n        if (typeof val === 'number') {\n          return val > 0;\n        }\n        return val.length === 2 && val[0] > 0 && val[1] > 0;\n      }\n    },\n    onDragStart: {\n      type: Function,\n      default: function _default() {\n        return true;\n      }\n    },\n    onDrag: {\n      type: Function,\n      default: function _default() {\n        return true;\n      }\n    },\n    onResizeStart: {\n      type: Function,\n      default: function _default() {\n        return true;\n      }\n    },\n    onResize: {\n      type: Function,\n      default: function _default() {\n        return true;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      left: this.x,\n      top: this.y,\n      right: null,\n      bottom: null,\n      width: null,\n      height: null,\n      widthTouched: false,\n      heightTouched: false,\n      aspectFactor: null,\n      parentWidth: null,\n      parentHeight: null,\n      minW: this.minWidth,\n      minH: this.minHeight,\n      maxW: this.maxWidth,\n      maxH: this.maxHeight,\n      handle: null,\n      enabled: this.active,\n      resizing: false,\n      dragging: false,\n      dragEnable: false,\n      resizeEnable: false,\n      zIndex: this.z\n    };\n  },\n  created: function created() {\n    // eslint-disable-next-line\n    if (this.maxWidth && this.minWidth > this.maxWidth) console.warn('[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth');\n    // eslint-disable-next-line\n    if (this.maxWidth && this.minHeight > this.maxHeight) console.warn('[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight');\n    this.resetBoundsAndMouseState();\n  },\n  mounted: function mounted() {\n    if (!this.enableNativeDrag) {\n      this.$el.ondragstart = function () {\n        return false;\n      };\n    }\n    var _a = this.getParentSize(),\n      parentWidth = _a[0],\n      parentHeight = _a[1];\n    this.parentWidth = parentWidth;\n    this.parentHeight = parentHeight;\n    var _b = (0, dom_1.getComputedSize)(this.$el),\n      width = _b[0],\n      height = _b[1];\n    this.aspectFactor = (this.w !== 'auto' ? this.w : width) / (this.h !== 'auto' ? this.h : height);\n    this.width = this.w !== 'auto' ? this.w : width;\n    this.height = this.h !== 'auto' ? this.h : height;\n    this.right = this.parentWidth - this.width - this.left;\n    this.bottom = this.parentHeight - this.height - this.top;\n    if (this.active) {\n      this.$emit('activated');\n    }\n    (0, dom_1.addEvent)(document.documentElement, 'mousedown', this.deselect);\n    (0, dom_1.addEvent)(document.documentElement, 'touchend touchcancel', this.deselect);\n    (0, dom_1.addEvent)(window, 'resize', this.checkParentSize);\n  },\n  beforeDestroy: function beforeDestroy() {\n    (0, dom_1.removeEvent)(document.documentElement, 'mousedown', this.deselect);\n    (0, dom_1.removeEvent)(document.documentElement, 'touchstart', this.handleUp);\n    (0, dom_1.removeEvent)(document.documentElement, 'mousemove', this.move);\n    (0, dom_1.removeEvent)(document.documentElement, 'touchmove', this.move);\n    (0, dom_1.removeEvent)(document.documentElement, 'mouseup', this.handleUp);\n    (0, dom_1.removeEvent)(document.documentElement, 'touchend touchcancel', this.deselect);\n    (0, dom_1.removeEvent)(window, 'resize', this.checkParentSize);\n  },\n  methods: {\n    resetBoundsAndMouseState: function resetBoundsAndMouseState() {\n      this.mouseClickPosition = {\n        mouseX: 0,\n        mouseY: 0,\n        x: 0,\n        y: 0,\n        w: 0,\n        h: 0\n      };\n      this.bounds = {\n        minLeft: null,\n        maxLeft: null,\n        minRight: null,\n        maxRight: null,\n        minTop: null,\n        maxTop: null,\n        minBottom: null,\n        maxBottom: null\n      };\n    },\n    checkParentSize: function checkParentSize() {\n      if (this.parent) {\n        var _a = this.getParentSize(),\n          newParentWidth = _a[0],\n          newParentHeight = _a[1];\n        this.parentWidth = newParentWidth;\n        this.parentHeight = newParentHeight;\n        this.right = this.parentWidth - this.width - this.left;\n        this.bottom = this.parentHeight - this.height - this.top;\n      }\n    },\n    getParentSize: function getParentSize() {\n      if (this.parent) {\n        var style = window.getComputedStyle(this.$el.parentNode, null);\n        return [parseInt(style.getPropertyValue('width'), 10), parseInt(style.getPropertyValue('height'), 10)];\n      }\n      return [null, null];\n    },\n    elementTouchDown: function elementTouchDown(e) {\n      eventsFor = events.touch;\n      this.elementDown(e);\n    },\n    elementMouseDown: function elementMouseDown(e) {\n      eventsFor = events.mouse;\n      this.elementDown(e);\n    },\n    elementDown: function elementDown(e) {\n      if (e instanceof MouseEvent && e.which !== 1) {\n        return;\n      }\n      var target = e.target || e.srcElement;\n      if (this.$el.contains(target)) {\n        if (this.onDragStart(e) === false) {\n          return;\n        }\n        if (this.dragHandle && !(0, dom_1.matchesSelectorToParentElements)(target, this.dragHandle, this.$el) || this.dragCancel && (0, dom_1.matchesSelectorToParentElements)(target, this.dragCancel, this.$el)) {\n          this.dragging = false;\n          return;\n        }\n        if (!this.enabled) {\n          this.enabled = true;\n          this.$emit('activated');\n          this.$emit('update:active', true);\n        }\n        if (this.draggable) {\n          this.dragEnable = true;\n        }\n        this.mouseClickPosition.mouseX = e.touches ? e.touches[0].pageX : e.pageX;\n        this.mouseClickPosition.mouseY = e.touches ? e.touches[0].pageY : e.pageY;\n        this.mouseClickPosition.left = this.left;\n        this.mouseClickPosition.right = this.right;\n        this.mouseClickPosition.top = this.top;\n        this.mouseClickPosition.bottom = this.bottom;\n        if (this.parent) {\n          this.bounds = this.calcDragLimits();\n        }\n        (0, dom_1.addEvent)(document.documentElement, eventsFor.move, this.move);\n        (0, dom_1.addEvent)(document.documentElement, eventsFor.stop, this.handleUp);\n      }\n    },\n    calcDragLimits: function calcDragLimits() {\n      return {\n        minLeft: this.left % this.grid[0],\n        maxLeft: Math.floor((this.parentWidth - this.width - this.left) / this.grid[0]) * this.grid[0] + this.left,\n        minRight: this.right % this.grid[0],\n        maxRight: Math.floor((this.parentWidth - this.width - this.right) / this.grid[0]) * this.grid[0] + this.right,\n        minTop: this.top % this.grid[1],\n        maxTop: Math.floor((this.parentHeight - this.height - this.top) / this.grid[1]) * this.grid[1] + this.top,\n        minBottom: this.bottom % this.grid[1],\n        maxBottom: Math.floor((this.parentHeight - this.height - this.bottom) / this.grid[1]) * this.grid[1] + this.bottom\n      };\n    },\n    deselect: function deselect(e) {\n      var target = e.target || e.srcElement;\n      var regex = new RegExp(this.className + '-([trmbl]{2})', '');\n      if (!this.$el.contains(target) && !regex.test(target.className)) {\n        if (this.enabled && !this.preventDeactivation) {\n          this.enabled = false;\n          this.$emit('deactivated');\n          this.$emit('update:active', false);\n        }\n        (0, dom_1.removeEvent)(document.documentElement, eventsFor.move, this.handleResize);\n      }\n      this.resetBoundsAndMouseState();\n    },\n    handleTouchDown: function handleTouchDown(handle, e) {\n      eventsFor = events.touch;\n      this.handleDown(handle, e);\n    },\n    handleDown: function handleDown(handle, e) {\n      if (e instanceof MouseEvent && e.which !== 1) {\n        return;\n      }\n      if (this.onResizeStart(handle, e) === false) {\n        return;\n      }\n      if (e.stopPropagation) e.stopPropagation();\n      // Here we avoid a dangerous recursion by faking\n      // corner handles as middle handles\n      if (this.lockAspectRatio && !handle.includes('m')) {\n        this.handle = 'm' + handle.substring(1);\n      } else {\n        this.handle = handle;\n      }\n      this.resizeEnable = true;\n      this.mouseClickPosition.mouseX = e.touches ? e.touches[0].pageX : e.pageX;\n      this.mouseClickPosition.mouseY = e.touches ? e.touches[0].pageY : e.pageY;\n      this.mouseClickPosition.left = this.left;\n      this.mouseClickPosition.right = this.right;\n      this.mouseClickPosition.top = this.top;\n      this.mouseClickPosition.bottom = this.bottom;\n      this.bounds = this.calcResizeLimits();\n      (0, dom_1.addEvent)(document.documentElement, eventsFor.move, this.handleResize);\n      (0, dom_1.addEvent)(document.documentElement, eventsFor.stop, this.handleUp);\n    },\n    calcResizeLimits: function calcResizeLimits() {\n      var minW = this.minW;\n      var minH = this.minH;\n      var maxW = this.maxW;\n      var maxH = this.maxH;\n      var aspectFactor = this.aspectFactor;\n      var _a = this.grid,\n        gridX = _a[0],\n        gridY = _a[1];\n      var width = this.width;\n      var height = this.height;\n      var left = this.left;\n      var top = this.top;\n      var right = this.right;\n      var bottom = this.bottom;\n      if (this.lockAspectRatio) {\n        if (minW / minH > aspectFactor) {\n          minH = minW / aspectFactor;\n        } else {\n          minW = aspectFactor * minH;\n        }\n        if (maxW && maxH) {\n          maxW = Math.min(maxW, aspectFactor * maxH);\n          maxH = Math.min(maxH, maxW / aspectFactor);\n        } else if (maxW) {\n          maxH = maxW / aspectFactor;\n        } else if (maxH) {\n          maxW = aspectFactor * maxH;\n        }\n      }\n      maxW = maxW - maxW % gridX;\n      maxH = maxH - maxH % gridY;\n      var limits = {\n        minLeft: null,\n        maxLeft: null,\n        minTop: null,\n        maxTop: null,\n        minRight: null,\n        maxRight: null,\n        minBottom: null,\n        maxBottom: null\n      };\n      if (this.parent) {\n        limits.minLeft = left % gridX;\n        limits.maxLeft = left + Math.floor((width - minW) / gridX) * gridX;\n        limits.minTop = top % gridY;\n        limits.maxTop = top + Math.floor((height - minH) / gridY) * gridY;\n        limits.minRight = right % gridX;\n        limits.maxRight = right + Math.floor((width - minW) / gridX) * gridX;\n        limits.minBottom = bottom % gridY;\n        limits.maxBottom = bottom + Math.floor((height - minH) / gridY) * gridY;\n        if (maxW) {\n          limits.minLeft = Math.max(limits.minLeft, this.parentWidth - right - maxW);\n          limits.minRight = Math.max(limits.minRight, this.parentWidth - left - maxW);\n        }\n        if (maxH) {\n          limits.minTop = Math.max(limits.minTop, this.parentHeight - bottom - maxH);\n          limits.minBottom = Math.max(limits.minBottom, this.parentHeight - top - maxH);\n        }\n        if (this.lockAspectRatio) {\n          limits.minLeft = Math.max(limits.minLeft, left - top * aspectFactor);\n          limits.minTop = Math.max(limits.minTop, top - left / aspectFactor);\n          limits.minRight = Math.max(limits.minRight, right - bottom * aspectFactor);\n          limits.minBottom = Math.max(limits.minBottom, bottom - right / aspectFactor);\n        }\n      } else {\n        limits.minLeft = null;\n        limits.maxLeft = left + Math.floor((width - minW) / gridX) * gridX;\n        limits.minTop = null;\n        limits.maxTop = top + Math.floor((height - minH) / gridY) * gridY;\n        limits.minRight = null;\n        limits.maxRight = right + Math.floor((width - minW) / gridX) * gridX;\n        limits.minBottom = null;\n        limits.maxBottom = bottom + Math.floor((height - minH) / gridY) * gridY;\n        if (maxW) {\n          limits.minLeft = -(right + maxW);\n          limits.minRight = -(left + maxW);\n        }\n        if (maxH) {\n          limits.minTop = -(bottom + maxH);\n          limits.minBottom = -(top + maxH);\n        }\n        if (this.lockAspectRatio && maxW && maxH) {\n          if (typeof limits.minLeft === 'number') {\n            limits.minLeft = Math.min(limits.minLeft, -(right + maxW));\n          }\n          if (typeof limits.minTop === 'number') {\n            limits.minTop = Math.min(limits.minTop, -(maxH + bottom));\n          }\n          if (typeof limits.minRight === 'number') {\n            limits.minRight = Math.min(limits.minRight, -left - maxW);\n          }\n          if (typeof limits.minBottom === 'number') {\n            limits.minBottom = Math.min(limits.minBottom, -top - maxH);\n          }\n        }\n      }\n      return limits;\n    },\n    move: function move(e) {\n      if (this.resizing) {\n        this.handleResize(e);\n      } else if (this.dragEnable) {\n        this.handleDrag(e);\n      }\n    },\n    handleDrag: function handleDrag(e) {\n      var axis = this.axis;\n      var grid = this.grid;\n      var bounds = this.bounds;\n      var mouseClickPosition = this.mouseClickPosition;\n      var tmpDeltaX = axis && axis !== 'y' ? mouseClickPosition.mouseX - (e.touches ? e.touches[0].pageX : e.pageX) : 0;\n      var tmpDeltaY = axis && axis !== 'x' ? mouseClickPosition.mouseY - (e.touches ? e.touches[0].pageY : e.pageY) : 0;\n      var _a = (0, fns_1.snapToGrid)(grid, tmpDeltaX, tmpDeltaY, this.scale),\n        deltaX = _a[0],\n        deltaY = _a[1];\n      var left = (0, fns_1.restrictToBounds)(mouseClickPosition.left - deltaX, bounds.minLeft, bounds.maxLeft);\n      var top = (0, fns_1.restrictToBounds)(mouseClickPosition.top - deltaY, bounds.minTop, bounds.maxTop);\n      if (this.onDrag(left, top) === false) {\n        return;\n      }\n      var right = (0, fns_1.restrictToBounds)(mouseClickPosition.right + deltaX, bounds.minRight, bounds.maxRight);\n      var bottom = (0, fns_1.restrictToBounds)(mouseClickPosition.bottom + deltaY, bounds.minBottom, bounds.maxBottom);\n      this.left = left;\n      this.top = top;\n      this.right = right;\n      this.bottom = bottom;\n      console.log('draggingInner', this.left);\n      this.$emit('dragging', this.left, this.top);\n      this.dragging = true;\n    },\n    moveHorizontally: function moveHorizontally(val) {\n      // should calculate with scale 1.\n      var _a = (0, fns_1.snapToGrid)(this.grid, val, this.top, 1),\n        deltaX = _a[0],\n        _ = _a[1];\n      var left = (0, fns_1.restrictToBounds)(deltaX, this.bounds.minLeft, this.bounds.maxLeft);\n      this.left = left;\n      this.right = this.parentWidth - this.width - left;\n    },\n    moveVertically: function moveVertically(val) {\n      // should calculate with scale 1.\n      var _a = (0, fns_1.snapToGrid)(this.grid, this.left, val, 1),\n        _ = _a[0],\n        deltaY = _a[1];\n      var top = (0, fns_1.restrictToBounds)(deltaY, this.bounds.minTop, this.bounds.maxTop);\n      this.top = top;\n      this.bottom = this.parentHeight - this.height - top;\n    },\n    handleResize: function handleResize(e) {\n      var left = this.left;\n      var top = this.top;\n      var right = this.right;\n      var bottom = this.bottom;\n      var mouseClickPosition = this.mouseClickPosition;\n      var lockAspectRatio = this.lockAspectRatio;\n      var aspectFactor = this.aspectFactor;\n      var tmpDeltaX = mouseClickPosition.mouseX - (e.touches ? e.touches[0].pageX : e.pageX);\n      var tmpDeltaY = mouseClickPosition.mouseY - (e.touches ? e.touches[0].pageY : e.pageY);\n      if (!this.widthTouched && tmpDeltaX) {\n        this.widthTouched = true;\n      }\n      if (!this.heightTouched && tmpDeltaY) {\n        this.heightTouched = true;\n      }\n      var _a = (0, fns_1.snapToGrid)(this.grid, tmpDeltaX, tmpDeltaY, this.scale),\n        deltaX = _a[0],\n        deltaY = _a[1];\n      if (this.handle.includes('b')) {\n        bottom = (0, fns_1.restrictToBounds)(mouseClickPosition.bottom + deltaY, this.bounds.minBottom, this.bounds.maxBottom);\n        if (this.lockAspectRatio && this.resizingOnY) {\n          right = this.right - (this.bottom - bottom) * aspectFactor;\n        }\n      } else if (this.handle.includes('t')) {\n        top = (0, fns_1.restrictToBounds)(mouseClickPosition.top - deltaY, this.bounds.minTop, this.bounds.maxTop);\n        if (this.lockAspectRatio && this.resizingOnY) {\n          left = this.left - (this.top - top) * aspectFactor;\n        }\n      }\n      if (this.handle.includes('r')) {\n        right = (0, fns_1.restrictToBounds)(mouseClickPosition.right + deltaX, this.bounds.minRight, this.bounds.maxRight);\n        if (this.lockAspectRatio && this.resizingOnX) {\n          bottom = this.bottom - (this.right - right) / aspectFactor;\n        }\n      } else if (this.handle.includes('l')) {\n        left = (0, fns_1.restrictToBounds)(mouseClickPosition.left - deltaX, this.bounds.minLeft, this.bounds.maxLeft);\n        if (this.lockAspectRatio && this.resizingOnX) {\n          top = this.top - (this.left - left) / aspectFactor;\n        }\n      }\n      var width = (0, fns_1.computeWidth)(this.parentWidth, left, right);\n      var height = (0, fns_1.computeHeight)(this.parentHeight, top, bottom);\n      if (this.onResize(this.handle, left, top, width, height) === false) {\n        return;\n      }\n      this.left = left;\n      this.top = top;\n      this.right = right;\n      this.bottom = bottom;\n      this.width = width;\n      this.height = height;\n      this.$emit('resizing', this.left, this.top, this.width, this.height);\n      this.resizing = true;\n    },\n    changeWidth: function changeWidth(val) {\n      // should calculate with scale 1.\n      var _a = (0, fns_1.snapToGrid)(this.grid, val, 0, 1),\n        newWidth = _a[0],\n        _ = _a[1];\n      var right = (0, fns_1.restrictToBounds)(this.parentWidth - newWidth - this.left, this.bounds.minRight, this.bounds.maxRight);\n      var bottom = this.bottom;\n      if (this.lockAspectRatio) {\n        bottom = this.bottom - (this.right - right) / this.aspectFactor;\n      }\n      var width = (0, fns_1.computeWidth)(this.parentWidth, this.left, right);\n      var height = (0, fns_1.computeHeight)(this.parentHeight, this.top, bottom);\n      this.right = right;\n      this.bottom = bottom;\n      this.width = width;\n      this.height = height;\n    },\n    changeHeight: function changeHeight(val) {\n      // should calculate with scale 1.\n      var _a = (0, fns_1.snapToGrid)(this.grid, 0, val, 1),\n        _ = _a[0],\n        newHeight = _a[1];\n      var bottom = (0, fns_1.restrictToBounds)(this.parentHeight - newHeight - this.top, this.bounds.minBottom, this.bounds.maxBottom);\n      var right = this.right;\n      if (this.lockAspectRatio) {\n        right = this.right - (this.bottom - bottom) * this.aspectFactor;\n      }\n      var width = (0, fns_1.computeWidth)(this.parentWidth, this.left, right);\n      var height = (0, fns_1.computeHeight)(this.parentHeight, this.top, bottom);\n      this.right = right;\n      this.bottom = bottom;\n      this.width = width;\n      this.height = height;\n    },\n    handleUp: function handleUp(e) {\n      this.handle = null;\n      this.resetBoundsAndMouseState();\n      this.dragEnable = false;\n      this.resizeEnable = false;\n      if (this.resizing) {\n        this.resizing = false;\n        this.$emit('resizestop', this.left, this.top, this.width, this.height);\n      }\n      if (this.dragging) {\n        this.dragging = false;\n        this.$emit('dragstop', this.left, this.top);\n      }\n      (0, dom_1.removeEvent)(document.documentElement, eventsFor.move, this.handleResize);\n    }\n  },\n  computed: {\n    style: function style() {\n      return tslib_1.__assign({\n        width: this.computedWidth,\n        height: this.computedHeight,\n        zIndex: this.zIndex\n      }, this.dragging && this.disableUserSelect ? userSelectNone : userSelectAuto);\n    },\n    actualHandles: function actualHandles() {\n      if (!this.resizable) return [];\n      return this.handles;\n    },\n    computedWidth: function computedWidth() {\n      if (this.w === 'auto') {\n        if (!this.widthTouched) {\n          return 'auto';\n        }\n      }\n      return this.width + 'px';\n    },\n    computedHeight: function computedHeight() {\n      if (this.h === 'auto') {\n        if (!this.heightTouched) {\n          return 'auto';\n        }\n      }\n      return this.height + 'px';\n    },\n    resizingOnX: function resizingOnX() {\n      return Boolean(this.handle) && (this.handle.includes('l') || this.handle.includes('r'));\n    },\n    resizingOnY: function resizingOnY() {\n      return Boolean(this.handle) && (this.handle.includes('t') || this.handle.includes('b'));\n    },\n    isCornerHandle: function isCornerHandle() {\n      return Boolean(this.handle) && ['tl', 'tr', 'br', 'bl'].includes(this.handle);\n    }\n  },\n  watch: {\n    active: function active(val) {\n      this.enabled = val;\n      if (val) {\n        this.$emit('activated');\n      } else {\n        this.$emit('deactivated');\n      }\n    },\n    z: function z(val) {\n      if (val >= 0 || val === 'auto') {\n        this.zIndex = val;\n      }\n    },\n    x: function x(val) {\n      if (this.resizing || this.dragging) {\n        return;\n      }\n      if (this.parent) {\n        this.bounds = this.calcDragLimits();\n      }\n      this.moveHorizontally(val);\n    },\n    y: function y(val) {\n      if (this.resizing || this.dragging) {\n        return;\n      }\n      if (this.parent) {\n        this.bounds = this.calcDragLimits();\n      }\n      this.moveVertically(val);\n    },\n    lockAspectRatio: function lockAspectRatio(val) {\n      if (val) {\n        this.aspectFactor = this.width / this.height;\n      } else {\n        this.aspectFactor = undefined;\n      }\n    },\n    minWidth: function minWidth(val) {\n      if (val > 0 && val <= this.width) {\n        this.minW = val;\n      }\n    },\n    minHeight: function minHeight(val) {\n      if (val > 0 && val <= this.height) {\n        this.minH = val;\n      }\n    },\n    maxWidth: function maxWidth(val) {\n      this.maxW = val;\n    },\n    maxHeight: function maxHeight(val) {\n      this.maxH = val;\n    },\n    w: function w(val) {\n      if (this.resizing || this.dragging) {\n        return;\n      }\n      if (this.parent) {\n        this.bounds = this.calcResizeLimits();\n      }\n      this.changeWidth(val);\n    },\n    h: function h(val) {\n      if (this.resizing || this.dragging) {\n        return;\n      }\n      if (this.parent) {\n        this.bounds = this.calcResizeLimits();\n      }\n      this.changeHeight(val);\n    }\n  },\n  render: function render() {\n    var _a;\n    var _this = this;\n    var _b, _c;\n    return (0, _vue.createVNode)(\"div\", {\n      \"style\": this.style,\n      \"class\": [(_a = {}, _a[this.classNameActive] = this.enabled, _a[this.classNameDragging] = this.dragging, _a[this.classNameResizing] = this.resizing, _a[this.classNameDraggable] = this.draggable, _a[this.classNameResizable] = this.resizable, _a), this.className],\n      \"onMousedown\": this.elementMouseDown,\n      \"onTouchstart\": this.elementTouchDown\n    }, [this.actualHandles.map(function (handle) {\n      var _a, _b;\n      return (0, _vue.createVNode)(\"div\", {\n        \"key\": handle,\n        \"class\": [_this.classNameHandle, _this.classNameHandle + '-' + handle],\n        \"style\": {\n          display: _this.enabled ? 'block' : 'none'\n        },\n        \"onMousedown\": function onMousedown(e) {\n          e.stopPropagation();\n          _this.handleDown(handle, e);\n        },\n        \"onTouchstart\": function onTouchstart(e) {\n          e.stopPropagation();\n          _this.handleTouchDown(handle, e);\n        }\n      }, [(_b = (_a = _this.$slots) === null || _a === void 0 ? void 0 : _a[handle]) === null || _b === void 0 ? void 0 : _b.call(_a)]);\n    }), (_c = (_b = this.$slots) === null || _b === void 0 ? void 0 : _b.default) === null || _c === void 0 ? void 0 : _c.call(_b)]);\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","vue_1","dom_1","fns_1","events","mouse","start","move","stop","touch","userSelectNone","userSelect","MozUserSelect","WebkitUserSelect","MsUserSelect","userSelectAuto","eventsFor","default","defineComponent","replace","name","props","className","type","String","classNameDraggable","classNameResizable","classNameDragging","classNameResizing","classNameActive","classNameHandle","disableUserSelect","Boolean","enableNativeDrag","preventDeactivation","active","draggable","resizable","lockAspectRatio","w","Number","validator","val","h","minWidth","minHeight","maxWidth","maxHeight","x","y","z","handles","Array","s","Set","filter","has","size","length","dragHandle","dragCancel","axis","includes","grid","parent","scale","onDragStart","Function","onDrag","onResizeStart","onResize","data","left","this","top","right","bottom","width","height","widthTouched","heightTouched","aspectFactor","parentWidth","parentHeight","minW","minH","maxW","maxH","handle","enabled","resizing","dragging","dragEnable","resizeEnable","zIndex","created","console","warn","resetBoundsAndMouseState","mounted","$el","ondragstart","_a","getParentSize","_b","getComputedSize","$emit","addEvent","document","documentElement","deselect","window","checkParentSize","beforeDestroy","removeEvent","handleUp","methods","mouseClickPosition","mouseX","mouseY","bounds","minLeft","maxLeft","minRight","maxRight","minTop","maxTop","minBottom","maxBottom","newParentWidth","newParentHeight","style","getComputedStyle","parentNode","parseInt","getPropertyValue","elementTouchDown","e","elementDown","elementMouseDown","target","MouseEvent","which","srcElement","contains","matchesSelectorToParentElements","touches","pageX","pageY","calcDragLimits","Math","floor","regex","RegExp","test","handleResize","handleTouchDown","handleDown","stopPropagation","substring","calcResizeLimits","gridX","gridY","limits","min","max","handleDrag","tmpDeltaX","tmpDeltaY","snapToGrid","deltaX","deltaY","restrictToBounds","log","moveHorizontally","moveVertically","resizingOnY","resizingOnX","computeWidth","computeHeight","changeWidth","newWidth","changeHeight","newHeight","computed","__assign","computedWidth","computedHeight","actualHandles","isCornerHandle","watch","undefined","render","_c","_this","createVNode","class","onMousedown","onTouchstart","map","key","display","$slots","call"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EAmCpBC,SAlCJD,QAAQ,8CAA8C,EACtDA,QAAQ,0CAA0C,EAClDA,QAAQ,sCAAsC,EAC9CA,QAAQ,wCAAwC,EAChDA,QAAQ,2BAA2B,EACnCA,QAAQ,uCAAuC,EAC/CA,QAAQ,uCAAuC,EAC/CA,QAAQ,0CAA0C,EAClDA,QAAQ,0CAA0C,EAClDA,QAAQ,qCAAqC,EAC7CA,QAAQ,sCAAsC,EAC9CA,QAAQ,oCAAoC,EAC5CA,QAAQ,4CAA4C,EACpDA,QAAQ,gDAAgD,EACxDA,QAAQ,4CAA4C,EACpDA,QAAQ,8CAA8C,EACtDA,QAAQ,oCAAoC,EAC5CA,QAAQ,mCAAmC,EAC3CA,QAAQ,sCAAsC,EAC9CA,QAAQ,oCAAoC,EAC5CA,QAAQ,oDAAoD,EAC5DA,QAAQ,qCAAqC,EAC7CA,QAAQ,iDAAiD,EACzDA,QAAQ,oCAAoC,EAC5CA,QAAQ,sCAAsC,EAC9CA,QAAQ,iCAAiC,EACzCA,QAAQ,0CAA0C,EAClDA,QAAQ,mCAAmC,EAC3CA,QAAQ,wCAAwC,EAChDA,QAAQ,uCAAuC,EAC/CA,QAAQ,iCAAiC,EACzCE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACaL,QAAQ,OAAO,GACzBM,MAAQN,QAAQ,KAAK,EACrBO,MAAQP,QAAQ,aAAa,EAC7BQ,MAAQR,QAAQ,aAAa,EAC7BS,OAAS,CACXC,MAAO,CACLC,MAAO,YACPC,KAAM,YACNC,KAAM,SACR,EACAC,MAAO,CACLH,MAAO,aACPC,KAAM,YACNC,KAAM,UACR,CACF,EACIE,eAAiB,CACnBC,WAAY,OACZC,cAAe,OACfC,iBAAkB,OAClBC,aAAc,MAChB,EACIC,eAAiB,CACnBJ,WAAY,OACZC,cAAe,OACfC,iBAAkB,OAClBC,aAAc,MAChB,EACIE,UAAYZ,OAAOC,MACvBN,QAAQkB,SAAU,EAAIhB,MAAMiB,iBAAiB,CAC3CC,QAAS,CAAA,EACTC,KAAM,0BACNC,MAAO,CACLC,UAAW,CACTC,KAAMC,OACNP,QAAS,KACX,EACAQ,mBAAoB,CAClBF,KAAMC,OACNP,QAAS,WACX,EACAS,mBAAoB,CAClBH,KAAMC,OACNP,QAAS,WACX,EACAU,kBAAmB,CACjBJ,KAAMC,OACNP,QAAS,UACX,EACAW,kBAAmB,CACjBL,KAAMC,OACNP,QAAS,UACX,EACAY,gBAAiB,CACfN,KAAMC,OACNP,QAAS,QACX,EACAa,gBAAiB,CACfP,KAAMC,OACNP,QAAS,QACX,EACAc,kBAAmB,CACjBR,KAAMS,QACNf,QAAS,CAAA,CACX,EACAgB,iBAAkB,CAChBV,KAAMS,QACNf,QAAS,CAAA,CACX,EACAiB,oBAAqB,CACnBX,KAAMS,QACNf,QAAS,CAAA,CACX,EACAkB,OAAQ,CACNZ,KAAMS,QACNf,QAAS,CAAA,CACX,EACAmB,UAAW,CACTb,KAAMS,QACNf,QAAS,CAAA,CACX,EACAoB,UAAW,CACTd,KAAMS,QACNf,QAAS,CAAA,CACX,EACAqB,gBAAiB,CACff,KAAMS,QACNf,QAAS,CAAA,CACX,EACAsB,EAAG,CACDhB,KAAM,CAACiB,OAAQhB,QACfP,QAAS,IACTwB,UAAW,SAAmBC,GAC5B,MAAmB,UAAf,OAAOA,EACI,EAANA,EAEM,SAARA,CACT,CACF,EACAC,EAAG,CACDpB,KAAM,CAACiB,OAAQhB,QACfP,QAAS,IACTwB,UAAW,SAAmBC,GAC5B,MAAmB,UAAf,OAAOA,EACI,EAANA,EAEM,SAARA,CACT,CACF,EACAE,SAAU,CACRrB,KAAMiB,OACNvB,QAAS,EACTwB,UAAW,SAAmBC,GAC5B,OAAc,GAAPA,CACT,CACF,EACAG,UAAW,CACTtB,KAAMiB,OACNvB,QAAS,EACTwB,UAAW,SAAmBC,GAC5B,OAAc,GAAPA,CACT,CACF,EACAI,SAAU,CACRvB,KAAMiB,OACNvB,QAAS,KACTwB,UAAW,SAAmBC,GAC5B,OAAc,GAAPA,CACT,CACF,EACAK,UAAW,CACTxB,KAAMiB,OACNvB,QAAS,KACTwB,UAAW,SAAmBC,GAC5B,OAAc,GAAPA,CACT,CACF,EACAM,EAAG,CACDzB,KAAMiB,OACNvB,QAAS,CACX,EACAgC,EAAG,CACD1B,KAAMiB,OACNvB,QAAS,CACX,EACAiC,EAAG,CACD3B,KAAM,CAACC,OAAQgB,QACfvB,QAAS,OACTwB,UAAW,SAAmBC,GAC5B,MAAsB,UAAf,OAAOA,EAA2B,SAARA,EAAwB,GAAPA,CACpD,CACF,EACAS,QAAS,CACP5B,KAAM6B,MACNnC,QAAS,WACP,MAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACpD,EACAwB,UAAW,SAAmBC,GAC5B,IAAIW,EAAI,IAAIC,IAAI,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAK,EAChE,OAAO,IAAIA,IAAIZ,EAAIa,OAAO,SAAUZ,GAClC,OAAOU,EAAEG,IAAIb,CAAC,CAChB,CAAC,CAAC,EAAEc,OAASf,EAAIgB,MACnB,CACF,EACAC,WAAY,CACVpC,KAAMC,OACNP,QAAS,IACX,EACA2C,WAAY,CACVrC,KAAMC,OACNP,QAAS,IACX,EACA4C,KAAM,CACJtC,KAAMC,OACNP,QAAS,OACTwB,UAAW,SAAmBC,GAC5B,MAAO,CAAC,IAAK,IAAK,QAAQoB,SAASpB,CAAG,CACxC,CACF,EACAqB,KAAM,CACJxC,KAAM6B,MACNnC,QAAS,WACP,MAAO,CAAC,EAAG,EACb,CACF,EACA+C,OAAQ,CACNzC,KAAMS,QACNf,QAAS,CAAA,CACX,EACAgD,MAAO,CACL1C,KAAM,CAACiB,OAAQY,OACfnC,QAAS,EACTwB,UAAW,SAAmBC,GAC5B,MAAmB,UAAf,OAAOA,EACI,EAANA,EAEa,IAAfA,EAAIgB,QAAyB,EAAThB,EAAI,IAAmB,EAATA,EAAI,EAC/C,CACF,EACAwB,YAAa,CACX3C,KAAM4C,SACNlD,QAAS,WACP,MAAO,CAAA,CACT,CACF,EACAmD,OAAQ,CACN7C,KAAM4C,SACNlD,QAAS,WACP,MAAO,CAAA,CACT,CACF,EACAoD,cAAe,CACb9C,KAAM4C,SACNlD,QAAS,WACP,MAAO,CAAA,CACT,CACF,EACAqD,SAAU,CACR/C,KAAM4C,SACNlD,QAAS,WACP,MAAO,CAAA,CACT,CACF,CACF,EACAsD,KAAM,WACJ,MAAO,CACLC,KAAMC,KAAKzB,EACX0B,IAAKD,KAAKxB,EACV0B,MAAO,KACPC,OAAQ,KACRC,MAAO,KACPC,OAAQ,KACRC,aAAc,CAAA,EACdC,cAAe,CAAA,EACfC,aAAc,KACdC,YAAa,KACbC,aAAc,KACdC,KAAMX,KAAK7B,SACXyC,KAAMZ,KAAK5B,UACXyC,KAAMb,KAAK3B,SACXyC,KAAMd,KAAK1B,UACXyC,OAAQ,KACRC,QAAShB,KAAKtC,OACduD,SAAU,CAAA,EACVC,SAAU,CAAA,EACVC,WAAY,CAAA,EACZC,aAAc,CAAA,EACdC,OAAQrB,KAAKvB,CACf,CACF,EACA6C,QAAS,WAEHtB,KAAK3B,UAAY2B,KAAK7B,SAAW6B,KAAK3B,UAAUkD,QAAQC,KAAK,oEAAoE,EAEjIxB,KAAK3B,UAAY2B,KAAK5B,UAAY4B,KAAK1B,WAAWiD,QAAQC,KAAK,sEAAsE,EACzIxB,KAAKyB,yBAAyB,CAChC,EACAC,QAAS,WACF1B,KAAKxC,mBACRwC,KAAK2B,IAAIC,YAAc,WACrB,MAAO,CAAA,CACT,GAEF,IAAIC,EAAK7B,KAAK8B,cAAc,EAC1BrB,EAAcoB,EAAG,GACjBnB,EAAemB,EAAG,GAGhBE,GAFJ/B,KAAKS,YAAcA,EACnBT,KAAKU,aAAeA,GACX,EAAIjF,MAAMuG,iBAAiBhC,KAAK2B,GAAG,GAC1CvB,EAAQ2B,EAAG,GACX1B,EAAS0B,EAAG,GACd/B,KAAKQ,cAA2B,SAAXR,KAAKlC,EAAekC,KAAKlC,EAAIsC,IAAqB,SAAXJ,KAAK9B,EAAe8B,KAAK9B,EAAImC,GACzFL,KAAKI,MAAmB,SAAXJ,KAAKlC,EAAekC,KAAKlC,EAAIsC,EAC1CJ,KAAKK,OAAoB,SAAXL,KAAK9B,EAAe8B,KAAK9B,EAAImC,EAC3CL,KAAKE,MAAQF,KAAKS,YAAcT,KAAKI,MAAQJ,KAAKD,KAClDC,KAAKG,OAASH,KAAKU,aAAeV,KAAKK,OAASL,KAAKC,IACjDD,KAAKtC,QACPsC,KAAKiC,MAAM,WAAW,GAExB,EAAIxG,MAAMyG,UAAUC,SAASC,gBAAiB,YAAapC,KAAKqC,QAAQ,GACxE,EAAI5G,MAAMyG,UAAUC,SAASC,gBAAiB,uBAAwBpC,KAAKqC,QAAQ,GACnF,EAAI5G,MAAMyG,UAAUI,OAAQ,SAAUtC,KAAKuC,eAAe,CAC5D,EACAC,cAAe,YACb,EAAI/G,MAAMgH,aAAaN,SAASC,gBAAiB,YAAapC,KAAKqC,QAAQ,GAC3E,EAAI5G,MAAMgH,aAAaN,SAASC,gBAAiB,aAAcpC,KAAK0C,QAAQ,GAC5E,EAAIjH,MAAMgH,aAAaN,SAASC,gBAAiB,YAAapC,KAAKlE,IAAI,GACvE,EAAIL,MAAMgH,aAAaN,SAASC,gBAAiB,YAAapC,KAAKlE,IAAI,GACvE,EAAIL,MAAMgH,aAAaN,SAASC,gBAAiB,UAAWpC,KAAK0C,QAAQ,GACzE,EAAIjH,MAAMgH,aAAaN,SAASC,gBAAiB,uBAAwBpC,KAAKqC,QAAQ,GACtF,EAAI5G,MAAMgH,aAAaH,OAAQ,SAAUtC,KAAKuC,eAAe,CAC/D,EACAI,QAAS,CACPlB,yBAA0B,WACxBzB,KAAK4C,mBAAqB,CACxBC,OAAQ,EACRC,OAAQ,EACRvE,EAAG,EACHC,EAAG,EACHV,EAAG,EACHI,EAAG,CACL,EACA8B,KAAK+C,OAAS,CACZC,QAAS,KACTC,QAAS,KACTC,SAAU,KACVC,SAAU,KACVC,OAAQ,KACRC,OAAQ,KACRC,UAAW,KACXC,UAAW,IACb,CACF,EACAhB,gBAAiB,WACf,IAEIiB,EACAC,EAHAzD,KAAKT,SAELiE,GADE3B,EAAK7B,KAAK8B,cAAc,GACN,GACpB2B,EAAkB5B,EAAG,GACvB7B,KAAKS,YAAc+C,EACnBxD,KAAKU,aAAe+C,EACpBzD,KAAKE,MAAQF,KAAKS,YAAcT,KAAKI,MAAQJ,KAAKD,KAClDC,KAAKG,OAASH,KAAKU,aAAeV,KAAKK,OAASL,KAAKC,IAEzD,EACA6B,cAAe,WACb,IACM4B,EADN,OAAI1D,KAAKT,QACHmE,EAAQpB,OAAOqB,iBAAiB3D,KAAK2B,IAAIiC,WAAY,IAAI,EACtD,CAACC,SAASH,EAAMI,iBAAiB,OAAO,EAAG,EAAE,EAAGD,SAASH,EAAMI,iBAAiB,QAAQ,EAAG,EAAE,IAE/F,CAAC,KAAM,KAChB,EACAC,iBAAkB,SAA0BC,GAC1CzH,UAAYZ,OAAOK,MACnBgE,KAAKiE,YAAYD,CAAC,CACpB,EACAE,iBAAkB,SAA0BF,GAC1CzH,UAAYZ,OAAOC,MACnBoE,KAAKiE,YAAYD,CAAC,CACpB,EACAC,YAAa,SAAqBD,GAChC,IAGIG,EAHAH,aAAaI,YAA0B,IAAZJ,EAAEK,QAG7BF,EAASH,EAAEG,QAAUH,EAAEM,WACvBtE,KAAK2B,IAAI4C,SAASJ,CAAM,GACE,CAAA,IAAxBnE,KAAKP,YAAYuE,CAAC,IAGlBhE,KAAKd,YAAc,EAAC,EAAIzD,MAAM+I,iCAAiCL,EAAQnE,KAAKd,WAAYc,KAAK2B,GAAG,GAAK3B,KAAKb,aAAc,EAAI1D,MAAM+I,iCAAiCL,EAAQnE,KAAKb,WAAYa,KAAK2B,GAAG,EACtM3B,KAAKkB,SAAW,CAAA,GAGblB,KAAKgB,UACRhB,KAAKgB,QAAU,CAAA,EACfhB,KAAKiC,MAAM,WAAW,EACtBjC,KAAKiC,MAAM,gBAAiB,CAAA,CAAI,GAE9BjC,KAAKrC,YACPqC,KAAKmB,WAAa,CAAA,GAEpBnB,KAAK4C,mBAAmBC,QAASmB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARU,MAC1D1E,KAAK4C,mBAAmBE,QAASkB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARW,MAC1D3E,KAAK4C,mBAAmB7C,KAAOC,KAAKD,KACpCC,KAAK4C,mBAAmB1C,MAAQF,KAAKE,MACrCF,KAAK4C,mBAAmB3C,IAAMD,KAAKC,IACnCD,KAAK4C,mBAAmBzC,OAASH,KAAKG,OAClCH,KAAKT,SACPS,KAAK+C,OAAS/C,KAAK4E,eAAe,IAEpC,EAAInJ,MAAMyG,UAAUC,SAASC,gBAAiB7F,UAAUT,KAAMkE,KAAKlE,IAAI,GACvE,EAAIL,MAAMyG,UAAUC,SAASC,gBAAiB7F,UAAUR,KAAMiE,KAAK0C,QAAQ,IAE/E,EACAkC,eAAgB,WACd,MAAO,CACL5B,QAAShD,KAAKD,KAAOC,KAAKV,KAAK,GAC/B2D,QAAS4B,KAAKC,OAAO9E,KAAKS,YAAcT,KAAKI,MAAQJ,KAAKD,MAAQC,KAAKV,KAAK,EAAE,EAAIU,KAAKV,KAAK,GAAKU,KAAKD,KACtGmD,SAAUlD,KAAKE,MAAQF,KAAKV,KAAK,GACjC6D,SAAU0B,KAAKC,OAAO9E,KAAKS,YAAcT,KAAKI,MAAQJ,KAAKE,OAASF,KAAKV,KAAK,EAAE,EAAIU,KAAKV,KAAK,GAAKU,KAAKE,MACxGkD,OAAQpD,KAAKC,IAAMD,KAAKV,KAAK,GAC7B+D,OAAQwB,KAAKC,OAAO9E,KAAKU,aAAeV,KAAKK,OAASL,KAAKC,KAAOD,KAAKV,KAAK,EAAE,EAAIU,KAAKV,KAAK,GAAKU,KAAKC,IACtGqD,UAAWtD,KAAKG,OAASH,KAAKV,KAAK,GACnCiE,UAAWsB,KAAKC,OAAO9E,KAAKU,aAAeV,KAAKK,OAASL,KAAKG,QAAUH,KAAKV,KAAK,EAAE,EAAIU,KAAKV,KAAK,GAAKU,KAAKG,MAC9G,CACF,EACAkC,SAAU,SAAkB2B,GAC1B,IAAIG,EAASH,EAAEG,QAAUH,EAAEM,WACvBS,EAAQ,IAAIC,OAAOhF,KAAKnD,UAAY,gBAAiB,EAAE,EACtDmD,KAAK2B,IAAI4C,SAASJ,CAAM,GAAMY,EAAME,KAAKd,EAAOtH,SAAS,IACxDmD,KAAKgB,SAAW,CAAChB,KAAKvC,sBACxBuC,KAAKgB,QAAU,CAAA,EACfhB,KAAKiC,MAAM,aAAa,EACxBjC,KAAKiC,MAAM,gBAAiB,CAAA,CAAK,IAEnC,EAAIxG,MAAMgH,aAAaN,SAASC,gBAAiB7F,UAAUT,KAAMkE,KAAKkF,YAAY,GAEpFlF,KAAKyB,yBAAyB,CAChC,EACA0D,gBAAiB,SAAyBpE,EAAQiD,GAChDzH,UAAYZ,OAAOK,MACnBgE,KAAKoF,WAAWrE,EAAQiD,CAAC,CAC3B,EACAoB,WAAY,SAAoBrE,EAAQiD,GAClCA,aAAaI,YAA0B,IAAZJ,EAAEK,OAGK,CAAA,IAAlCrE,KAAKJ,cAAcmB,EAAQiD,CAAC,IAG5BA,EAAEqB,iBAAiBrB,EAAEqB,gBAAgB,EAGrCrF,KAAKnC,iBAAmB,CAACkD,EAAO1B,SAAS,GAAG,EAC9CW,KAAKe,OAAS,IAAMA,EAAOuE,UAAU,CAAC,EAEtCtF,KAAKe,OAASA,EAEhBf,KAAKoB,aAAe,CAAA,EACpBpB,KAAK4C,mBAAmBC,QAASmB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARU,MAC1D1E,KAAK4C,mBAAmBE,QAASkB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARW,MAC1D3E,KAAK4C,mBAAmB7C,KAAOC,KAAKD,KACpCC,KAAK4C,mBAAmB1C,MAAQF,KAAKE,MACrCF,KAAK4C,mBAAmB3C,IAAMD,KAAKC,IACnCD,KAAK4C,mBAAmBzC,OAASH,KAAKG,OACtCH,KAAK+C,OAAS/C,KAAKuF,iBAAiB,GACpC,EAAI9J,MAAMyG,UAAUC,SAASC,gBAAiB7F,UAAUT,KAAMkE,KAAKkF,YAAY,GAC/E,EAAIzJ,MAAMyG,UAAUC,SAASC,gBAAiB7F,UAAUR,KAAMiE,KAAK0C,QAAQ,EAC7E,EACA6C,iBAAkB,WAChB,IAAI5E,EAAOX,KAAKW,KACZC,EAAOZ,KAAKY,KACZC,EAAOb,KAAKa,KACZC,EAAOd,KAAKc,KACZN,EAAeR,KAAKQ,aACpBqB,EAAK7B,KAAKV,KACZkG,EAAQ3D,EAAG,GACX4D,EAAQ5D,EAAG,GACTzB,EAAQJ,KAAKI,MACbC,EAASL,KAAKK,OACdN,EAAOC,KAAKD,KACZE,EAAMD,KAAKC,IACXC,EAAQF,KAAKE,MACbC,EAASH,KAAKG,OAkBduF,GAjBA1F,KAAKnC,kBACW2C,EAAdG,EAAOC,EACTA,EAAOD,EAAOH,EAEdG,EAAOH,EAAeI,EAEpBC,GAAQC,GACVD,EAAOgE,KAAKc,IAAI9E,EAAML,EAAeM,CAAI,EACzCA,EAAO+D,KAAKc,IAAI7E,EAAMD,EAAOL,CAAY,GAChCK,EACTC,EAAOD,EAAOL,EACLM,IACTD,EAAOL,EAAeM,IAG1BD,GAAcA,EAAO2E,EACrB1E,GAAcA,EAAO2E,EACR,CACXzC,QAAS,KACTC,QAAS,KACTG,OAAQ,KACRC,OAAQ,KACRH,SAAU,KACVC,SAAU,KACVG,UAAW,KACXC,UAAW,IACb,GAwDA,OAvDIvD,KAAKT,QACPmG,EAAO1C,QAAUjD,EAAOyF,EACxBE,EAAOzC,QAAUlD,EAAO8E,KAAKC,OAAO1E,EAAQO,GAAQ6E,CAAK,EAAIA,EAC7DE,EAAOtC,OAASnD,EAAMwF,EACtBC,EAAOrC,OAASpD,EAAM4E,KAAKC,OAAOzE,EAASO,GAAQ6E,CAAK,EAAIA,EAC5DC,EAAOxC,SAAWhD,EAAQsF,EAC1BE,EAAOvC,SAAWjD,EAAQ2E,KAAKC,OAAO1E,EAAQO,GAAQ6E,CAAK,EAAIA,EAC/DE,EAAOpC,UAAYnD,EAASsF,EAC5BC,EAAOnC,UAAYpD,EAAS0E,KAAKC,OAAOzE,EAASO,GAAQ6E,CAAK,EAAIA,EAC9D5E,IACF6E,EAAO1C,QAAU6B,KAAKe,IAAIF,EAAO1C,QAAShD,KAAKS,YAAcP,EAAQW,CAAI,EACzE6E,EAAOxC,SAAW2B,KAAKe,IAAIF,EAAOxC,SAAUlD,KAAKS,YAAcV,EAAOc,CAAI,GAExEC,IACF4E,EAAOtC,OAASyB,KAAKe,IAAIF,EAAOtC,OAAQpD,KAAKU,aAAeP,EAASW,CAAI,EACzE4E,EAAOpC,UAAYuB,KAAKe,IAAIF,EAAOpC,UAAWtD,KAAKU,aAAeT,EAAMa,CAAI,GAE1Ed,KAAKnC,kBACP6H,EAAO1C,QAAU6B,KAAKe,IAAIF,EAAO1C,QAASjD,EAAOE,EAAMO,CAAY,EACnEkF,EAAOtC,OAASyB,KAAKe,IAAIF,EAAOtC,OAAQnD,EAAMF,EAAOS,CAAY,EACjEkF,EAAOxC,SAAW2B,KAAKe,IAAIF,EAAOxC,SAAUhD,EAAQC,EAASK,CAAY,EACzEkF,EAAOpC,UAAYuB,KAAKe,IAAIF,EAAOpC,UAAWnD,EAASD,EAAQM,CAAY,KAG7EkF,EAAO1C,QAAU,KACjB0C,EAAOzC,QAAUlD,EAAO8E,KAAKC,OAAO1E,EAAQO,GAAQ6E,CAAK,EAAIA,EAC7DE,EAAOtC,OAAS,KAChBsC,EAAOrC,OAASpD,EAAM4E,KAAKC,OAAOzE,EAASO,GAAQ6E,CAAK,EAAIA,EAC5DC,EAAOxC,SAAW,KAClBwC,EAAOvC,SAAWjD,EAAQ2E,KAAKC,OAAO1E,EAAQO,GAAQ6E,CAAK,EAAIA,EAC/DE,EAAOpC,UAAY,KACnBoC,EAAOnC,UAAYpD,EAAS0E,KAAKC,OAAOzE,EAASO,GAAQ6E,CAAK,EAAIA,EAC9D5E,IACF6E,EAAO1C,QAAU,EAAE9C,EAAQW,GAC3B6E,EAAOxC,SAAW,EAAEnD,EAAOc,IAEzBC,IACF4E,EAAOtC,OAAS,EAAEjD,EAASW,GAC3B4E,EAAOpC,UAAY,EAAErD,EAAMa,IAEzBd,KAAKnC,iBAAmBgD,GAAQC,IACJ,UAA1B,OAAO4E,EAAO1C,UAChB0C,EAAO1C,QAAU6B,KAAKc,IAAID,EAAO1C,QAAS,EAAE9C,EAAQW,EAAK,GAE9B,UAAzB,OAAO6E,EAAOtC,SAChBsC,EAAOtC,OAASyB,KAAKc,IAAID,EAAOtC,OAAQ,EAAEtC,EAAOX,EAAO,GAE3B,UAA3B,OAAOuF,EAAOxC,WAChBwC,EAAOxC,SAAW2B,KAAKc,IAAID,EAAOxC,SAAU,CAACnD,EAAOc,CAAI,GAE1B,UAA5B,OAAO6E,EAAOpC,YAChBoC,EAAOpC,UAAYuB,KAAKc,IAAID,EAAOpC,UAAW,CAACrD,EAAMa,CAAI,KAIxD4E,CACT,EACA5J,KAAM,SAAckI,GACdhE,KAAKiB,SACPjB,KAAKkF,aAAalB,CAAC,EACVhE,KAAKmB,YACdnB,KAAK6F,WAAW7B,CAAC,CAErB,EACA6B,WAAY,SAAoB7B,GAC9B,IAAI5E,EAAOY,KAAKZ,KACZE,EAAOU,KAAKV,KACZyD,EAAS/C,KAAK+C,OACdH,EAAqB5C,KAAK4C,mBAC1BkD,EAAY1G,GAAiB,MAATA,EAAewD,EAAmBC,QAAUmB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARU,MAAmB,EAC5GqB,EAAY3G,GAAiB,MAATA,EAAewD,EAAmBE,QAAUkB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARW,MAAmB,EAC5G9C,GAAK,EAAInG,MAAMsK,YAAY1G,EAAMwG,EAAWC,EAAW/F,KAAKR,KAAK,EACnEyG,EAASpE,EAAG,GACZqE,EAASrE,EAAG,GACV9B,GAAO,EAAIrE,MAAMyK,kBAAkBvD,EAAmB7C,KAAOkG,EAAQlD,EAAOC,QAASD,EAAOE,OAAO,EACnGhD,GAAM,EAAIvE,MAAMyK,kBAAkBvD,EAAmB3C,IAAMiG,EAAQnD,EAAOK,OAAQL,EAAOM,MAAM,EACpE,CAAA,IAA3BrD,KAAKL,OAAOI,EAAME,CAAG,IAGrBC,GAAQ,EAAIxE,MAAMyK,kBAAkBvD,EAAmB1C,MAAQ+F,EAAQlD,EAAOG,SAAUH,EAAOI,QAAQ,EACvGhD,GAAS,EAAIzE,MAAMyK,kBAAkBvD,EAAmBzC,OAAS+F,EAAQnD,EAAOO,UAAWP,EAAOQ,SAAS,EAC/GvD,KAAKD,KAAOA,EACZC,KAAKC,IAAMA,EACXD,KAAKE,MAAQA,EACbF,KAAKG,OAASA,EACdoB,QAAQ6E,IAAI,gBAAiBpG,KAAKD,IAAI,EACtCC,KAAKiC,MAAM,WAAYjC,KAAKD,KAAMC,KAAKC,GAAG,EAC1CD,KAAKkB,SAAW,CAAA,EAClB,EACAmF,iBAAkB,SAA0BpI,GAE1C,IAAI4D,GAAK,EAAInG,MAAMsK,YAAYhG,KAAKV,KAAMrB,EAAK+B,KAAKC,IAAK,CAAC,EACxDgG,EAASpE,EAAG,GAEV9B,GADE8B,EAAG,IACE,EAAInG,MAAMyK,kBAAkBF,EAAQjG,KAAK+C,OAAOC,QAAShD,KAAK+C,OAAOE,OAAO,GACvFjD,KAAKD,KAAOA,EACZC,KAAKE,MAAQF,KAAKS,YAAcT,KAAKI,MAAQL,CAC/C,EACAuG,eAAgB,SAAwBrI,GAElC4D,GAAK,EAAInG,MAAMsK,YAAYhG,KAAKV,KAAMU,KAAKD,KAAM9B,EAAK,CAAC,EACrD4D,EAAG,GACPqE,EAASrE,EAAG,GACV5B,GAAM,EAAIvE,MAAMyK,kBAAkBD,EAAQlG,KAAK+C,OAAOK,OAAQpD,KAAK+C,OAAOM,MAAM,EACpFrD,KAAKC,IAAMA,EACXD,KAAKG,OAASH,KAAKU,aAAeV,KAAKK,OAASJ,CAClD,EACAiF,aAAc,SAAsBlB,GAClC,IAAIjE,EAAOC,KAAKD,KACZE,EAAMD,KAAKC,IACXC,EAAQF,KAAKE,MACbC,EAASH,KAAKG,OACdyC,EAAqB5C,KAAK4C,mBAE1BpC,GADkBR,KAAKnC,gBACRmC,KAAKQ,cACpBsF,EAAYlD,EAAmBC,QAAUmB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARU,MAClEqB,EAAYnD,EAAmBE,QAAUkB,EAAES,QAAUT,EAAES,QAAQ,GAAWT,GAARW,MAOlE9C,GANA,CAAC7B,KAAKM,cAAgBwF,IACxB9F,KAAKM,aAAe,CAAA,GAElB,CAACN,KAAKO,eAAiBwF,IACzB/F,KAAKO,cAAgB,CAAA,IAEd,EAAI7E,MAAMsK,YAAYhG,KAAKV,KAAMwG,EAAWC,EAAW/F,KAAKR,KAAK,GACxEyG,EAASpE,EAAG,GACZqE,EAASrE,EAAG,GAuBVzB,GAtBAJ,KAAKe,OAAO1B,SAAS,GAAG,GAC1Bc,GAAS,EAAIzE,MAAMyK,kBAAkBvD,EAAmBzC,OAAS+F,EAAQlG,KAAK+C,OAAOO,UAAWtD,KAAK+C,OAAOQ,SAAS,EACjHvD,KAAKnC,iBAAmBmC,KAAKuG,cAC/BrG,EAAQF,KAAKE,OAASF,KAAKG,OAASA,GAAUK,IAEvCR,KAAKe,OAAO1B,SAAS,GAAG,IACjCY,GAAM,EAAIvE,MAAMyK,kBAAkBvD,EAAmB3C,IAAMiG,EAAQlG,KAAK+C,OAAOK,OAAQpD,KAAK+C,OAAOM,MAAM,EACrGrD,KAAKnC,iBAAmBmC,KAAKuG,cAC/BxG,EAAOC,KAAKD,MAAQC,KAAKC,IAAMA,GAAOO,IAGtCR,KAAKe,OAAO1B,SAAS,GAAG,GAC1Ba,GAAQ,EAAIxE,MAAMyK,kBAAkBvD,EAAmB1C,MAAQ+F,EAAQjG,KAAK+C,OAAOG,SAAUlD,KAAK+C,OAAOI,QAAQ,EAC7GnD,KAAKnC,iBAAmBmC,KAAKwG,cAC/BrG,EAASH,KAAKG,QAAUH,KAAKE,MAAQA,GAASM,IAEvCR,KAAKe,OAAO1B,SAAS,GAAG,IACjCU,GAAO,EAAIrE,MAAMyK,kBAAkBvD,EAAmB7C,KAAOkG,EAAQjG,KAAK+C,OAAOC,QAAShD,KAAK+C,OAAOE,OAAO,EACzGjD,KAAKnC,iBAAmBmC,KAAKwG,cAC/BvG,EAAMD,KAAKC,KAAOD,KAAKD,KAAOA,GAAQS,KAG9B,EAAI9E,MAAM+K,cAAczG,KAAKS,YAAaV,EAAMG,CAAK,GAC7DG,GAAS,EAAI3E,MAAMgL,eAAe1G,KAAKU,aAAcT,EAAKE,CAAM,EACP,CAAA,IAAzDH,KAAKH,SAASG,KAAKe,OAAQhB,EAAME,EAAKG,EAAOC,CAAM,IAGvDL,KAAKD,KAAOA,EACZC,KAAKC,IAAMA,EACXD,KAAKE,MAAQA,EACbF,KAAKG,OAASA,EACdH,KAAKI,MAAQA,EACbJ,KAAKK,OAASA,EACdL,KAAKiC,MAAM,WAAYjC,KAAKD,KAAMC,KAAKC,IAAKD,KAAKI,MAAOJ,KAAKK,MAAM,EACnEL,KAAKiB,SAAW,CAAA,EAClB,EACA0F,YAAa,SAAqB1I,GAEhC,IAAI4D,GAAK,EAAInG,MAAMsK,YAAYhG,KAAKV,KAAMrB,EAAK,EAAG,CAAC,EACjD2I,EAAW/E,EAAG,GAEZ3B,GADE2B,EAAG,IACG,EAAInG,MAAMyK,kBAAkBnG,KAAKS,YAAcmG,EAAW5G,KAAKD,KAAMC,KAAK+C,OAAOG,SAAUlD,KAAK+C,OAAOI,QAAQ,GACvHhD,EAASH,KAAKG,OAIdC,GAHAJ,KAAKnC,kBACPsC,EAASH,KAAKG,QAAUH,KAAKE,MAAQA,GAASF,KAAKQ,eAEzC,EAAI9E,MAAM+K,cAAczG,KAAKS,YAAaT,KAAKD,KAAMG,CAAK,GAClEG,GAAS,EAAI3E,MAAMgL,eAAe1G,KAAKU,aAAcV,KAAKC,IAAKE,CAAM,EACzEH,KAAKE,MAAQA,EACbF,KAAKG,OAASA,EACdH,KAAKI,MAAQA,EACbJ,KAAKK,OAASA,CAChB,EACAwG,aAAc,SAAsB5I,GAElC,IAAI4D,GAAK,EAAInG,MAAMsK,YAAYhG,KAAKV,KAAM,EAAGrB,EAAK,CAAC,EAEjD6I,GADIjF,EAAG,GACKA,EAAG,IACb1B,GAAS,EAAIzE,MAAMyK,kBAAkBnG,KAAKU,aAAeoG,EAAY9G,KAAKC,IAAKD,KAAK+C,OAAOO,UAAWtD,KAAK+C,OAAOQ,SAAS,EAC3HrD,EAAQF,KAAKE,MAIbE,GAHAJ,KAAKnC,kBACPqC,EAAQF,KAAKE,OAASF,KAAKG,OAASA,GAAUH,KAAKQ,eAEzC,EAAI9E,MAAM+K,cAAczG,KAAKS,YAAaT,KAAKD,KAAMG,CAAK,GAClEG,GAAS,EAAI3E,MAAMgL,eAAe1G,KAAKU,aAAcV,KAAKC,IAAKE,CAAM,EACzEH,KAAKE,MAAQA,EACbF,KAAKG,OAASA,EACdH,KAAKI,MAAQA,EACbJ,KAAKK,OAASA,CAChB,EACAqC,SAAU,SAAkBsB,GAC1BhE,KAAKe,OAAS,KACdf,KAAKyB,yBAAyB,EAC9BzB,KAAKmB,WAAa,CAAA,EAClBnB,KAAKoB,aAAe,CAAA,EAChBpB,KAAKiB,WACPjB,KAAKiB,SAAW,CAAA,EAChBjB,KAAKiC,MAAM,aAAcjC,KAAKD,KAAMC,KAAKC,IAAKD,KAAKI,MAAOJ,KAAKK,MAAM,GAEnEL,KAAKkB,WACPlB,KAAKkB,SAAW,CAAA,EAChBlB,KAAKiC,MAAM,WAAYjC,KAAKD,KAAMC,KAAKC,GAAG,IAE5C,EAAIxE,MAAMgH,aAAaN,SAASC,gBAAiB7F,UAAUT,KAAMkE,KAAKkF,YAAY,CACpF,CACF,EACA6B,SAAU,CACRrD,MAAO,WACL,OAAOvI,QAAQ6L,SAAS,CACtB5G,MAAOJ,KAAKiH,cACZ5G,OAAQL,KAAKkH,eACb7F,OAAQrB,KAAKqB,MACf,EAAGrB,KAAKkB,UAAYlB,KAAK1C,kBAAoBrB,eAAiBK,cAAc,CAC9E,EACA6K,cAAe,WACb,OAAKnH,KAAKpC,UACHoC,KAAKtB,QADgB,EAE9B,EACAuI,cAAe,WACb,MAAe,SAAXjH,KAAKlC,GACFkC,KAAKM,aAILN,KAAKI,MAAQ,KAHT,MAIb,EACA8G,eAAgB,WACd,MAAe,SAAXlH,KAAK9B,GACF8B,KAAKO,cAILP,KAAKK,OAAS,KAHV,MAIb,EACAmG,YAAa,WACX,OAAOjJ,QAAQyC,KAAKe,MAAM,IAAMf,KAAKe,OAAO1B,SAAS,GAAG,GAAKW,KAAKe,OAAO1B,SAAS,GAAG,EACvF,EACAkH,YAAa,WACX,OAAOhJ,QAAQyC,KAAKe,MAAM,IAAMf,KAAKe,OAAO1B,SAAS,GAAG,GAAKW,KAAKe,OAAO1B,SAAS,GAAG,EACvF,EACA+H,eAAgB,WACd,OAAO7J,QAAQyC,KAAKe,MAAM,GAAK,CAAC,KAAM,KAAM,KAAM,MAAM1B,SAASW,KAAKe,MAAM,CAC9E,CACF,EACAsG,MAAO,CACL3J,OAAQ,SAAgBO,IACtB+B,KAAKgB,QAAU/C,GAEb+B,KAAKiC,MAAM,WAAW,EAEtBjC,KAAKiC,MAAM,aAAa,CAE5B,EACAxD,EAAG,SAAWR,IACD,GAAPA,GAAoB,SAARA,KACd+B,KAAKqB,OAASpD,EAElB,EACAM,EAAG,SAAWN,GACR+B,KAAKiB,UAAYjB,KAAKkB,WAGtBlB,KAAKT,SACPS,KAAK+C,OAAS/C,KAAK4E,eAAe,GAEpC5E,KAAKqG,iBAAiBpI,CAAG,EAC3B,EACAO,EAAG,SAAWP,GACR+B,KAAKiB,UAAYjB,KAAKkB,WAGtBlB,KAAKT,SACPS,KAAK+C,OAAS/C,KAAK4E,eAAe,GAEpC5E,KAAKsG,eAAerI,CAAG,EACzB,EACAJ,gBAAiB,SAAyBI,GAEtC+B,KAAKQ,aADHvC,EACkB+B,KAAKI,MAAQJ,KAAKK,OAElBiH,KAAAA,CAExB,EACAnJ,SAAU,SAAkBF,GAChB,EAANA,GAAWA,GAAO+B,KAAKI,QACzBJ,KAAKW,KAAO1C,EAEhB,EACAG,UAAW,SAAmBH,GAClB,EAANA,GAAWA,GAAO+B,KAAKK,SACzBL,KAAKY,KAAO3C,EAEhB,EACAI,SAAU,SAAkBJ,GAC1B+B,KAAKa,KAAO5C,CACd,EACAK,UAAW,SAAmBL,GAC5B+B,KAAKc,KAAO7C,CACd,EACAH,EAAG,SAAWG,GACR+B,KAAKiB,UAAYjB,KAAKkB,WAGtBlB,KAAKT,SACPS,KAAK+C,OAAS/C,KAAKuF,iBAAiB,GAEtCvF,KAAK2G,YAAY1I,CAAG,EACtB,EACAC,EAAG,SAAWD,GACR+B,KAAKiB,UAAYjB,KAAKkB,WAGtBlB,KAAKT,SACPS,KAAK+C,OAAS/C,KAAKuF,iBAAiB,GAEtCvF,KAAK6G,aAAa5I,CAAG,EACvB,CACF,EACAsJ,OAAQ,WACN,IAEIxF,EAAIyF,EADJC,EAAQzH,KAEZ,OAAO,EAAI/E,KAAKyM,aAAa,MAAO,CAClChE,MAAS1D,KAAK0D,MACdiE,MAAS,GAAE9F,EAAK,IAAO7B,KAAK5C,iBAAmB4C,KAAKgB,QAASa,EAAG7B,KAAK9C,mBAAqB8C,KAAKkB,SAAUW,EAAG7B,KAAK7C,mBAAqB6C,KAAKiB,SAAUY,EAAG7B,KAAKhD,oBAAsBgD,KAAKrC,UAAWkE,EAAG7B,KAAK/C,oBAAsB+C,KAAKpC,UAAWiE,GAAK7B,KAAKnD,WAC3P+K,YAAe5H,KAAKkE,iBACpB2D,aAAgB7H,KAAK+D,gBACvB,EAAG,CAAC/D,KAAKmH,cAAcW,IAAI,SAAU/G,GACnC,IAAIc,EAAIE,EACR,OAAO,EAAI9G,KAAKyM,aAAa,MAAO,CAClCK,IAAOhH,EACP4G,MAAS,CAACF,EAAMpK,gBAAiBoK,EAAMpK,gBAAkB,IAAM0D,GAC/D2C,MAAS,CACPsE,QAASP,EAAMzG,QAAU,QAAU,MACrC,EACA4G,YAAe,SAAqB5D,GAClCA,EAAEqB,gBAAgB,EAClBoC,EAAMrC,WAAWrE,EAAQiD,CAAC,CAC5B,EACA6D,aAAgB,SAAsB7D,GACpCA,EAAEqB,gBAAgB,EAClBoC,EAAMtC,gBAAgBpE,EAAQiD,CAAC,CACjC,CACF,EAAG,CAAC,OAACjC,EAAK,OAACF,EAAK4F,EAAMQ,QAAoC,KAAA,EAASpG,EAAGd,IAAqC,KAAA,EAASgB,EAAGmG,KAAKrG,CAAE,EAAE,CAClI,CAAC,EAAG,OAAC2F,EAAK,OAACzF,EAAK/B,KAAKiI,QAAoC,KAAA,EAASlG,EAAGvF,SAAqC,KAAA,EAASgL,EAAGU,KAAKnG,CAAE,EAAE,CACjI,CACF,CAAC"}