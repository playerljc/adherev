{"version":3,"file":"SearchTableResizableColumnItem.js","sources":["Extension/ColumnResizable/SearchTableResizableColumnItem.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\n/**\n * handleResize\n * @description 表头列拖动的时候\n * @param context\n * @param column\n * @param columnsWidth\n * @param x\n * @param y\n * @param width\n * @param height\n * @protected\n */\nfunction handleResize(_a, _b) {\n  var context = _a.context,\n    key = _a.key,\n    columnsWidth = _a.columnsWidth;\n  var x = _b.x,\n    y = _b.y,\n    width = _b.width,\n    height = _b.height;\n  columnsWidth.set(key, {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n  context.$forceUpdate();\n}\nexports.default = function (_a) {\n  var _b, _c, _d, _e;\n  var columnsWidth = _a.columnsWidth,\n    context = _a.context,\n    index = _a.index,\n    column = _a.column;\n  // 如果设置了列可拖动\n  var colEls = (_c = (_b = context === null || context === void 0 ? void 0 : context.$refs.tableWrapRef) === null || _b === void 0 ? void 0 : _b.querySelectorAll) === null || _c === void 0 ? void 0 : _c.call(_b, '.ant-table-body > table > colgroup > col');\n  var spanCount = 0;\n  if (context.getRowSelection()) {\n    spanCount = spanCount + 1;\n  }\n  if (context.isShowNumber()) {\n    spanCount = spanCount + 1;\n  }\n  var computedWidth = colEls && colEls.length > spanCount ? (_e = (_d = colEls === null || colEls === void 0 ? void 0 : colEls[spanCount + index]) === null || _d === void 0 ? void 0 : _d.style) === null || _e === void 0 ? void 0 : _e.width : null;\n  if (computedWidth) {\n    computedWidth = parseInt(computedWidth);\n  }\n  var columnSizeItem = columnsWidth.get(column.key);\n  var width = columnSizeItem ? columnSizeItem.width : column.width ? column.width : computedWidth;\n  return tslib_1.__assign(tslib_1.__assign({}, column), {\n    width: width,\n    // 加入onHeaderCell\n    onHeaderCell: function onHeaderCell(_column, _a) {\n      var x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height;\n      handleResize({\n        context: context,\n        key: _column.key,\n        columnsWidth: columnsWidth\n      }, {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      });\n    }\n  });\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","handleResize","_a","_b","context","key","columnsWidth","x","y","width","height","set","$forceUpdate","default","index","column","colEls","_c","$refs","tableWrapRef","querySelectorAll","call","spanCount","getRowSelection","isShowNumber","computedWidth","length","_e","_d","style","parseInt","columnSizeItem","get","__assign","onHeaderCell","_column"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EACtDA,QAAQ,iCAAiC,EACzCC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACD,IAAIC,QAAUL,QAAQ,OAAO,EAa7B,SAASM,aAAaC,EAAIC,GACxB,IAAIC,EAAUF,EAAGE,QACfC,EAAMH,EAAGG,IACTC,EAAeJ,EAAGI,aAChBC,EAAIJ,EAAGI,EACTC,EAAIL,EAAGK,EACPC,EAAQN,EAAGM,MACXC,EAASP,EAAGO,OACdJ,EAAaK,IAAIN,EAAK,CACpBE,EAAGA,EACHC,EAAGA,EACHC,MAAOA,EACPC,OAAQA,CACV,CAAC,EACDN,EAAQQ,aAAa,CACvB,CACAd,QAAQe,QAAU,SAAUX,GAC1B,IACII,EAAeJ,EAAGI,aACpBF,EAAUF,EAAGE,QACbU,EAAQZ,EAAGY,MACXC,EAASb,EAAGa,OAEVC,EAAS,OAACC,EAAK,OAACd,EAAKC,MAAAA,EAAyC,KAAA,EAASA,EAAQc,MAAMC,cAA0C,KAAA,EAAShB,EAAGiB,kBAA8C,KAAA,EAASH,EAAGI,KAAKlB,EAAI,0CAA0C,EACxPmB,EAAY,EACZlB,EAAQmB,gBAAgB,IAC1BD,GAAwB,GAEtBlB,EAAQoB,aAAa,IACvBF,GAAwB,GAGtBG,GAAAA,EADgBT,GAAUA,EAAOU,OAASJ,EAAY,OAACK,EAAK,OAACC,EAAKZ,MAAAA,EAAuC,KAAA,EAASA,EAAOM,EAAYR,IAAoC,KAAA,EAASc,EAAGC,OAAmC,KAAA,EAASF,EAAGlB,MAAQ,OAE9NqB,SAASL,CAAa,EAEpCM,EAAiBzB,EAAa0B,IAAIjB,EAAOV,GAAG,EAC5CI,EAAQsB,EAAiBA,EAAetB,MAAQM,EAAON,OAAuBgB,EAClF,OAAOzB,QAAQiC,SAASjC,QAAQiC,SAAS,GAAIlB,CAAM,EAAG,CACpDN,MAAOA,EAEPyB,aAAc,SAAsBC,EAASjC,GAC3C,IAAIK,EAAIL,EAAGK,EACTC,EAAIN,EAAGM,EACPC,EAAQP,EAAGO,MACXC,EAASR,EAAGQ,OACdT,aAAa,CACXG,QAASA,EACTC,IAAK8B,EAAQ9B,IACbC,aAAcA,CAChB,EAAG,CACDC,EAAGA,EACHC,EAAGA,EACHC,MAAOA,EACPC,OAAQA,CACV,CAAC,CACH,CACF,CAAC,CACH"}