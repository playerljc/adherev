"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),vue_1=require("vue"),vue_types_1=require("vue-types"),adherev_util_intl_1=tslib_1.__importDefault(require("@baifendian/adherev-util-intl")),SearchTable_1=require("../../../SearchTable");exports.default=(0,vue_1.defineComponent)({name:"adv-searchtable-editable-row-control",props:{rowKey:(0,vue_types_1.string)().def(""),rowIndex:(0,vue_types_1.number)(),editorRowId:(0,vue_types_1.string)().def(""),record:(0,vue_types_1.object)().def({}),renderEditorRow:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.func)()]),renderSave:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.func)()]),renderCancel:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.func)()]),onSave:(0,vue_types_1.func)(),onEditor:(0,vue_types_1.func)()},emits:["renderEditorRow","renderSave","renderCancel"],setup:function(o,e){function t(e){null!=(e=null==d?void 0:d.updateEditorCellRowData({values:e,record:o.record,rowIndex:o.rowIndex}))&&e.then(function(){return c()})}function r(){d&&(d.editorRowId=o.record[o.rowKey])}function l(){var e;o.onEditor?null!=(e=null==(e=o.onEditor)?void 0:e.call(o,o.record[o.rowKey]))&&e.then(r):r()}var n=e.slots,d=null==(e=null==(e=(0,vue_1.inject)("getContext"))?void 0:e())?void 0:e.context,u=null==(e=(0,vue_1.inject)("getFormIns"))?void 0:e(),i=(0,vue_1.inject)("setRowFieldValue"),c=function(){d&&(d.editorRowId="",null!=i&&i(o.record,null==o?void 0:o.rowIndex))};return function(){var e;return(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-row-control")},[o.editorRowId!==o.record[o.rowKey]&&(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-row-control-edit"),onClick:l},[(null==(e=null==n?void 0:n[null==o?void 0:o.renderEditorRow])?void 0:e.call(n))||(null==(e=null==o?void 0:o.renderEditorRow)?void 0:e.call(o))||(0,_vue.createVNode)("a",null,[adherev_util_intl_1.default.tv("编辑行")])]),o.editorRowId===o.record[o.rowKey]&&(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-row-control-save-cancel")},[(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-row-control-save-cancel-item"),onClick:function(){return null==u?void 0:u.validateFields().then(function(e){var r;r=e,o.onSave?o.onSave(r).then(function(){return t(r)}):t(r)})}},[(null==(e=null==n?void 0:n[null==o?void 0:o.renderSave])?void 0:e.call(n))||(null==(e=null==o?void 0:o.renderSave)?void 0:e.call(o))||(0,_vue.createVNode)("a",null,[adherev_util_intl_1.default.tv("保存")])]),(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-row-control-save-cancel-item"),onClick:c},[(null==(e=null==n?void 0:n[null==o?void 0:o.renderCancel])?void 0:e.call(n))||(null==(e=null==o?void 0:o.renderCancel)?void 0:e.call(o))||(0,_vue.createVNode)("a",null,[adherev_util_intl_1.default.tv("取消")])])])])}}});
//# sourceMappingURL=index.js.map
