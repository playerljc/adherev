{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar icons_vue_1 = require(\"@ant-design/icons-vue\");\nvar SearchTable_1 = require(\"../../../SearchTable\");\n/**\n * EditableCellView\n * @description 可编辑单元格的查看状态\n */\nexports.default = (0, vue_1.defineComponent)({\n  props: {\n    rowIndex: (0, vue_types_1.number)(),\n    record: (0, vue_types_1.object)().def({}),\n    column: (0, vue_types_1.object)().def({}),\n    columns: (0, vue_types_1.array)().def([]),\n    editableConfig: (0, vue_types_1.object)()\n  },\n  emits: ['triggerChange'],\n  setup: function setup(props, _a) {\n    var _b, _c, _d;\n    var emit = _a.emit,\n      slots = _a.slots;\n    var renderToEditTriggerArgv = {\n      value: (_b = props.record) === null || _b === void 0 ? void 0 : _b[(_c = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _c === void 0 ? void 0 : _c.dataIndex],\n      record: props.record,\n      dataIndex: (_d = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _d === void 0 ? void 0 : _d.dataIndex,\n      rowIndex: props.rowIndex\n    };\n    /**\n     * onTrigger\n     */\n    var onTrigger = function onTrigger() {\n      var _a, _b, _c, _d, _e;\n      if ((_a = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _a === void 0 ? void 0 : _a.onBeforeToEdit) {\n        (_e = (_b = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _b === void 0 ? void 0 : _b.onBeforeToEdit({\n          value: props.record[(_c = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _c === void 0 ? void 0 : _c.dataIndex],\n          record: props.record,\n          dataIndex: (_d = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _d === void 0 ? void 0 : _d.dataIndex,\n          rowIndex: props.rowIndex\n        })) === null || _e === void 0 ? void 0 : _e.then(function () {\n          emit('triggerChange');\n        });\n        return;\n      }\n      emit('triggerChange');\n    };\n    /**\n     * renderTrigger\n     * @description 渲染句柄\n     */\n    var renderTrigger = function renderTrigger() {\n      return (0, _vue.createVNode)(icons_vue_1.EditOutlined, null, null);\n    };\n    return function () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n      // 不使用句柄则返回原始组件\n      if (!((_a = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _a === void 0 ? void 0 : _a.useTrigger)) {\n        return (_b = slots === null || slots === void 0 ? void 0 : slots.default) === null || _b === void 0 ? void 0 : _b.call(slots);\n      }\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view\")\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in props.column && props.column.ellipsis ? \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner-ellipsis\") : '')\n      }, [(_c = slots === null || slots === void 0 ? void 0 : slots.default) === null || _c === void 0 ? void 0 : _c.call(slots)]), (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger\")\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger-inner\"),\n        \"onClick\": onTrigger\n      }, [((_e = slots === null || slots === void 0 ? void 0 : slots[(_d = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _d === void 0 ? void 0 : _d.renderToEditTrigger]) === null || _e === void 0 ? void 0 : _e.call(slots, renderToEditTriggerArgv)) || ((_g = (_f = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _f === void 0 ? void 0 : _f.renderToEditTrigger) === null || _g === void 0 ? void 0 : _g.call(_f, renderToEditTriggerArgv)), !slots[(_h = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _h === void 0 ? void 0 : _h.renderToEditTrigger] && !((_j = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _j === void 0 ? void 0 : _j.renderToEditTrigger) && renderTrigger()])])]);\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","classnames_1","__importDefault","vue_1","vue_types_1","icons_vue_1","SearchTable_1","default","defineComponent","props","rowIndex","number","record","object","def","column","columns","array","editableConfig","emits","setup","_a","onTrigger","_e","onBeforeToEdit","_b","_c","dataIndex","_d","then","emit","slots","renderToEditTriggerArgv","_h","_j","useTrigger","createVNode","class","concat","selectorPrefix","ellipsis","call","onClick","renderToEditTrigger","_g","_f","EditOutlined"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EAKpBC,SAJJD,QAAQ,8CAA8C,EACtDE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACaL,QAAQ,OAAO,GACzBM,aAAeL,QAAQM,gBAAgBP,QAAQ,YAAY,CAAC,EAC5DQ,MAAQR,QAAQ,KAAK,EACrBS,YAAcT,QAAQ,WAAW,EACjCU,YAAcV,QAAQ,uBAAuB,EAC7CW,cAAgBX,QAAQ,sBAAsB,EAKlDI,QAAQQ,SAAU,EAAIJ,MAAMK,iBAAiB,CAC3CC,MAAO,CACLC,UAAU,EAAIN,YAAYO,QAAQ,EAClCC,QAAQ,EAAIR,YAAYS,QAAQ,EAAEC,IAAI,EAAE,EACxCC,QAAQ,EAAIX,YAAYS,QAAQ,EAAEC,IAAI,EAAE,EACxCE,SAAS,EAAIZ,YAAYa,OAAO,EAAEH,IAAI,EAAE,EACxCI,gBAAgB,EAAId,YAAYS,QAAQ,CAC1C,EACAM,MAAO,CAAC,iBACRC,MAAO,SAAeX,EAAOY,GAaX,SAAZC,IACF,IAAoBC,EAChB,OAACF,EAAKZ,MAAAA,EAAqC,KAAA,EAASA,EAAMS,iBAAqDG,EAAGG,eACpH,OAACD,EAAK,OAACE,EAAKhB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAASO,EAAGD,eAAe,CACrIxB,MAAOS,EAAMG,OAAO,OAACc,EAAKjB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAASQ,EAAGC,WACtIf,OAAQH,EAAMG,OACde,UAAW,OAACC,EAAKnB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAASU,EAAGD,UAC7HjB,SAAUD,EAAMC,QAClB,CAAC,IAAwCa,EAAGM,KAAK,WAC/CC,EAAK,eAAe,CACtB,CAAC,EAGHA,EAAK,eAAe,CACtB,CA1BA,IACIA,EAAOT,EAAGS,KACZC,EAAQV,EAAGU,MACTC,EAA0B,CAC5BhC,MAAO,OAACyB,EAAKhB,EAAMG,QAAoC,KAAA,EAASa,EAAG,OAACC,EAAKjB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAASQ,EAAGC,WACrLf,OAAQH,EAAMG,OACde,UAAW,OAACC,EAAKnB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAASU,EAAGD,UAC7HjB,SAAUD,EAAMC,QAClB,EA0BA,OAAO,WACL,IAAgCuB,EAAIC,EAEpC,OAAM,OAACb,EAAKZ,MAAAA,EAAqC,KAAA,EAASA,EAAMS,iBAAqDG,EAAGc,YAGjH,EAAIzC,KAAK0C,aAAa,MAAO,CAClCC,MAAS,GAAGC,OAAOhC,cAAciC,eAAgB,oBAAoB,CACvE,EAAG,EAAC,EAAI7C,KAAK0C,aAAa,MAAO,CAC/BC,OAAS,EAAIpC,aAAaM,SAAS,GAAG+B,OAAOhC,cAAciC,eAAgB,0BAA0B,EAAG,aAAc9B,EAAMM,QAAUN,EAAMM,OAAOyB,SAAW,GAAGF,OAAOhC,cAAciC,eAAgB,mCAAmC,EAAI,EAAE,CACjP,EAAG,CAAC,OAACb,EAAKK,MAAAA,EAAqC,KAAA,EAASA,EAAMxB,SAAqC,KAAA,EAASmB,EAAGe,KAAKV,CAAK,EAAE,GAAG,EAAIrC,KAAK0C,aAAa,MAAO,CACzJC,MAAS,GAAGC,OAAOhC,cAAciC,eAAgB,4BAA4B,CAC/E,EAAG,EAAC,EAAI7C,KAAK0C,aAAa,MAAO,CAC/BC,MAAS,GAAGC,OAAOhC,cAAciC,eAAgB,kCAAkC,EACnFG,QAAWpB,CACb,EAAG,EAAE,OAACC,EAAKQ,MAAAA,EAAqC,KAAA,EAASA,EAAM,OAACH,EAAKnB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAASU,EAAGe,sBAAkD,KAAA,EAASpB,EAAGkB,KAAKV,EAAOC,CAAuB,KAAO,OAACY,EAAK,OAACC,EAAKpC,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAAS2B,EAAGF,qBAAiD,KAAA,EAASC,EAAGH,KAAKI,EAAIb,CAAuB,GAAI,CAACD,EAAM,OAACE,EAAKxB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,gBAA4C,KAAA,EAASe,EAAGU,sBAAwB,EAAE,OAACT,EAAKzB,MAAAA,EAAqC,KAAA,EAASA,EAAMS,iBAAqDgB,EAAGS,uBAjBhvB,EAAIjD,KAAK0C,aAAa/B,YAAYyC,aAAc,KAAM,IAAI,EAiB8tB,EAAE,EAAE,EAX1xB,OAACrB,EAAKM,MAAAA,EAAqC,KAAA,EAASA,EAAMxB,SAAqC,KAAA,EAASkB,EAAGgB,KAAKV,CAAK,CAYhI,CACF,CACF,CAAC"}