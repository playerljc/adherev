"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),vue_1=require("vue"),vue_types_1=require("vue-types"),adherev_util_intl_1=tslib_1.__importDefault(require("@baifendian/adherev-util-intl")),SearchTable_1=require("../../../SearchTable");exports.default=(0,vue_1.defineComponent)({name:"adv-searchtable-editable-control",props:{rowKey:(0,vue_types_1.string)().def(""),renderEditorTable:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.func)()]),renderSave:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.func)()]),renderCancel:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.func)()]),onEditor:(0,vue_types_1.func)(),onSave:(0,vue_types_1.func)()},emits:["renderEditorTable","renderSave","renderCancel"],setup:function(l,e){function t(){return(0,_vue.createVNode)("a",null,[adherev_util_intl_1.default.tv("编辑表格")])}function n(){var e;l.onEditor?null!=(e=null==(e=l.onEditor)?void 0:e.call(l))&&e.then(i):i()}function r(){var e,l;null!=(l=null==(e=null==c?void 0:c.validateFields())?void 0:e.then)&&l.call(e,o)}function o(e){l.onSave?l.onSave(e).then(function(){return _(e)}):_(e)}function i(){d&&(d.isTableEditor=!0)}function u(){d&&(d.isTableEditor=!1),null!=v&&v()}var a=e.slots,d=null==(e=null==(e=(0,vue_1.inject)("getContext"))?void 0:e())?void 0:e.context,c=null==(e=(0,vue_1.inject)("getFormIns"))?void 0:e(),v=(0,vue_1.inject)("setFieldValuesByDataSource"),_=function(e){null!=(e=null==d?void 0:d.updateEditorData(e))&&e.then(u)};return function(){var e;return(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-table-control")},[!(null!=d&&d.isTableEditor)&&(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-table-control-edit"),onClick:n},[(null==(e=null==a?void 0:a[l.renderEditorTable])?void 0:e.call(a))||(null==(e=null==l?void 0:l.renderEditorTable)?void 0:e.call(l))||(null===t?void 0:t())]),(null==d?void 0:d.isTableEditor)&&(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-table-control-save-cancel")},[(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-table-control-save-cancel-item"),onClick:r},[(null==(e=null==a?void 0:a[null==l?void 0:l.renderSave])?void 0:e.call(a))||(null==(e=null==l?void 0:l.renderSave)?void 0:e.call(l))||(0,_vue.createVNode)("a",null,[adherev_util_intl_1.default.tv("保存")])]),(0,_vue.createVNode)("div",{class:"".concat(SearchTable_1.selectorPrefix,"-editor-table-control-save-cancel-item"),onClick:u},[(null==(e=null==a?void 0:a[null==l?void 0:l.renderCancel])?void 0:e.call(a))||(null==(e=null==l?void 0:l.renderCancel)?void 0:e.call(l))||(0,_vue.createVNode)("a",null,[adherev_util_intl_1.default.tv("取消")])])])])}}});
//# sourceMappingURL=index.js.map
