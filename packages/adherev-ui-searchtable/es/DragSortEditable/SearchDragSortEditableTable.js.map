{"version":3,"file":"SearchDragSortEditableTable.js","sources":["DragSortEditable/SearchDragSortEditableTable.js"],"sourcesContent":["import \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/esnext.set.add-all.js\";\nimport \"core-js/modules/esnext.set.delete-all.js\";\nimport \"core-js/modules/esnext.set.difference.js\";\nimport \"core-js/modules/esnext.set.every.js\";\nimport \"core-js/modules/esnext.set.filter.js\";\nimport \"core-js/modules/esnext.set.find.js\";\nimport \"core-js/modules/esnext.set.intersection.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.js\";\nimport \"core-js/modules/esnext.set.join.js\";\nimport \"core-js/modules/esnext.set.map.js\";\nimport \"core-js/modules/esnext.set.reduce.js\";\nimport \"core-js/modules/esnext.set.some.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.js\";\nimport \"core-js/modules/esnext.set.union.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { __spreadArray } from \"tslib\";\nimport Util from '@baifendian/adherev-util';\nimport SearchRowDragSortTable from '../DragSort/RowDragSort/SearchRowDragSortTable';\nimport SearchEditableTable from '../Editable/SearchEditableTable';\nvar extend = Util._util.extend;\n/**\n * SearchDragSortEditableTable\n * @description 可拖拽和编辑的表格\n * @param serviceName\n */\nexport default (function (serviceName) {\n  return extend({\n    className: 'SearchDragSortEditableTable',\n    mixins: [SearchEditableTable(serviceName), SearchRowDragSortTable(serviceName)],\n    data: function data() {\n      var _this = this;\n      return {\n        $rowConfigReducers: [function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.rowDragSortReducer.apply(_this, params);\n        }, function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.rowEditableReducer.apply(_this, params);\n        }],\n        $cellConfigReducers: [function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellDragSortReducer.apply(_this, params);\n        }, function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellEditableReducer.apply(_this, params);\n        }]\n      };\n    },\n    methods: {\n      onTableRowComponentReducers: function onTableRowComponentReducers(columns) {\n        var set = Array.from(new Set(__spreadArray(__spreadArray([], this.$data.$tableRowComponentReducers, true), ['useRowDragSortRow'], false)));\n        var existsEditable = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditable) {\n          return __spreadArray(__spreadArray([], Array.from(set), true), ['useEditableTableRow'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onTableCellComponentReducers\n       * @param columns\n       */\n      onTableCellComponentReducers: function onTableCellComponentReducers(columns) {\n        var set = new Set(__spreadArray(__spreadArray([], this.$data.$tableCellComponentReducers, true), ['useRowDragSortCell'], false));\n        var existsEditor = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditor) {\n          return __spreadArray(__spreadArray([], Array.from(set), true), ['useEditableTableCell'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onDragSortBody\n       * @description\n       */\n      onDragSortBody: function onDragSortBody() {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.isTableEditor;\n          }\n        };\n      },\n      /**\n       * onDragSortRow\n       * @param params\n       */\n      onDragSortRow: function onDragSortRow(params) {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.isTableEditor;\n          }\n        };\n      }\n    }\n  });\n});"],"names":["__spreadArray","Util","SearchRowDragSortTable","SearchEditableTable","extend","_util","serviceName","className","mixins","data","_this","this","$rowConfigReducers","params","_i","arguments","length","rowDragSortReducer","apply","rowEditableReducer","$cellConfigReducers","cellDragSortReducer","cellEditableReducer","methods","onTableRowComponentReducers","columns","set","Array","from","Set","$data","$tableRowComponentReducers","some","column","_a","$editable","editable","onTableCellComponentReducers","$tableCellComponentReducers","onDragSortBody","canDrag","isTableEditor","onDragSortRow"],"mappings":"MAAO,yCACA,8CACA,6CACA,+CACA,kCACA,8CACA,iDACA,iDACA,4CACA,6CACA,2CACA,mDACA,uDACA,mDACA,qDACA,2CACA,0CACA,6CACA,2CACA,2DACA,4CACA,yDACEA,aAA4B,KAAP,eACvBC,SAAU,kCACVC,2BAA4B,wDAC5BC,wBAAyB,kCAChC,IAAIC,OAASH,KAAKI,MAAMD,sBAMT,SAAWE,GACxB,OAAOF,OAAO,CACZG,UAAW,8BACXC,OAAQ,CAACL,oBAAoBG,CAAW,EAAGJ,uBAAuBI,CAAW,GAC7EG,KAAM,WACJ,IAAIC,EAAQC,KACZ,MAAO,CACLC,mBAAoB,CAAC,WAEnB,IADA,IAAIC,EAAS,GACJC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,CAAE,GACxCD,EAAOC,GAAMC,UAAUD,GAEzB,OAAOJ,EAAMO,mBAAmBC,MAAMR,EAAOG,CAAM,CACrD,EAAG,WAED,IADA,IAAIA,EAAS,GACJC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,CAAE,GACxCD,EAAOC,GAAMC,UAAUD,GAEzB,OAAOJ,EAAMS,mBAAmBD,MAAMR,EAAOG,CAAM,CACrD,GACAO,oBAAqB,CAAC,WAEpB,IADA,IAAIP,EAAS,GACJC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,CAAE,GACxCD,EAAOC,GAAMC,UAAUD,GAEzB,OAAOJ,EAAMW,oBAAoBH,MAAMR,EAAOG,CAAM,CACtD,EAAG,WAED,IADA,IAAIA,EAAS,GACJC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,CAAE,GACxCD,EAAOC,GAAMC,UAAUD,GAEzB,OAAOJ,EAAMY,oBAAoBJ,MAAMR,EAAOG,CAAM,CACtD,EACF,CACF,EACAU,QAAS,CACPC,4BAA6B,SAAqCC,GAChE,IAAIC,EAAMC,MAAMC,KAAK,IAAIC,IAAI7B,cAAcA,cAAc,GAAIW,KAAKmB,MAAMC,2BAA4B,CAAA,CAAI,EAAG,CAAC,qBAAsB,CAAA,CAAK,CAAC,CAAC,EAKzI,OAJqBN,EAAQO,KAAK,SAAUC,GAE1C,MAAO,cAAeA,IAAW,OAACC,EAAKD,EAAOE,WAAuC,KAAA,EAASD,EAAGE,SACnG,CAAC,EAEQpC,cAAcA,cAAc,GAAI2B,MAAMC,KAAKF,CAAG,EAAG,CAAA,CAAI,EAAG,CAAC,uBAAwB,CAAA,CAAK,EAExFC,MAAMC,KAAKF,CAAG,CACvB,EAKAW,6BAA8B,SAAsCZ,GAClE,IAAIC,EAAM,IAAIG,IAAI7B,cAAcA,cAAc,GAAIW,KAAKmB,MAAMQ,4BAA6B,CAAA,CAAI,EAAG,CAAC,sBAAuB,CAAA,CAAK,CAAC,EAK/H,OAJmBb,EAAQO,KAAK,SAAUC,GAExC,MAAO,cAAeA,IAAW,OAACC,EAAKD,EAAOE,WAAuC,KAAA,EAASD,EAAGE,SACnG,CAAC,EAEQpC,cAAcA,cAAc,GAAI2B,MAAMC,KAAKF,CAAG,EAAG,CAAA,CAAI,EAAG,CAAC,wBAAyB,CAAA,CAAK,EAEzFC,MAAMC,KAAKF,CAAG,CACvB,EAKAa,eAAgB,WACd,IAAI7B,EAAQC,KACZ,MAAO,CACL6B,QAAS,WACP,MAAO,CAAC9B,EAAM+B,aAChB,CACF,CACF,EAKAC,cAAe,SAAuB7B,GACpC,IAAIH,EAAQC,KACZ,MAAO,CACL6B,QAAS,WACP,MAAO,CAAC9B,EAAM+B,aAChB,CACF,CACF,CACF,CACF,CAAC,CACF"}