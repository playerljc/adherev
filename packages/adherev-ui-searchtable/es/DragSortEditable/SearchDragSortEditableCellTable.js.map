{"version":3,"file":"SearchDragSortEditableCellTable.js","sources":["DragSortEditable/SearchDragSortEditableCellTable.js"],"sourcesContent":["import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.set.add-all.js\";\nimport \"core-js/modules/esnext.set.delete-all.js\";\nimport \"core-js/modules/esnext.set.difference.js\";\nimport \"core-js/modules/esnext.set.every.js\";\nimport \"core-js/modules/esnext.set.filter.js\";\nimport \"core-js/modules/esnext.set.find.js\";\nimport \"core-js/modules/esnext.set.intersection.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.js\";\nimport \"core-js/modules/esnext.set.join.js\";\nimport \"core-js/modules/esnext.set.map.js\";\nimport \"core-js/modules/esnext.set.reduce.js\";\nimport \"core-js/modules/esnext.set.some.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.js\";\nimport \"core-js/modules/esnext.set.union.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport { __spreadArray } from \"tslib\";\nimport Util from '@baifendian/adherev-util';\nimport SearchRowDragSortTable from '../DragSort/RowDragSort/SearchRowDragSortTable';\nimport SearchEditableCellTable from '../Editable/SearchEditableCellTable';\nvar extend = Util._util.extend;\n/**\n * SearchDragSortEditableCellTable\n * @description 可拖拽和编辑单元格的表格\n * @param serviceName\n */\nvar SearchDragSortEditableCellTable = function SearchDragSortEditableCellTable(serviceName) {\n  return extend({\n    className: 'SearchDragSortEditableCellTable',\n    mixins: [SearchEditableCellTable(serviceName), SearchRowDragSortTable(serviceName)],\n    data: function data() {\n      var _this = this;\n      return {\n        $cellConfigReducers: [function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellDragSortReducer.apply(_this, params);\n        }, function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return _this.cellEditableReducer.apply(_this, params);\n        }]\n      };\n    },\n    methods: {\n      /**\n       * fetchData\n       */\n      fetchData: function fetchData() {\n        return this.$fetchDataSearchEditableCellTable();\n      },\n      /**\n       * renderSearchTable\n       */\n      renderSearchTable: function renderSearchTable() {\n        return this.$renderSearchTableSearchEditableCellTable();\n      },\n      /**\n       * onTableRowComponentReducers\n       * @param columns\n       */\n      onTableRowComponentReducers: function onTableRowComponentReducers(columns) {\n        var set = new Set(__spreadArray(__spreadArray([], this.$data.$tableRowComponentReducers, true), ['useRowDragSortRow'], false));\n        var existsEditable = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditable) {\n          return __spreadArray(__spreadArray([], Array.from(set), true), ['useEditableRow'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onTableCellComponentReducers\n       * @param columns\n       */\n      onTableCellComponentReducers: function onTableCellComponentReducers(columns) {\n        var set = new Set(__spreadArray(__spreadArray([], this.$data.$tableCellComponentReducers, true), ['useRowDragSortCell'], false));\n        var existsEditor = columns.some(function (column) {\n          var _a;\n          return '$editable' in column && ((_a = column.$editable) === null || _a === void 0 ? void 0 : _a.editable);\n        });\n        if (existsEditor) {\n          return __spreadArray(__spreadArray([], Array.from(set), true), ['useEditableCell'], false);\n        }\n        return Array.from(set);\n      },\n      /**\n       * onDragSortBody\n       * @description\n       */\n      onDragSortBody: function onDragSortBody() {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.activeValue;\n          }\n        };\n      },\n      /**\n       * onDragSortRow\n       * @param params\n       */\n      onDragSortRow: function onDragSortRow(params) {\n        var _this = this;\n        return {\n          canDrag: function canDrag() {\n            return !_this.activeValue;\n          }\n        };\n      }\n    }\n  });\n};\nexport default SearchDragSortEditableCellTable;"],"names":["__spreadArray","Util","SearchRowDragSortTable","SearchEditableCellTable","extend","_util","SearchDragSortEditableCellTable","serviceName","className","mixins","data","_this","this","$cellConfigReducers","params","_i","arguments","length","cellDragSortReducer","apply","cellEditableReducer","methods","fetchData","$fetchDataSearchEditableCellTable","renderSearchTable","$renderSearchTableSearchEditableCellTable","onTableRowComponentReducers","columns","set","Set","$data","$tableRowComponentReducers","some","column","_a","$editable","editable","Array","from","onTableCellComponentReducers","$tableCellComponentReducers","onDragSortBody","canDrag","activeValue","onDragSortRow"],"mappings":"MAAO,6CACA,+CACA,kCACA,8CACA,8CACA,iDACA,iDACA,4CACA,6CACA,2CACA,mDACA,uDACA,mDACA,qDACA,2CACA,0CACA,6CACA,2CACA,2DACA,4CACA,wDACA,0CACEA,aAA4B,KAAP,eACvBC,SAAU,kCACVC,2BAA4B,wDAC5BC,4BAA6B,sCACpC,IAAIC,OAASH,KAAKI,MAAMD,OAMpBE,gCAAkC,SAAyCC,GAC7E,OAAOH,OAAO,CACZI,UAAW,kCACXC,OAAQ,CAACN,wBAAwBI,CAAW,EAAGL,uBAAuBK,CAAW,GACjFG,KAAM,WACJ,IAAIC,EAAQC,KACZ,MAAO,CACLC,oBAAqB,CAAC,WAEpB,IADA,IAAIC,EAAS,GACJC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,CAAE,GACxCD,EAAOC,GAAMC,UAAUD,GAEzB,OAAOJ,EAAMO,oBAAoBC,MAAMR,EAAOG,CAAM,CACtD,EAAG,WAED,IADA,IAAIA,EAAS,GACJC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,CAAE,GACxCD,EAAOC,GAAMC,UAAUD,GAEzB,OAAOJ,EAAMS,oBAAoBD,MAAMR,EAAOG,CAAM,CACtD,EACF,CACF,EACAO,QAAS,CAIPC,UAAW,WACT,OAAOV,KAAKW,kCAAkC,CAChD,EAIAC,kBAAmB,WACjB,OAAOZ,KAAKa,0CAA0C,CACxD,EAKAC,4BAA6B,SAAqCC,GAChE,IAAIC,EAAM,IAAIC,IAAI7B,cAAcA,cAAc,GAAIY,KAAKkB,MAAMC,2BAA4B,CAAA,CAAI,EAAG,CAAC,qBAAsB,CAAA,CAAK,CAAC,EAK7H,OAJqBJ,EAAQK,KAAK,SAAUC,GAE1C,MAAO,cAAeA,IAAW,OAACC,EAAKD,EAAOE,WAAuC,KAAA,EAASD,EAAGE,SACnG,CAAC,EAEQpC,cAAcA,cAAc,GAAIqC,MAAMC,KAAKV,CAAG,EAAG,CAAA,CAAI,EAAG,CAAC,kBAAmB,CAAA,CAAK,EAEnFS,MAAMC,KAAKV,CAAG,CACvB,EAKAW,6BAA8B,SAAsCZ,GAClE,IAAIC,EAAM,IAAIC,IAAI7B,cAAcA,cAAc,GAAIY,KAAKkB,MAAMU,4BAA6B,CAAA,CAAI,EAAG,CAAC,sBAAuB,CAAA,CAAK,CAAC,EAK/H,OAJmBb,EAAQK,KAAK,SAAUC,GAExC,MAAO,cAAeA,IAAW,OAACC,EAAKD,EAAOE,WAAuC,KAAA,EAASD,EAAGE,SACnG,CAAC,EAEQpC,cAAcA,cAAc,GAAIqC,MAAMC,KAAKV,CAAG,EAAG,CAAA,CAAI,EAAG,CAAC,mBAAoB,CAAA,CAAK,EAEpFS,MAAMC,KAAKV,CAAG,CACvB,EAKAa,eAAgB,WACd,IAAI9B,EAAQC,KACZ,MAAO,CACL8B,QAAS,WACP,MAAO,CAAC/B,EAAMgC,WAChB,CACF,CACF,EAKAC,cAAe,SAAuB9B,GACpC,IAAIH,EAAQC,KACZ,MAAO,CACL8B,QAAS,WACP,MAAO,CAAC/B,EAAMgC,WAChB,CACF,CACF,CACF,CACF,CAAC,CACH,iBACerC"}