{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["import _Checkbox from \"ant-design-vue/es/checkbox\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport Vue from 'vue';\nimport Draggable from 'vuedraggable';\nimport Intl from '@baifendian/adherev-util-intl';\nimport { selectorPrefix } from '../../SearchTable';\n/**\n * Setting\n */\nvar Setting = Vue.extend({\n  props: {\n    columns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  // @ts-ignore\n  emits: ['showColumns', 'reset', 'sortEnd', 'displayColumn'],\n  computed: {\n    showColumns: function showColumns() {\n      return this.columns.every(function (column) {\n        return column.display;\n      });\n    }\n  },\n  methods: {\n    onShowColumns: function onShowColumns(e) {\n      this.$emit('showColumns', e.target.checked);\n    },\n    onReset: function onReset() {\n      this.$emit('reset');\n    },\n    onEnd: function onEnd() {\n      var map = new Map();\n      this.columns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n      this.$emit('sortEnd', map);\n    },\n    onChange: function onChange(column, e) {\n      this.$emit('displayColumn', {\n        column: column,\n        checked: e.target.checked\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    return h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-column-setting\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-column-setting-header\")\n    }, [h(\"div\", [h(_Checkbox, {\n      \"attrs\": {\n        \"checked\": this.showColumns\n      },\n      \"on\": {\n        \"change\": this.onShowColumns\n      }\n    }, [Intl.tv('列设置')])]), h(\"div\", [h(\"a\", {\n      \"on\": {\n        \"click\": this.onReset\n      }\n    }, [Intl.tv('重置')])])]), h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-column-setting-body\")\n    }, [h(Draggable, {\n      \"attrs\": {\n        \"tag\": \"ul\",\n        \"list\": this.columns,\n        \"handle\": \".\".concat(selectorPrefix, \"-column-setting-handle\")\n      },\n      \"on\": {\n        \"end\": this.onEnd\n      }\n    }, [this.columns.map(function (column) {\n      return h(\"li\", {\n        \"key\": column.dataIndex || column.key\n      }, [h(\"img\", {\n        \"class\": \"\".concat(selectorPrefix, \"-column-setting-handle\"),\n        \"attrs\": {\n          \"src\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n          \"alt\": \"\"\n        }\n      }), h(_Checkbox, {\n        \"attrs\": {\n          \"checked\": column.display\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.onChange(column, e);\n          }\n        }\n      }, [column.title])]);\n    })])])]);\n  }\n});\nexport default Setting;"],"names":["_Checkbox","Vue","Draggable","Intl","selectorPrefix","Setting","extend","props","columns","type","Array","default","emits","computed","showColumns","this","every","column","display","methods","onShowColumns","e","$emit","target","checked","onReset","onEnd","map","Map","forEach","index","set","key","onChange","render","h","_this","class","concat","attrs","on","change","tv","click","tag","list","handle","end","dataIndex","src","alt","title"],"mappings":"OAAOA,cAAe,mCACf,+CACA,6CACA,kCACA,8CACA,iDACA,4CACA,6CACA,2CACA,+CACA,+CACA,6CACA,+CACA,iDACA,4CACA,6CACA,2CACA,6CACA,wDACA,wDACA,yCACAC,QAAS,aACTC,cAAe,sBACfC,SAAU,uCACRC,cAAyC,KAAnB,oBAI/B,IAAIC,QAAUJ,IAAIK,OAAO,CACvBC,MAAO,CACLC,QAAS,CACPC,KAAMC,MACNC,QAAS,WACP,MAAO,EACT,CACF,CACF,EAEAC,MAAO,CAAC,cAAe,QAAS,UAAW,iBAC3CC,SAAU,CACRC,YAAa,WACX,OAAOC,KAAKP,QAAQQ,MAAM,SAAUC,GAClC,OAAOA,EAAOC,OAChB,CAAC,CACH,CACF,EACAC,QAAS,CACPC,cAAe,SAAuBC,GACpCN,KAAKO,MAAM,cAAeD,EAAEE,OAAOC,OAAO,CAC5C,EACAC,QAAS,WACPV,KAAKO,MAAM,OAAO,CACpB,EACAI,MAAO,WACL,IAAIC,EAAM,IAAIC,IACdb,KAAKP,QAAQqB,QAAQ,SAAUZ,EAAQa,GACrCH,EAAII,IAAId,EAAOe,IAAKF,CAAK,CAC3B,CAAC,EACDf,KAAKO,MAAM,UAAWK,CAAG,CAC3B,EACAM,SAAU,SAAkBhB,EAAQI,GAClCN,KAAKO,MAAM,gBAAiB,CAC1BL,OAAQA,EACRO,QAASH,EAAEE,OAAOC,OACpB,CAAC,CACH,CACF,EACAU,OAAQ,SAAgBC,GACtB,IAAIC,EAAQrB,KACZ,OAAOoB,EAAE,MAAO,CACdE,MAAS,GAAGC,OAAOlC,eAAgB,iBAAiB,CACtD,EAAG,CAAC+B,EAAE,MAAO,CACXE,MAAS,GAAGC,OAAOlC,eAAgB,wBAAwB,CAC7D,EAAG,CAAC+B,EAAE,MAAO,CAACA,EAAEnC,UAAW,CACzBuC,MAAS,CACPf,QAAWT,KAAKD,WAClB,EACA0B,GAAM,CACJC,OAAU1B,KAAKK,aACjB,CACF,EAAG,CAACjB,KAAKuC,GAAG,KAAK,EAAE,EAAE,EAAGP,EAAE,MAAO,CAACA,EAAE,IAAK,CACvCK,GAAM,CACJG,MAAS5B,KAAKU,OAChB,CACF,EAAG,CAACtB,KAAKuC,GAAG,IAAI,EAAE,EAAE,EAAE,EAAGP,EAAE,MAAO,CAChCE,MAAS,GAAGC,OAAOlC,eAAgB,sBAAsB,CAC3D,EAAG,CAAC+B,EAAEjC,UAAW,CACfqC,MAAS,CACPK,IAAO,KACPC,KAAQ9B,KAAKP,QACbsC,OAAU,IAAIR,OAAOlC,eAAgB,wBAAwB,CAC/D,EACAoC,GAAM,CACJO,IAAOhC,KAAKW,KACd,CACF,EAAG,CAACX,KAAKP,QAAQmB,IAAI,SAAUV,GAC7B,OAAOkB,EAAE,KAAM,CACbH,IAAOf,EAAO+B,WAAa/B,EAAOe,GACpC,EAAG,CAACG,EAAE,MAAO,CACXE,MAAS,GAAGC,OAAOlC,eAAgB,wBAAwB,EAC3DmC,MAAS,CACPU,IAAO,iwBACPC,IAAO,EACT,CACF,CAAC,EAAGf,EAAEnC,UAAW,CACfuC,MAAS,CACPf,QAAWP,EAAOC,OACpB,EACAsB,GAAM,CACJC,OAAU,SAAgBpB,GACxBe,EAAMH,SAAShB,EAAQI,CAAC,CAC1B,CACF,CACF,EAAG,CAACJ,EAAOkC,MAAM,EAAE,CACrB,CAAC,EAAE,EAAE,EAAE,CACT,CACF,CAAC,iBACc9C"}