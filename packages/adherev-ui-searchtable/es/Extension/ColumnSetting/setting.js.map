{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["import { resolveDirective as _resolveDirective, createVNode as _createVNode, isVNode as _isVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { defineComponent } from 'vue';\nimport { Checkbox } from 'ant-design-vue';\nimport Draggable from 'vuedraggable';\nimport Intl from '@baifendian/adherev-util-intl';\nimport { selectorPrefix } from '../../searchtable';\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\n\nexport default defineComponent({\n  props: {\n    columns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  emits: ['showColumns', 'reset', 'sortEnd', 'displayColumn'],\n  computed: {\n    showColumns: function showColumns() {\n      return this.columns.every(function (column) {\n        return column.display;\n      });\n    }\n  },\n  methods: {\n    onShowColumns: function onShowColumns(e) {\n      this.$emit('showColumns', e.target.checked);\n    },\n    onReset: function onReset() {\n      this.$emit('reset');\n    },\n    onEnd: function onEnd() {\n      var map = new Map();\n      this.columns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n      this.$emit('sortEnd', map);\n    },\n    onChange: function onChange(column, e) {\n      this.$emit('displayColumn', {\n        column: column,\n        checked: e.target.checked\n      });\n    }\n  },\n  render: function render() {\n    var _slot;\n\n    var _this = this;\n\n    return (// @ts-ignore\n      _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-column-setting\")\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-column-setting-header\")\n      }, [_createVNode(\"div\", null, [_createVNode(Checkbox, {\n        \"checked\": this.showColumns,\n        \"onChange\": this.onShowColumns\n      }, _isSlot(_slot = Intl.tv('列展示')) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      })]), _createVNode(\"div\", null, [_createVNode(\"a\", {\n        \"onClick\": this.onReset\n      }, [Intl.tv('重置')])])]), _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-column-setting-body\")\n      }, [_createVNode(Draggable, {\n        \"tag\": \"ul\",\n        \"list\": this.columns,\n        \"itemKey\": function itemKey(item) {\n          return item.dataIndex || item.key;\n        },\n        \"handle\": \".\".concat(selectorPrefix, \"-column-setting-handle\"),\n        \"onEnd\": this.onEnd\n      }, {\n        item: function item(_a) {\n          var column = _a.element;\n          return _createVNode(\"li\", {\n            \"key\": column.dataIndex || column.key\n          }, [_createVNode(\"img\", {\n            \"class\": \"\".concat(selectorPrefix, \"-column-setting-handle\"),\n            \"src\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n            \"alt\": \"\"\n          }, null), _createVNode(Checkbox, {\n            \"checked\": column.display,\n            \"onChange\": function onChange(e) {\n              _this.onChange(column, e);\n            }\n          }, {\n            default: function _default() {\n              return [column.title];\n            }\n          })]);\n        }\n      })])])\n    );\n  }\n});"],"names":["_resolveDirective","_createVNode","_isVNode","defineComponent","Checkbox","Draggable","Intl","selectorPrefix","_isSlot","s","Object","prototype","toString","call","props","columns","type","Array","default","emits","computed","showColumns","this","every","column","display","methods","onShowColumns","e","$emit","target","checked","onReset","onEnd","map","Map","forEach","index","set","key","onChange","render","_slot","_this","class","concat","tv","onClick","tag","list","itemKey","item","dataIndex","handle","_a","element","src","alt","title"],"mappings":"OAA6BA,sCAAkCC,4BAAyBC,k5BAoB/EC,iCACAC,qCACFC,oCACAC,gDACEC,uCAET,SAASC,QAAQC,GACf,MAAoB,mBAANA,GAA0D,oBAAtCC,OAAOC,UAAUC,SAASC,KAAKJ,KAA6BP,SAASO,kBAG1FN,gBAAgB,CAC7BW,MAAO,CACLC,QAAS,CACPC,KAAMC,MACNC,QAAS,WACP,MAAO,MAIbC,MAAO,CAAC,cAAe,QAAS,UAAW,iBAC3CC,SAAU,CACRC,YAAa,WACX,OAAOC,KAAKP,QAAQQ,MAAM,SAAUC,GAClC,OAAOA,EAAOC,YAIpBC,QAAS,CACPC,cAAe,SAAuBC,GACpCN,KAAKO,MAAM,cAAeD,EAAEE,OAAOC,UAErCC,QAAS,WACPV,KAAKO,MAAM,UAEbI,MAAO,WACL,IAAIC,EAAM,IAAIC,IACdb,KAAKP,QAAQqB,QAAQ,SAAUZ,EAAQa,GACrCH,EAAII,IAAId,EAAOe,IAAKF,KAEtBf,KAAKO,MAAM,UAAWK,IAExBM,SAAU,SAAkBhB,EAAQI,GAClCN,KAAKO,MAAM,gBAAiB,CAC1BL,OAAQA,EACRO,QAASH,EAAEE,OAAOC,YAIxBU,OAAQ,WACN,IAAIC,EAEAC,EAAQrB,KAEZ,OACErB,aAAa,MAAO,CAClB2C,MAAS,GAAGC,OAAOtC,eAAgB,oBAClC,CAACN,aAAa,MAAO,CACtB2C,MAAS,GAAGC,OAAOtC,eAAgB,2BAClC,CAACN,aAAa,MAAO,KAAM,CAACA,aAAaG,SAAU,CACpD2B,QAAWT,KAAKD,YAChBmB,SAAYlB,KAAKK,eAChBnB,QAAQkC,EAAQpC,KAAKwC,GAAG,QAAUJ,EAAQ,CAC3CxB,QAAS,WACP,MAAO,CAACwB,QAENzC,aAAa,MAAO,KAAM,CAACA,aAAa,IAAK,CACjD8C,QAAWzB,KAAKU,SACf,CAAC1B,KAAKwC,GAAG,YAAa7C,aAAa,MAAO,CAC3C2C,MAAS,GAAGC,OAAOtC,eAAgB,yBAClC,CAACN,aAAaI,UAAW,CAC1B2C,IAAO,KACPC,KAAQ3B,KAAKP,QACbmC,QAAW,SAAiBC,GAC1B,OAAOA,EAAKC,WAAaD,EAAKZ,KAEhCc,OAAU,IAAIR,OAAOtC,eAAgB,0BACrC0B,MAASX,KAAKW,OACb,CACDkB,KAAM,SAAcG,GAClB,IAAI9B,EAAS8B,EAAGC,QAChB,OAAOtD,aAAa,KAAM,CACxBsC,IAAOf,EAAO4B,WAAa5B,EAAOe,KACjC,CAACtC,aAAa,MAAO,CACtB2C,MAAS,GAAGC,OAAOtC,eAAgB,0BACnCiD,IAAO,iwBACPC,IAAO,IACN,MAAOxD,aAAaG,SAAU,CAC/B2B,QAAWP,EAAOC,QAClBe,SAAY,SAAkBZ,GAC5Be,EAAMH,SAAShB,EAAQI,KAExB,CACDV,QAAS,WACP,MAAO,CAACM,EAAOkC"}