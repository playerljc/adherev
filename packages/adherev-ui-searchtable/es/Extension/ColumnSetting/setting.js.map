{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["import { resolveDirective as _resolveDirective, createVNode as _createVNode, isVNode as _isVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { Checkbox } from 'ant-design-vue';\nimport { defineComponent } from 'vue';\nimport Draggable from 'vuedraggable';\nimport Intl from '@baifendian/adherev-util-intl';\nimport { selectorPrefix } from '../../searchtable';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\nexport default defineComponent({\n  props: {\n    columns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  emits: ['showColumns', 'reset', 'sortEnd', 'displayColumn'],\n  computed: {\n    showColumns: function showColumns() {\n      return this.columns.every(function (column) {\n        return column.display;\n      });\n    }\n  },\n  methods: {\n    onShowColumns: function onShowColumns(e) {\n      this.$emit('showColumns', e.target.checked);\n    },\n    onReset: function onReset() {\n      this.$emit('reset');\n    },\n    onEnd: function onEnd() {\n      var map = new Map();\n      this.columns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n      this.$emit('sortEnd', map);\n    },\n    onChange: function onChange(column, e) {\n      this.$emit('displayColumn', {\n        column: column,\n        checked: e.target.checked\n      });\n    }\n  },\n  render: function render() {\n    var _slot;\n    var _this = this;\n    return _createVNode(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-column-setting\")\n    }, [_createVNode(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-column-setting-header\")\n    }, [_createVNode(\"div\", null, [_createVNode(Checkbox, {\n      \"checked\": this.showColumns,\n      \"onChange\": this.onShowColumns\n    }, _isSlot(_slot = Intl.tv('列展示')) ? _slot : {\n      default: function _default() {\n        return [_slot];\n      }\n    })]), _createVNode(\"div\", null, [_createVNode(\"a\", {\n      \"onClick\": this.onReset\n    }, [Intl.tv('重置')])])]), _createVNode(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-column-setting-body\")\n    }, [_createVNode(Draggable, {\n      \"tag\": \"ul\",\n      \"list\": this.columns,\n      \"itemKey\": function itemKey(item) {\n        return item.dataIndex || item.key;\n      },\n      \"handle\": \".\".concat(selectorPrefix, \"-column-setting-handle\"),\n      \"onEnd\": this.onEnd\n    }, {\n      item: function item(_a) {\n        var column = _a.element;\n        return _createVNode(\"li\", {\n          \"key\": column.dataIndex || column.key\n        }, [_createVNode(\"img\", {\n          \"class\": \"\".concat(selectorPrefix, \"-column-setting-handle\"),\n          \"src\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n          \"alt\": \"\"\n        }, null), _createVNode(Checkbox, {\n          \"checked\": column.display,\n          \"onChange\": function onChange(e) {\n            return _this.onChange(column, e);\n          }\n        }, {\n          default: function _default() {\n            return [column.title];\n          }\n        })]);\n      }\n    })])]);\n  }\n});"],"names":["_resolveDirective","_createVNode","_isVNode","Checkbox","defineComponent","Draggable","Intl","selectorPrefix","_isSlot","s","Object","prototype","toString","call","props","columns","type","Array","default","emits","computed","showColumns","this","every","column","display","methods","onShowColumns","e","$emit","target","checked","onReset","onEnd","map","Map","forEach","index","set","key","onChange","render","_slot","_this","class","concat","tv","onClick","tag","list","itemKey","item","dataIndex","handle","_a","element","src","alt","title"],"mappings":"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"}