{"version":3,"file":"SearchTableResizableTitle.js","sources":["Extension/ColumnResizable/SearchTableResizableTitle.js"],"sourcesContent":["import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport classNames from 'classnames';\nimport { selectorPrefix } from '../../SearchTable';\nimport { columnHeaderAlign } from '../../types';\nvar columnAlignMap = new Map([[columnHeaderAlign.center, columnHeaderAlign.center], [columnHeaderAlign.left, columnHeaderAlign.left], [columnHeaderAlign.right, columnHeaderAlign.right], ['', ''], [null, '']]);\n/**\n * findColumnByKey\n * @param columns\n * @param key\n * @return column | null\n */\nfunction findColumnByKey(columns, key) {\n  function loop(children) {\n    var res;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].key === key) {\n        res = children[i];\n        break;\n      } else {\n        if ('children' in children[i] && Array.isArray(children[i].children) && children[i].children.length) {\n          res = loop(children[i].children);\n          if (res) {\n            break;\n          }\n        }\n      }\n    }\n    return res;\n  }\n  return loop(columns);\n}\nexport default (function (columns) {\n  return function (h, props, children) {\n    var key = props.key,\n      restProps = __rest(props, [\"key\"]);\n    var col = findColumnByKey(columns, key);\n    if (!col || !col.width || !col.$resizable) {\n      return h('th', __assign(__assign({}, restProps), {\n        class: classNames(\"\".concat(selectorPrefix, \"-resize-table-th\"), columnAlignMap.get(col === null || col === void 0 ? void 0 : col.align))\n      }), children);\n    }\n    var dragProps = {\n      key: col.dataIndex || col.key,\n      class: \"\".concat(selectorPrefix, \"-table-draggable-handle\"),\n      attrs: {\n        w: 10,\n        x: 0,\n        z: 1,\n        axis: 'x',\n        draggable: true,\n        resizable: false\n      },\n      on: {\n        dragging: function dragging(x) {\n          col.onHeaderCell(col, {\n            x: x,\n            width: Math.max(11, col.width + x)\n          });\n        }\n      }\n    };\n    var drag = h('vue-draggable-resizable', __assign({}, dragProps));\n    return h('th', __assign(__assign({}, restProps), {\n      class: classNames(\"\".concat(selectorPrefix, \"-resize-table-th\"), columnAlignMap.get(col === null || col === void 0 ? void 0 : col.align))\n    }), __spreadArray(__spreadArray([], children, true), [drag], false));\n  };\n});"],"names":["__assign","__rest","__spreadArray","classNames","selectorPrefix","columnHeaderAlign","columnAlignMap","Map","center","left","right","findColumnByKey","columns","key","loop","children","res","i","length","Array","isArray","h","props","restProps","col","width","$resizable","dragProps","dataIndex","class","concat","attrs","w","x","z","axis","draggable","resizable","on","dragging","onHeaderCell","Math","max","drag","get","align"],"mappings":"MAAO,6CACA,kCACA,+CACA,8CACA,iDACA,4CACA,6CACA,2CACA,+CACA,+CACA,6CACA,+CACA,iDACA,4CACA,6CACA,2CACA,6CACA,yDACEA,SAAUC,OAAQC,aAA4B,KAAP,eACzCC,eAAgB,oBACdC,cAAyC,KAAnB,2BACtBC,iBAAsC,KAAb,cAClC,IAAIC,eAAiB,IAAIC,IAAI,CAAC,CAACF,kBAAkBG,OAAQH,kBAAkBG,QAAS,CAACH,kBAAkBI,KAAMJ,kBAAkBI,MAAO,CAACJ,kBAAkBK,MAAOL,kBAAkBK,OAAQ,CAAC,GAAI,IAAK,CAAC,KAAM,IAAI,EAO/M,SAASC,gBAAgBC,EAASC,GAkBhC,OAjBA,SAASC,EAAKC,GAEZ,IADA,IAAIC,EACKC,EAAI,EAAGA,EAAIF,EAASG,OAAQD,CAAC,GAAI,CACxC,GAAIF,EAASE,GAAGJ,MAAQA,EAAK,CAC3BG,EAAMD,EAASE,GACf,KACF,CACE,GAAI,aAAcF,EAASE,IAAME,MAAMC,QAAQL,EAASE,GAAGF,QAAQ,GAAKA,EAASE,GAAGF,SAASG,SAC3FF,EAAMF,EAAKC,EAASE,GAAGF,QAAQ,GAE7B,KAIR,CACA,OAAOC,CACT,EACYJ,CAAO,CACrB,gBACe,SAAWA,GACxB,OAAO,SAAUS,EAAGC,EAAOP,GACzB,IAAIF,EAAMS,EAAMT,IACdU,EAAYtB,OAAOqB,EAAO,CAAC,MAAM,EAC/BE,EAAMb,gBAAgBC,EAASC,CAAG,EACtC,OAAKW,GAAQA,EAAIC,OAAUD,EAAIE,YAK3BC,EAAY,CACdd,IAAKW,EAAII,WAAaJ,EAAIX,IAC1BgB,MAAO,GAAGC,OAAO1B,eAAgB,yBAAyB,EAC1D2B,MAAO,CACLC,EAAG,GACHC,EAAG,EACHC,EAAG,EACHC,KAAM,IACNC,UAAW,CAAA,EACXC,UAAW,CAAA,CACb,EACAC,GAAI,CACFC,SAAU,SAAkBN,GAC1BT,EAAIgB,aAAahB,EAAK,CACpBS,EAAGA,EACHR,MAAOgB,KAAKC,IAAI,GAAIlB,EAAIC,MAAQQ,CAAC,CACnC,CAAC,CACH,CACF,CACF,EACIU,EAAOtB,EAAE,0BAA2BrB,SAAS,GAAI2B,CAAS,CAAC,EACxDN,EAAE,KAAMrB,SAASA,SAAS,GAAIuB,CAAS,EAAG,CAC/CM,MAAO1B,WAAW,GAAG2B,OAAO1B,eAAgB,kBAAkB,EAAGE,eAAesC,IAAIpB,MAAAA,EAAiC,KAAA,EAASA,EAAIqB,KAAK,CAAC,CAC1I,CAAC,EAAG3C,cAAcA,cAAc,GAAIa,EAAU,CAAA,CAAI,EAAG,CAAC4B,GAAO,CAAA,CAAK,CAAC,GA3B1DtB,EAAE,KAAMrB,SAASA,SAAS,GAAIuB,CAAS,EAAG,CAC/CM,MAAO1B,WAAW,GAAG2B,OAAO1B,eAAgB,kBAAkB,EAAGE,eAAesC,IAAIpB,MAAAA,EAAiC,KAAA,EAASA,EAAIqB,KAAK,CAAC,CAC1I,CAAC,EAAG9B,CAAQ,CA0BhB,CACD"}