{"version":3,"file":"SearchTableResizableColumnItem.js","sources":["Extension/ColumnResizable/SearchTableResizableColumnItem.js"],"sourcesContent":["import \"core-js/modules/es.parse-int.js\";\nimport { __assign } from \"tslib\";\n/**\n * handleResize\n * @description 表头列拖动的时候\n * @param context\n * @param column\n * @param columnsWidth\n * @param x\n * @param y\n * @param width\n * @param height\n * @protected\n */\n\nfunction handleResize(_a, _b) {\n  var context = _a.context,\n      key = _a.key,\n      columnsWidth = _a.columnsWidth;\n  var x = _b.x,\n      y = _b.y,\n      width = _b.width,\n      height = _b.height;\n  columnsWidth.set(key, {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n  context.$forceUpdate();\n}\n\nexport default (function (_a) {\n  var _b, _c, _d, _e;\n\n  var columnsWidth = _a.columnsWidth,\n      context = _a.context,\n      index = _a.index,\n      column = _a.column; // 如果设置了列可拖动\n\n  var colEls = (_c = (_b = context === null || context === void 0 ? void 0 : context.$refs.tableWrapRef) === null || _b === void 0 ? void 0 : _b.querySelectorAll) === null || _c === void 0 ? void 0 : _c.call(_b, '.ant-table-body > table > colgroup > col');\n  var spanCount = 0;\n\n  if (context.getRowSelection()) {\n    spanCount = spanCount + 1;\n  }\n\n  if (context.isShowNumber()) {\n    spanCount = spanCount + 1;\n  }\n\n  var computedWidth = colEls && colEls.length > spanCount ? (_e = (_d = colEls === null || colEls === void 0 ? void 0 : colEls[spanCount + index]) === null || _d === void 0 ? void 0 : _d.style) === null || _e === void 0 ? void 0 : _e.width : null;\n\n  if (computedWidth) {\n    computedWidth = parseInt(computedWidth);\n  }\n\n  var columnSizeItem = columnsWidth.get(column.key);\n  var width = columnSizeItem ? columnSizeItem.width : column.width ? column.width : computedWidth;\n  return __assign(__assign({}, column), {\n    width: width,\n    // 加入onHeaderCell\n    onHeaderCell: function onHeaderCell(_column, _a) {\n      var x = _a.x,\n          y = _a.y,\n          width = _a.width,\n          height = _a.height;\n      handleResize({\n        context: context,\n        key: _column.key,\n        columnsWidth: columnsWidth\n      }, {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      });\n    }\n  });\n});"],"names":["__assign","handleResize","_a","_b","context","key","columnsWidth","x","y","width","height","set","$forceUpdate","index","column","colEls","_c","$refs","tableWrapRef","querySelectorAll","call","spanCount","getRowSelection","isShowNumber","computedWidth","length","_e","_d","style","parseInt","columnSizeItem","get","onHeaderCell","_column"],"mappings":"+CACSA,qBAcT,SAASC,aAAaC,EAAIC,GACxB,IAAIC,EAAUF,EAAGE,QACbC,EAAMH,EAAGG,IACTC,EAAeJ,EAAGI,aAClBC,EAAIJ,EAAGI,EACPC,EAAIL,EAAGK,EACPC,EAAQN,EAAGM,MACXC,EAASP,EAAGO,OAChBJ,EAAaK,IAAIN,EAAK,CACpBE,EAAGA,EACHC,EAAGA,EACHC,MAAOA,EACPC,OAAQA,IAEVN,EAAQQ,8BAGK,SAAWV,GACxB,IAEII,EAAeJ,EAAGI,aAClBF,EAAUF,EAAGE,QACbS,EAAQX,EAAGW,MACXC,EAASZ,EAAGY,OAEZC,EAAiK,QAAvJC,EAA6F,QAAvFb,EAAKC,MAAAA,OAAyC,EAASA,EAAQa,MAAMC,oBAAiC,IAAPf,OAAgB,EAASA,EAAGgB,wBAAqC,IAAPH,OAAgB,EAASA,EAAGI,KAAKjB,EAAI,4CAC9MkB,EAAY,EAEZjB,EAAQkB,oBACVD,GAAwB,GAGtBjB,EAAQmB,iBACVF,GAAwB,GAG1B,IAGEG,GAHEA,EAAgBT,GAAUA,EAAOU,OAASJ,EAAsJ,QAAzIK,EAA0F,QAApFC,EAAKZ,MAAAA,OAAuC,EAASA,EAAOM,EAAYR,UAA2B,IAAPc,OAAgB,EAASA,EAAGC,aAA0B,IAAPF,OAAgB,EAASA,EAAGjB,MAAQ,OAG9NoB,SAASL,GAGvBM,EAAiBxB,EAAayB,IAAIjB,EAAOT,KACzCI,EAAQqB,EAAiBA,EAAerB,MAAQK,EAAOL,OAAuBe,EAClF,OAAOxB,SAASA,SAAS,GAAIc,GAAS,CACpCL,MAAOA,EAEPuB,aAAc,SAAsBC,EAAS/B,GAC3C,IAAIK,EAAIL,EAAGK,EACPC,EAAIN,EAAGM,EACPC,EAAQP,EAAGO,MACXC,EAASR,EAAGQ,OAChBT,aAAa,CACXG,QAASA,EACTC,IAAK4B,EAAQ5B,IACbC,aAAcA,GACb,CACDC,EAAGA,EACHC,EAAGA,EACHC,MAAOA,EACPC,OAAQA"}