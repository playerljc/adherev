{"version":3,"file":"index.js","sources":["Extension/AdvancedSearchPanel/index.js"],"sourcesContent":["import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.object.define-properties.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport _ConfigProvider from \"ant-design-vue/es/config-provider\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _Button from \"ant-design-vue/es/button\";\nimport _Icon from \"ant-design-vue/es/icon\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { __rest } from \"tslib\";\nimport classNames from 'classnames';\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport FlexLayout from '@baifendian/adherev-ui-flexlayout';\nimport SlideLayout from '@baifendian/adherev-ui-slidelayout';\nimport Space from '@baifendian/adherev-ui-space';\nimport TableGridLayout from '@baifendian/adherev-ui-tablegridlayout';\nimport Teleport from '@baifendian/adherev-ui-teleport';\nimport Intl from '@baifendian/adherev-util-intl';\nvar VerticalFlexLayout = FlexLayout.VerticalFlexLayout,\n  ScrollLayout = FlexLayout.ScrollLayout;\nvar renderGridSearchFormGroup = TableGridLayout.renderGridSearchFormGroup;\nvar selectorPrefix = 'adherev-ui-searchtable-advancedsearchpanel';\nexport default {\n  name: '',\n  props: {\n    groupData: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    tableGridLayoutConfig: {\n      type: Object,\n      default: function _default() {\n        return {\n          layout: 'horizontal',\n          bordered: false\n        };\n      }\n    },\n    remainingGroupData: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    advancedSearchConfig: {\n      type: Object,\n      default: function _default() {\n        return {\n          // 显示少行 'auto' | number\n          // auto - 为自动\n          // number - 指定行数 超出行会在高级筛选中显示\n          rowCount: 'auto',\n          // 剩余的条件的显示方式 'all' | 'remaining'\n          // all - 全部显示\n          // remaining - 显示剩余\n          showStrategy: 'all',\n          // 高级搜索\n          advancedSearch: {\n            // 外围样式\n            className: '',\n            // 外围style\n            style: {},\n            // 宽度\n            width: '30%',\n            // 是否有遮罩\n            mask: true,\n            // 层级\n            zIndex: 19999,\n            // 过度时间\n            time: 300,\n            // 方向\n            direction: 'right',\n            // 默认不展开\n            collapse: false,\n            onBeforeShow: function onBeforeShow() {},\n            onBeforeClose: function onBeforeClose() {},\n            onAfterShow: function onAfterShow() {},\n            onAfterClose: function onAfterClose() {},\n            getPopupContainer: function getPopupContainer() {\n              return document.body;\n            }\n          }\n        };\n      }\n    },\n    searchFn: {\n      type: Function\n    },\n    resetFn: {\n      type: Function\n    },\n    collapseFn: {\n      type: Function\n    }\n  },\n  inject: ['configProvider'],\n  slots: ['titleLabel', 'collapse'],\n  data: function data() {\n    return {\n      collapse: this.advancedSearchConfig.advancedSearch.collapse\n    };\n  },\n  watch: {\n    'advancedSearchConfig.advancedSearch.collapse': function advancedSearchConfigAdvancedSearchCollapse(collapse) {\n      this.collapse = collapse;\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    var _a = this.advancedSearchConfig.advancedSearch,\n      getPopupContainer = _a.getPopupContainer,\n      onBeforeShow = _a.onBeforeShow,\n      onBeforeClose = _a.onBeforeClose,\n      onAfterShow = _a.onAfterShow,\n      onAfterClose = _a.onAfterClose,\n      overlayProps = __rest(_a, [\"getPopupContainer\", \"onBeforeShow\", \"onBeforeClose\", \"onAfterShow\", \"onAfterClose\"]);\n    return h(Teleport, {\n      \"attrs\": {\n        \"to\": (getPopupContainer === null || getPopupContainer === void 0 ? void 0 : getPopupContainer()) || document.body\n      }\n    }, [h(_ConfigProvider, {\n      \"props\": _objectSpread({}, this.configProvider)\n    }, [h(SlideLayout.Overlay, {\n      \"props\": _objectSpread({}, overlayProps),\n      \"on\": _objectSpread({}, {\n        'before-show': function beforeShow() {\n          return onBeforeShow();\n        },\n        'before-close': function beforeClose() {\n          return onBeforeClose();\n        },\n        'after-show': function afterShow() {\n          return onAfterShow();\n        },\n        'after-close': function afterClose() {\n          return onAfterClose();\n        }\n      }),\n      \"attrs\": {\n        \"defaultCollapse\": this.collapse\n      },\n      \"class\": classNames(selectorPrefix, overlayProps.className || '')\n    }, [h(VerticalFlexLayout, {\n      \"class\": \"\".concat(selectorPrefix, \"-inner\")\n    }, [h(\"header\", {\n      \"slot\": \"renderTop\",\n      \"class\": \"\".concat(selectorPrefix, \"-header\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-title\")\n    }, [h(ConditionalRender, {\n      \"attrs\": {\n        \"conditional\": !this.$slots.titleLabel\n      }\n    }, [h(Space.Group, {\n      \"attrs\": {\n        \"direction\": \"horizontal\",\n        \"size\": 2\n      }\n    }, [h(_Icon, {\n      \"attrs\": {\n        \"type\": \"filter\"\n      }\n    }), h(\"strong\", [Intl.tv('高级搜索')])]), h(\"div\", {\n      \"slot\": \"noMatch\"\n    }, [this.$slots.titleLabel])])]), h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-collapse\"),\n      \"on\": {\n        \"click\": function click() {\n          _this.collapse = !_this.collapse;\n        }\n      }\n    }, [h(ConditionalRender, {\n      \"attrs\": {\n        \"conditional\": !this.$slots.collapse\n      }\n    }, [h(ConditionalRender, {\n      \"attrs\": {\n        \"conditional\": this.collapse\n      }\n    }, [h(Space.Group, {\n      \"attrs\": {\n        \"direction\": \"horizontal\",\n        \"size\": 2\n      }\n    }, [h(_Icon, {\n      \"attrs\": {\n        \"type\": \"left-circle\"\n      }\n    }), h(\"strong\", [Intl.tv('收起')])]), h(\"div\", {\n      \"slot\": \"noMatch\"\n    }, [h(Space.Group, {\n      \"attrs\": {\n        \"direction\": \"horizontal\",\n        \"size\": 2\n      }\n    }, [h(_Icon, {\n      \"attrs\": {\n        \"type\": \"right-circle\"\n      }\n    }), h(\"strong\", [Intl.tv('展开')])])])]), h(\"div\", {\n      \"slot\": \"noMatch\"\n    }, [this.$slots.collapse])])])]), h(\"div\", {\n      \"slot\": \"renderMain\",\n      \"class\": \"\".concat(selectorPrefix, \"-main\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-scroll\")\n    }, [h(ScrollLayout, {\n      \"attrs\": {\n        \"scrollY\": true\n      }\n    }, [renderGridSearchFormGroup(this.$createElement, this, this.advancedSearchConfig.showStrategy === 'all' ? this.groupData : this.remainingGroupData, this.tableGridLayoutConfig)])]), h(\"footer\", {\n      \"class\": \"\".concat(selectorPrefix, \"-footer\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-item\")\n    }, [h(_Button, {\n      \"attrs\": {\n        \"type\": \"primary\",\n        \"icon\": \"search\"\n      },\n      \"on\": {\n        \"click\": function click() {\n          _this.searchFn().then(function () {\n            _this.collapse = false;\n          });\n        }\n      }\n    }, [Intl.tv('确定')])]), h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-item\")\n    }, [h(_Button, {\n      \"attrs\": {\n        \"icon\": \"reload\"\n      },\n      \"on\": {\n        \"click\": function click() {\n          _this.resetFn().then(function () {\n            _this.collapse = false;\n          });\n        }\n      }\n    }, [Intl.tv('重置')])])])])])])])]);\n  }\n};"],"names":["_ConfigProvider","_defineProperty","_Button","_Icon","ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","__rest","classNames","ConditionalRender","FlexLayout","SlideLayout","Space","TableGridLayout","Teleport","Intl","VerticalFlexLayout","ScrollLayout","renderGridSearchFormGroup","selectorPrefix","name","props","groupData","type","Array","default","tableGridLayoutConfig","layout","bordered","remainingGroupData","advancedSearchConfig","rowCount","showStrategy","advancedSearch","className","style","width","mask","zIndex","time","direction","collapse","onBeforeShow","onBeforeClose","onAfterShow","onAfterClose","getPopupContainer","document","body","searchFn","Function","resetFn","collapseFn","inject","slots","data","this","watch","advancedSearchConfig.advancedSearch.collapse","render","h","_this","_a","overlayProps","attrs","to","configProvider","Overlay","on","before-show","before-close","after-show","after-close","defaultCollapse","class","concat","slot","conditional","$slots","titleLabel","Group","size","tv","click","scrollY","$createElement","icon","then"],"mappings":"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"}