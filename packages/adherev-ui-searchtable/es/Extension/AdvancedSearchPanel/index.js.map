{"version":3,"file":"index.js","sources":["Extension/AdvancedSearchPanel/index.js"],"sourcesContent":["import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.object.define-properties.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { __rest } from \"tslib\";\nimport { Button, Icon } from 'ant-design-vue';\nimport classNames from 'classnames';\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport FlexLayout from '@baifendian/adherev-ui-flexlayout';\nimport SlideLayout from '@baifendian/adherev-ui-slidelayout';\nimport Space from '@baifendian/adherev-ui-space';\nimport TableGridLayout from '@baifendian/adherev-ui-tablegridlayout';\nimport Teleport from '@baifendian/adherev-ui-teleport';\nimport Intl from '@baifendian/adherev-util-intl';\nvar VerticalFlexLayout = FlexLayout.VerticalFlexLayout,\n  ScrollLayout = FlexLayout.ScrollLayout;\nvar renderGridSearchFormGroup = TableGridLayout.renderGridSearchFormGroup;\nvar selectorPrefix = 'adherev-ui-searchtable-advancedsearchpanel';\nexport default {\n  name: '',\n  props: {\n    groupData: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    tableGridLayoutConfig: {\n      type: Object,\n      default: function _default() {\n        return {\n          layout: 'horizontal',\n          bordered: false\n        };\n      }\n    },\n    remainingGroupData: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    advancedSearchConfig: {\n      type: Object,\n      default: function _default() {\n        return {\n          // 显示少行 'auto' | number\n          // auto - 为自动\n          // number - 指定行数 超出行会在高级筛选中显示\n          rowCount: 'auto',\n          // 剩余的条件的显示方式 'all' | 'remaining'\n          // all - 全部显示\n          // remaining - 显示剩余\n          showStrategy: 'all',\n          // 高级搜索\n          advancedSearch: {\n            // 外围样式\n            className: '',\n            // 外围style\n            style: {},\n            // 宽度\n            width: '30%',\n            // 是否有遮罩\n            mask: true,\n            // 层级\n            zIndex: 19999,\n            // 过度时间\n            time: 300,\n            // 方向\n            direction: 'right',\n            // 默认不展开\n            collapse: false,\n            onBeforeShow: function onBeforeShow() {},\n            onBeforeClose: function onBeforeClose() {},\n            onAfterShow: function onAfterShow() {},\n            onAfterClose: function onAfterClose() {},\n            getPopupContainer: function getPopupContainer() {\n              return document.body;\n            }\n          }\n        };\n      }\n    },\n    searchFn: {\n      type: Function\n    },\n    resetFn: {\n      type: Function\n    },\n    collapseFn: {\n      type: Function\n    }\n  },\n  slots: ['titleLabel', 'collapse'],\n  data: function data() {\n    return {\n      collapse: this.advancedSearchConfig.advancedSearch.collapse\n    };\n  },\n  watch: {\n    'advancedSearchConfig.advancedSearch.collapse': function advancedSearchConfigAdvancedSearchCollapse(collapse) {\n      this.collapse = collapse;\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    var _a = this.advancedSearchConfig.advancedSearch,\n      getPopupContainer = _a.getPopupContainer,\n      onBeforeShow = _a.onBeforeShow,\n      onBeforeClose = _a.onBeforeClose,\n      onAfterShow = _a.onAfterShow,\n      onAfterClose = _a.onAfterClose,\n      overlayProps = __rest(_a, [\"getPopupContainer\", \"onBeforeShow\", \"onBeforeClose\", \"onAfterShow\", \"onAfterClose\"]);\n    return h(Teleport, {\n      \"attrs\": {\n        \"to\": (getPopupContainer === null || getPopupContainer === void 0 ? void 0 : getPopupContainer()) || document.body\n      }\n    }, [h(SlideLayout.Overlay, {\n      \"props\": _objectSpread({}, overlayProps),\n      \"on\": _objectSpread({}, {\n        'before-show': function beforeShow() {\n          return onBeforeShow();\n        },\n        'before-close': function beforeClose() {\n          return onBeforeClose();\n        },\n        'after-show': function afterShow() {\n          return onAfterShow();\n        },\n        'after-close': function afterClose() {\n          return onAfterClose();\n        }\n      }),\n      \"attrs\": {\n        \"defaultCollapse\": this.collapse\n      },\n      \"class\": classNames(selectorPrefix, overlayProps.className || '')\n    }, [h(VerticalFlexLayout, {\n      \"class\": \"\".concat(selectorPrefix, \"-inner\")\n    }, [h(\"header\", {\n      \"slot\": \"renderTop\",\n      \"class\": \"\".concat(selectorPrefix, \"-header\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-title\")\n    }, [h(ConditionalRender, {\n      \"attrs\": {\n        \"conditional\": !this.$slots.titleLabel\n      }\n    }, [h(Space.Group, {\n      \"attrs\": {\n        \"direction\": \"horizontal\",\n        \"size\": 2\n      }\n    }, [h(Icon, {\n      \"attrs\": {\n        \"type\": \"filter\"\n      }\n    }), h(\"strong\", [Intl.tv('高级搜索')])]), h(\"div\", {\n      \"slot\": \"noMatch\"\n    }, [this.$slots.titleLabel])])]), h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-collapse\"),\n      \"on\": {\n        \"click\": function click() {\n          _this.collapse = !_this.collapse;\n        }\n      }\n    }, [h(ConditionalRender, {\n      \"attrs\": {\n        \"conditional\": !this.$slots.collapse\n      }\n    }, [h(ConditionalRender, {\n      \"attrs\": {\n        \"conditional\": this.collapse\n      }\n    }, [h(Space.Group, {\n      \"attrs\": {\n        \"direction\": \"horizontal\",\n        \"size\": 2\n      }\n    }, [h(Icon, {\n      \"attrs\": {\n        \"type\": \"left-circle\"\n      }\n    }), h(\"strong\", [Intl.tv('收起')])]), h(\"div\", {\n      \"slot\": \"noMatch\"\n    }, [h(Space.Group, {\n      \"attrs\": {\n        \"direction\": \"horizontal\",\n        \"size\": 2\n      }\n    }, [h(Icon, {\n      \"attrs\": {\n        \"type\": \"right-circle\"\n      }\n    }), h(\"strong\", [Intl.tv('展开')])])])]), h(\"div\", {\n      \"slot\": \"noMatch\"\n    }, [this.$slots.collapse])])])]), h(\"div\", {\n      \"slot\": \"renderMain\",\n      \"class\": \"\".concat(selectorPrefix, \"-main\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-main-inner\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-scroll\")\n    }, [h(ScrollLayout, {\n      \"attrs\": {\n        \"scrollY\": true\n      }\n    }, [renderGridSearchFormGroup(this.$createElement, this, this.advancedSearchConfig.showStrategy === 'all' ? this.groupData : this.remainingGroupData, this.tableGridLayoutConfig)])]), h(\"footer\", {\n      \"class\": \"\".concat(selectorPrefix, \"-footer\")\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-item\")\n    }, [h(Button, {\n      \"attrs\": {\n        \"type\": \"primary\",\n        \"icon\": \"search\"\n      },\n      \"on\": {\n        \"click\": function click() {\n          _this.searchFn().then(function () {\n            _this.collapse = false;\n          });\n        }\n      }\n    }, [Intl.tv('确定')])]), h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-item\")\n    }, [h(Button, {\n      \"attrs\": {\n        \"icon\": \"reload\"\n      },\n      \"on\": {\n        \"click\": function click() {\n          _this.resetFn().then(function () {\n            _this.collapse = false;\n          });\n        }\n      }\n    }, [Intl.tv('重置')])])])])])])])]);\n  }\n};"],"names":["_defineProperty","ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","__rest","Button","Icon","classNames","ConditionalRender","FlexLayout","SlideLayout","Space","TableGridLayout","Teleport","Intl","VerticalFlexLayout","ScrollLayout","renderGridSearchFormGroup","selectorPrefix","name","props","groupData","type","Array","default","tableGridLayoutConfig","layout","bordered","remainingGroupData","advancedSearchConfig","rowCount","showStrategy","advancedSearch","className","style","width","mask","zIndex","time","direction","collapse","onBeforeShow","onBeforeClose","onAfterShow","onAfterClose","getPopupContainer","document","body","searchFn","Function","resetFn","collapseFn","slots","data","this","watch","advancedSearchConfig.advancedSearch.collapse","render","h","_this","_a","overlayProps","attrs","to","Overlay","on","before-show","before-close","after-show","after-close","defaultCollapse","class","concat","slot","conditional","$slots","titleLabel","Group","size","tv","click","scrollY","$createElement","icon","then"],"mappings":"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"}