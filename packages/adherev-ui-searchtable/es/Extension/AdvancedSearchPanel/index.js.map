{"version":3,"file":"index.js","sources":["Extension/AdvancedSearchPanel/index.js"],"sourcesContent":["import _ConfigProvider from \"ant-design-vue/es/config-provider\";\nimport _ReloadOutlined from \"@ant-design/icons-vue/es/icons/ReloadOutlined\";\nimport _Button from \"ant-design-vue/es/button\";\nimport _SearchOutlined from \"@ant-design/icons-vue/es/icons/SearchOutlined\";\nimport _RightCircleOutlined from \"@ant-design/icons-vue/es/icons/RightCircleOutlined\";\nimport _LeftCircleOutlined from \"@ant-design/icons-vue/es/icons/LeftCircleOutlined\";\nimport _FilterOutlined from \"@ant-design/icons-vue/es/icons/FilterOutlined\";\nimport { mergeProps as _mergeProps, isVNode as _isVNode, createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { __rest } from \"tslib\";\nimport classNames from 'classnames';\nimport { Teleport, defineComponent } from 'vue';\nimport { array, func, object } from 'vue-types';\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport FlexLayout from '@baifendian/adherev-ui-flexlayout';\nimport SlideLayout from '@baifendian/adherev-ui-slidelayout';\nimport Space from '@baifendian/adherev-ui-space';\nimport TableGridLayout from '@baifendian/adherev-ui-tablegridlayout';\nimport Intl from '@baifendian/adherev-util-intl';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\nvar VerticalFlexLayout = FlexLayout.VerticalFlexLayout,\n  ScrollLayout = FlexLayout.ScrollLayout;\nvar renderGridSearchFormGroup = TableGridLayout.renderGridSearchFormGroup;\nvar selectorPrefix = 'adherev-ui-searchtable-advancedsearchpanel';\nexport default defineComponent({\n  name: '',\n  props: {\n    groupData: array().def([]),\n    tableGridLayoutConfig: object().def({\n      layout: 'horizontal',\n      bordered: false\n    }),\n    remainingGroupData: array().def([]),\n    advancedSearchConfig: object().def({\n      // 显示少行 'auto' | number\n      // auto - 为自动\n      // number - 指定行数 超出行会在高级筛选中显示\n      rowCount: 'auto',\n      // 剩余的条件的显示方式 'all' | 'remaining'\n      // all - 全部显示\n      // remaining - 显示剩余\n      showStrategy: 'all',\n      // 高级搜索\n      advancedSearch: {\n        // 外围样式\n        // className: '',\n        // 外围style\n        // style: {},\n        // 宽度\n        width: '30%',\n        // 是否有遮罩\n        mask: true,\n        // 层级\n        zIndex: 19999,\n        // 过度时间\n        time: 300,\n        // 方向\n        direction: 'right',\n        // 默认不展开\n        collapse: false,\n        onBeforeShow: function onBeforeShow() {},\n        onBeforeClose: function onBeforeClose() {},\n        onAfterShow: function onAfterShow() {},\n        onAfterClose: function onAfterClose() {},\n        getPopupContainer: function getPopupContainer() {\n          return document.body;\n        }\n      }\n    }),\n    searchFn: func(),\n    resetFn: func(),\n    collapseFn: func()\n  },\n  inject: ['configProvider'],\n  slots: ['titleLabel', 'collapse'],\n  data: function data() {\n    return {\n      collapse: this.advancedSearchConfig.advancedSearch.collapse\n    };\n  },\n  watch: {\n    'advancedSearchConfig.advancedSearch.collapse': function advancedSearchConfigAdvancedSearchCollapse(collapse) {\n      this.collapse = collapse;\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n    var _this = this;\n    var _a = this.advancedSearchConfig.advancedSearch,\n      getPopupContainer = _a.getPopupContainer,\n      onBeforeShow = _a.onBeforeShow,\n      onBeforeClose = _a.onBeforeClose,\n      onAfterShow = _a.onAfterShow,\n      onAfterClose = _a.onAfterClose,\n      overlayProps = __rest(_a, [\"getPopupContainer\", \"onBeforeShow\", \"onBeforeClose\", \"onAfterShow\", \"onAfterClose\"]);\n    return _createVNode(Teleport, {\n      \"to\": (getPopupContainer === null || getPopupContainer === void 0 ? void 0 : getPopupContainer()) || document.body\n    }, {\n      default: function _default() {\n        return [_createVNode(_ConfigProvider, _this2.configProvider, {\n          default: function _default() {\n            return [_createVNode(SlideLayout.Overlay, _mergeProps(overlayProps, {\n              \"onBeforeShow\": onBeforeShow,\n              \"onBeforeClose\": onBeforeClose,\n              \"onAfterShow\": onAfterShow,\n              \"onAfterClose\": onAfterClose,\n              \"defaultCollapse\": _this2.collapse,\n              \"class\": classNames(selectorPrefix, overlayProps.className || '')\n            }), {\n              default: function _default() {\n                return [_createVNode(VerticalFlexLayout, {\n                  \"class\": \"\".concat(selectorPrefix, \"-inner\")\n                }, {\n                  renderTop: function renderTop() {\n                    var _a, _b, _c, _d;\n                    return _createVNode(\"header\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-header\")\n                    }, [_createVNode(\"div\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-title\")\n                    }, [_createVNode(ConditionalRender, {\n                      \"conditional\": !((_b = (_a = _this === null || _this === void 0 ? void 0 : _this.$slots) === null || _a === void 0 ? void 0 : _a.titleLabel) === null || _b === void 0 ? void 0 : _b.call(_a))\n                    }, {\n                      default: function _default() {\n                        return _createVNode(Space.Group, {\n                          \"direction\": \"horizontal\",\n                          \"size\": 2\n                        }, {\n                          default: function _default() {\n                            return [_createVNode(_FilterOutlined, null, null), _createVNode(\"strong\", null, [Intl.tv('高级搜索')])];\n                          }\n                        });\n                      },\n                      noMatch: function noMatch() {\n                        var _a, _b;\n                        return _createVNode(\"div\", null, [(_b = (_a = _this === null || _this === void 0 ? void 0 : _this.$slots) === null || _a === void 0 ? void 0 : _a.titleLabel) === null || _b === void 0 ? void 0 : _b.call(_a)]);\n                      }\n                    })]), _createVNode(\"div\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-collapse\"),\n                      \"onClick\": function onClick() {\n                        _this.collapse = !_this.collapse;\n                      }\n                    }, [_createVNode(ConditionalRender, {\n                      \"conditional\": !((_d = (_c = _this === null || _this === void 0 ? void 0 : _this.$slots) === null || _c === void 0 ? void 0 : _c.collapse) === null || _d === void 0 ? void 0 : _d.call(_c))\n                    }, {\n                      default: function _default() {\n                        return _createVNode(ConditionalRender, {\n                          \"conditional\": _this.collapse\n                        }, {\n                          default: function _default() {\n                            return _createVNode(Space.Group, {\n                              \"direction\": \"horizontal\",\n                              \"size\": 2\n                            }, {\n                              default: function _default() {\n                                return [_createVNode(_LeftCircleOutlined, null, null), _createVNode(\"strong\", null, [Intl.tv('收起')])];\n                              }\n                            });\n                          },\n                          noMatch: function noMatch() {\n                            return _createVNode(\"div\", null, [_createVNode(Space.Group, {\n                              \"direction\": \"horizontal\",\n                              \"size\": 2\n                            }, {\n                              default: function _default() {\n                                return [_createVNode(_RightCircleOutlined, null, null), _createVNode(\"strong\", null, [Intl.tv('展开')])];\n                              }\n                            })]);\n                          }\n                        });\n                      },\n                      noMatch: function noMatch() {\n                        var _a, _b;\n                        return (_b = (_a = _this.$slots) === null || _a === void 0 ? void 0 : _a.collapse) === null || _b === void 0 ? void 0 : _b.call(_a);\n                      }\n                    })])]);\n                  },\n                  renderMain: function renderMain() {\n                    var _slot;\n                    return _createVNode(\"div\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-main\")\n                    }, [_createVNode(\"div\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-scroll\")\n                    }, [_createVNode(ScrollLayout, {\n                      \"scrollY\": true\n                    }, _isSlot(_slot =\n                    // @ts-ignore\n                    renderGridSearchFormGroup(_this.$slots, _this.advancedSearchConfig.showStrategy === 'all' ? _this.groupData : _this.remainingGroupData, _this.tableGridLayoutConfig)) ? _slot : {\n                      default: function _default() {\n                        return [_slot];\n                      }\n                    })]), _createVNode(\"footer\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-footer\")\n                    }, [_createVNode(\"div\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-item\")\n                    }, [_createVNode(_Button, {\n                      \"type\": \"primary\",\n                      \"onClick\": function onClick() {\n                        _this.searchFn().then(function () {\n                          _this.collapse = false;\n                        });\n                      }\n                    }, {\n                      default: function _default() {\n                        return Intl.tv('确定');\n                      },\n                      icon: function icon() {\n                        return _createVNode(_SearchOutlined, null, null);\n                      }\n                    })]), _createVNode(\"div\", {\n                      \"class\": \"\".concat(selectorPrefix, \"-item\")\n                    }, [_createVNode(_Button, {\n                      \"onClick\": function onClick() {\n                        _this.resetFn().then(function () {\n                          _this.collapse = false;\n                        });\n                      }\n                    }, {\n                      default: function _default() {\n                        return Intl.tv('重置');\n                      },\n                      icon: function icon() {\n                        return _createVNode(_ReloadOutlined, null, null);\n                      }\n                    })])])]);\n                  }\n                })];\n              }\n            })];\n          }\n        })];\n      }\n    });\n  }\n});"],"names":["_ConfigProvider","_ReloadOutlined","_Button","_SearchOutlined","_RightCircleOutlined","_LeftCircleOutlined","_FilterOutlined","_mergeProps","_isVNode","_createVNode","__rest","classNames","Teleport","defineComponent","array","func","object","ConditionalRender","FlexLayout","SlideLayout","Space","TableGridLayout","Intl","_isSlot","s","Object","prototype","toString","call","VerticalFlexLayout","ScrollLayout","renderGridSearchFormGroup","selectorPrefix","name","props","groupData","def","tableGridLayoutConfig","layout","bordered","remainingGroupData","advancedSearchConfig","rowCount","showStrategy","advancedSearch","width","mask","zIndex","time","direction","collapse","onBeforeShow","onBeforeClose","onAfterShow","onAfterClose","getPopupContainer","document","body","searchFn","resetFn","collapseFn","inject","slots","data","this","watch","advancedSearchConfig.advancedSearch.collapse","render","_this2","_this","_a","overlayProps","to","default","configProvider","Overlay","defaultCollapse","class","className","concat","renderTop","_c","_d","conditional","_b","$slots","titleLabel","Group","size","tv","noMatch","onClick","renderMain","_slot","scrollY","type","then","icon"],"mappings":"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"}