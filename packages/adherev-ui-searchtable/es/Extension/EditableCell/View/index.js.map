{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["import _EditOutlined from \"@ant-design/icons-vue/es/icons/EditOutlined\";\nimport { createVNode as _createVNode } from \"vue\";\nimport classNames from 'classnames';\nimport { defineComponent } from 'vue';\nimport { array, number, object } from 'vue-types';\nimport { selectorPrefix } from '../../../SearchTable';\n/**\n * EditableCellView\n * @description 可编辑单元格的查看状态\n */\nexport default defineComponent({\n  props: {\n    rowIndex: number(),\n    record: object().def({}),\n    column: object().def({}),\n    columns: array().def([]),\n    editableConfig: object()\n  },\n  emits: ['triggerChange'],\n  setup: function setup(props, _a) {\n    var _b, _c, _d;\n    var emit = _a.emit,\n      slots = _a.slots;\n    var renderToEditTriggerArgv = {\n      value: (_b = props.record) === null || _b === void 0 ? void 0 : _b[(_c = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _c === void 0 ? void 0 : _c.dataIndex],\n      record: props.record,\n      dataIndex: (_d = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _d === void 0 ? void 0 : _d.dataIndex,\n      rowIndex: props.rowIndex\n    };\n    /**\n     * onTrigger\n     */\n    var onTrigger = function onTrigger() {\n      var _a, _b, _c, _d, _e;\n      if ((_a = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _a === void 0 ? void 0 : _a.onBeforeToEdit) {\n        (_e = (_b = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _b === void 0 ? void 0 : _b.onBeforeToEdit({\n          value: props.record[(_c = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _c === void 0 ? void 0 : _c.dataIndex],\n          record: props.record,\n          dataIndex: (_d = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _d === void 0 ? void 0 : _d.dataIndex,\n          rowIndex: props.rowIndex\n        })) === null || _e === void 0 ? void 0 : _e.then(function () {\n          emit('triggerChange');\n        });\n        return;\n      }\n      emit('triggerChange');\n    };\n    /**\n     * renderTrigger\n     * @description 渲染句柄\n     */\n    var renderTrigger = function renderTrigger() {\n      return _createVNode(_EditOutlined, null, null);\n    };\n    return function () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n      // 不使用句柄则返回原始组件\n      if (!((_a = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _a === void 0 ? void 0 : _a.useTrigger)) {\n        return (_b = slots === null || slots === void 0 ? void 0 : slots.default) === null || _b === void 0 ? void 0 : _b.call(slots);\n      }\n      return _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-editablecell-view\")\n      }, [_createVNode(\"div\", {\n        \"class\": classNames(\"\".concat(selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in props.column && props.column.ellipsis ? \"\".concat(selectorPrefix, \"-editablecell-view-inner-ellipsis\") : '')\n      }, [(_c = slots === null || slots === void 0 ? void 0 : slots.default) === null || _c === void 0 ? void 0 : _c.call(slots)]), _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-editablecell-view-trigger\")\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-editablecell-view-trigger-inner\"),\n        \"onClick\": onTrigger\n      }, [((_e = slots === null || slots === void 0 ? void 0 : slots[(_d = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _d === void 0 ? void 0 : _d.renderToEditTrigger]) === null || _e === void 0 ? void 0 : _e.call(slots, renderToEditTriggerArgv)) || ((_g = (_f = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _f === void 0 ? void 0 : _f.renderToEditTrigger) === null || _g === void 0 ? void 0 : _g.call(_f, renderToEditTriggerArgv)), !slots[(_h = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _h === void 0 ? void 0 : _h.renderToEditTrigger] && !((_j = props === null || props === void 0 ? void 0 : props.editableConfig) === null || _j === void 0 ? void 0 : _j.renderToEditTrigger) && renderTrigger()])])]);\n    };\n  }\n});"],"names":["_EditOutlined","_createVNode","classNames","defineComponent","array","number","object","selectorPrefix","props","rowIndex","record","def","column","columns","editableConfig","emits","setup","_a","onTrigger","_e","onBeforeToEdit","_b","value","_c","dataIndex","_d","then","emit","slots","renderToEditTriggerArgv","_h","_j","useTrigger","class","concat","ellipsis","default","call","onClick","renderToEditTrigger","_g","_f"],"mappings":"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"}