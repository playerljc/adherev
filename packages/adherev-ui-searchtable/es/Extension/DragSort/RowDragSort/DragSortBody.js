import{__assign}from"tslib";import classNames from"classnames";import Sortable from"sortablejs";import{cloneVNode,inject,onMounted,ref}from"vue";import{selectorPrefix}from"../../../SearchTable";export default function(l){function r(l){var o;null!=(l=null==(o=null==(o=null==n?void 0:n.moveRow)?void 0:o.call(n,l.oldDraggableIndex,l.newDraggableIndex))?void 0:o.then)&&l.call(o,function(){})}var o=inject("getContext"),n=null==(o=null==o?void 0:o())?void 0:o.context,a=null==(o=null==(o=n.onBody)?void 0:o.call(n))?void 0:o.bodyConfig,e=ref();return onMounted(function(){var l,o;e.value&&Sortable.create(e.value,__assign(__assign({draggable:!(null==(o=null==(l=null==a?void 0:a.$bodyDragSort)?void 0:l.canDrag)||!o.call(l))&&".".concat(selectorPrefix,"-row-drag-sort-draggable-item")},(null==(o=null==a?void 0:a.$bodyDragSort)?void 0:o.draggableProps)||{}),{onEnd:function(l){var o,n;null!=(n=null==(n=null==a?void 0:a.$bodyDragSort)?void 0:n.draggableProps)&&n.onEnd?null!=(n=null==(o=null==(o=null==(n=null==(n=null==a?void 0:a.$bodyDragSort)?void 0:n.draggableProps)?void 0:n.onEnd)?void 0:o.call(n,l))?void 0:o.then)&&n.call(o,function(){r(l)}):r(l)}}))}),function(l){var o;return cloneVNode(l,{ref:e,class:classNames(null==(o=null==l?void 0:l.props)?void 0:o.class,"".concat(selectorPrefix,"-search-row-drag-sort-table"),null==(o=null==l?void 0:l.props)?void 0:o.class)})}}
//# sourceMappingURL=DragSortBody.js.map
