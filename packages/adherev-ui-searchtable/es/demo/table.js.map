{"version":3,"file":"Table.js","sources":["demo/Table.js"],"sourcesContent":["import \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { DatePicker, Input, InputNumber, Select } from 'ant-design-vue';\nimport moment from 'moment';\nimport Ajax from '@baifendian/adherev-util-communication-ajax';\nimport Resource from '@baifendian/adherev-util-resource';\nimport SearchTable from '../index';\n// @ts-ignore\nvar request = new Ajax('');\nvar Option = Select.Option;\nvar RangePicker = DatePicker.RangePicker;\n// @ts-ignore\nvar SearchTableImplement = SearchTable.SearchTableImplement,\n  SearchForm = SearchTable.SearchForm,\n  SearchFormRow = SearchTable.SearchFormRow,\n  SearchFormLabel = SearchTable.SearchFormLabel,\n  SearchFormValue = SearchTable.SearchFormValue;\nvar SearchTableImplementMixins = SearchTableImplement();\nexport default {\n  mixins: [SearchTableImplementMixins],\n  data: function data() {\n    return {\n      loading: false,\n      dataSource: {\n        total: 0,\n        list: []\n      }\n    };\n  },\n  props: {\n    pagination: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    pagination: function pagination(oldValue, newValue) {\n      if (oldValue !== newValue) {\n        this.scrollY = 0;\n      }\n    }\n  },\n  methods: {\n    getParams: function getParams() {\n      return {\n        name: '',\n        sex: '',\n        startTime: null,\n        endTime: null,\n        deptCode: '',\n        homeTown: '',\n        width: '',\n        height: ''\n      };\n    },\n    getFetchDataParams: function getFetchDataParams() {\n      var _a = this.searchParams,\n        startTime = _a.startTime,\n        endTime = _a.endTime;\n      return {\n        startTime: startTime ? startTime.format(Resource.Dict.value.ResourceMomentFormat15.value()) : null,\n        endTime: endTime ? endTime.format(Resource.Dict.value.ResourceMomentFormat15.value()) : null\n      };\n    },\n    getData: function getData() {\n      return this.dataSource.list;\n    },\n    getTotal: function getTotal() {\n      return this.dataSource.total;\n    },\n    getColumns: function getColumns() {\n      return [{\n        title: '姓名',\n        dataIndex: 'name',\n        key: 'name',\n        align: 'center',\n        width: 200\n      }, {\n        title: '性别',\n        dataIndex: 'sex',\n        key: 'sex',\n        align: 'center',\n        width: 200,\n        scopedSlots: {\n          customRender: 'sex'\n        }\n      }, {\n        title: '籍贯',\n        dataIndex: 'homeTown',\n        key: 'homeTown',\n        align: 'center',\n        width: 200\n      }, {\n        title: '出生年月',\n        dataIndex: 'birthday',\n        key: 'birthday',\n        align: 'center',\n        sorter: true,\n        width: 200,\n        sortOrder: this.sortOrder('birthday'),\n        scopedSlots: {\n          customRender: 'birthday'\n        }\n      }, {\n        title: '所在部门',\n        dataIndex: 'deptName',\n        key: 'deptName',\n        align: 'center',\n        width: 200\n      }, {\n        title: '身高',\n        dataIndex: 'height',\n        key: 'height',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('height'),\n        width: 300\n      }, {\n        title: '体重',\n        dataIndex: 'width',\n        key: 'width',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('width'),\n        width: 300\n      }];\n    },\n    getScopedSlots: function getScopedSlots() {\n      return {\n        sex: function sex(text) {\n          return Resource.Dict.value.ResourceNormalSexMap.value.get(text).label;\n        },\n        birthday: function birthday(text) {\n          return text ? moment(text).format(Resource.Dict.value.ResourceMomentFormat10.value()) : '';\n        }\n      };\n    },\n    renderSearchForm: function renderSearchForm(h) {\n      var _this = this;\n      return h(SearchForm, [h(SearchFormRow, [h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u59D3\\u540D\\uFF1A\"]), h(SearchFormValue, [h(Input, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"姓名\",\n          \"value\": this.name\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.name = e.target.value.trim();\n          }\n        }\n      })]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u6027\\u522B\\uFF1A\"]), h(SearchFormValue, [h(Select, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"value\": this.sex,\n          \"getPopupContainer\": Resource.Dict.value.FormPopupContainer.value\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.sex = v;\n          }\n        }\n      }, [Resource.Dict.value.ResourceNormalSex.value.map(function (t) {\n        return (// @ts-ignore*\n          h(Option, {\n            \"key\": t.value,\n            \"attrs\": {\n              \"value\": t.value\n            }\n          }, [t.label])\n        );\n      })])]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u51FA\\u751F\\u5E74\\u6708\\uFF1A\"]), h(SearchFormValue, [h(RangePicker, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"value\": [this.startTime, this.endTime],\n          \"getPopupContainer\": Resource.Dict.value.FormPopupContainer.value,\n          \"getCalendarContainer\": function getCalendarContainer(el) {\n            return el.parentElement;\n          }\n        },\n        \"on\": {\n          \"change\": function change(moments) {\n            _this.startTime = moments.length ? moments[0] : null;\n            _this.endTime = moments.length ? moments[1] : null;\n          }\n        }\n      })])]), h(SearchFormRow, [h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u7C4D\\u8D2F\\uFF1A\"]), h(SearchFormValue, [h(Input, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"籍贯\",\n          \"value\": this.homeTown\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.homeTown = e.target.value.trim();\n          }\n        }\n      })]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u8EAB\\u9AD8\\uFF1A\"]), h(SearchFormValue, [h(InputNumber, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"身高\",\n          \"value\": this.height\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.height = v;\n          }\n        }\n      })]), h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u4F53\\u91CD\\uFF1A\"]), h(SearchFormValue, [h(InputNumber, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"placeholder\": \"体重\",\n          \"value\": this.width\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.width = v;\n          }\n        }\n      })])]), h(SearchFormRow, [h(SearchFormLabel, {\n        \"style\": \"width: 120px;\"\n      }, [\"\\u6240\\u5728\\u90E8\\u95E8\\uFF1A\"]), h(SearchFormValue, [h(Select, {\n        \"style\": \"width: 90%\",\n        \"attrs\": {\n          \"value\": this.deptCode,\n          \"getPopupContainer\": Resource.Dict.value.FormPopupContainer.value\n        },\n        \"on\": {\n          \"change\": function change(v) {\n            _this.deptCode = v;\n          }\n        }\n      }, [h(Option, {\n        \"attrs\": {\n          \"value\": \"\"\n        }\n      }, [\"\\u5168\\u90E8\"]), h(Option, {\n        \"attrs\": {\n          \"value\": \"0\"\n        }\n      }, [\"\\u4EA7\\u54C1\\u90E8\"]), h(Option, {\n        \"attrs\": {\n          \"value\": \"1\"\n        }\n      }, [\"\\u5F00\\u53D1\\u90E8\"]), h(Option, {\n        \"attrs\": {\n          \"value\": \"2\"\n        }\n      }, [\"\\u5DE5\\u7A0B\\u90E8\"])])])])]);\n    },\n    renderSearchFooterItems: function renderSearchFooterItems() {\n      return null;\n    },\n    showLoading: function showLoading() {\n      return this.loading;\n    },\n    getOrderFieldValue: function getOrderFieldValue() {\n      return 'height';\n    },\n    fetchDataExecute: function fetchDataExecute(searchParams) {\n      var _this = this;\n      this.loading = true;\n      return request\n      // @ts-ignore\n      .get({\n        mock: true,\n        // @ts-ignore\n        path: require('./mock.js').default\n      }).then(function (result) {\n        _this.dataSource = {\n          total: result.total,\n          list: result.list\n        };\n        _this.loading = false;\n      });\n    },\n    getPagination: function getPagination() {\n      var pagination = this.pagination;\n      if (pagination) {\n        return this.$getPaginationSearchTable();\n      }\n      return false;\n    }\n  }\n};"],"names":["DatePicker","Input","InputNumber","Select","moment","Ajax","Resource","SearchTable","request","Option","RangePicker","SearchTableImplement","SearchForm","SearchFormRow","SearchFormLabel","SearchFormValue","SearchTableImplementMixins","mixins","data","loading","dataSource","total","list","props","pagination","type","Boolean","default","watch","oldValue","newValue","this","scrollY","methods","getParams","name","sex","startTime","endTime","deptCode","homeTown","width","height","getFetchDataParams","_a","searchParams","format","Dict","value","ResourceMomentFormat15","getData","getTotal","getColumns","title","dataIndex","key","align","scopedSlots","customRender","sorter","sortOrder","getScopedSlots","text","ResourceNormalSexMap","get","label","birthday","ResourceMomentFormat10","renderSearchForm","h","_this","style","attrs","placeholder","on","change","e","target","trim","getPopupContainer","FormPopupContainer","v","ResourceNormalSex","map","t","getCalendarContainer","el","parentElement","moments","length","renderSearchFooterItems","showLoading","getOrderFieldValue","fetchDataExecute","mock","path","require","then","result","getPagination","$getPaginationSearchTable"],"mappings":"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"}