{"version":3,"file":"ProEditableTable.js","sources":["demo/ProEditableTable.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport { __spreadArray } from \"tslib\";\nimport Util from '@baifendian/adherev-util';\nimport SearchTable from '../index';\nvar extend = Util._util.extend;\nvar ProEditableSearchTable = SearchTable.ProEditableSearchTable,\n  EditableTableControl = SearchTable.EditableTableControl;\nvar ProEditableTable = extend({\n  className: 'ProEditableTable',\n  mixins: [ProEditableSearchTable('user')],\n  methods: {\n    getFetchListPropName: function getFetchListPropName() {\n      return 'fetchList';\n    },\n    getOrderFieldValue: function getOrderFieldValue() {\n      return 'height';\n    },\n    getDataKey: function getDataKey() {\n      return 'records';\n    },\n    getTotalKey: function getTotalKey() {\n      return 'total';\n    },\n    getColumns: function getColumns() {\n      var _this = this;\n      return this.$getColumnsProEditableSearchTable([{\n        title: '姓名',\n        dataIndex: 'name',\n        key: 'name',\n        align: 'center',\n        width: 200,\n        $search: {\n          type: 'input',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'input',\n          rules: [{\n            required: true,\n            message: '请输入姓名'\n          }],\n          onSave: function onSave(_a) {\n            var value = _a.value,\n              record = _a.record,\n              dataIndex = _a.dataIndex;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '性别',\n        dataIndex: 'sex',\n        key: 'sex',\n        align: 'center',\n        width: 200,\n        scopedSlots: {\n          customRender: 'sex'\n        },\n        $search: {\n          type: 'select',\n          visible: true,\n          dictName: 'SystemTestSexSelect'\n        }\n      }, {\n        title: '籍贯',\n        dataIndex: 'homeTown',\n        key: 'homeTown',\n        align: 'center',\n        width: 200,\n        $search: {\n          type: 'input',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'input',\n          rules: [{\n            required: true,\n            message: '请输入姓名'\n          }],\n          onSave: function onSave(_a) {\n            var value = _a.value,\n              record = _a.record,\n              dataIndex = _a.dataIndex;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '出生年月',\n        dataIndex: 'birthday',\n        key: 'birthday',\n        align: 'center',\n        sorter: true,\n        width: 200,\n        sortOrder: this.sortOrder('birthday'),\n        $search: {\n          type: 'rangePicker',\n          visible: true,\n          startName: 'birthDayStart',\n          endName: 'birthDayEnd'\n        },\n        $editable: {\n          editable: true,\n          type: 'datePicker',\n          rules: [{\n            required: true,\n            message: '请选择'\n          }],\n          onSave: function onSave(_a) {\n            var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDateData({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '所在部门',\n        dataIndex: 'deptName',\n        key: 'deptName',\n        align: 'center',\n        width: 200,\n        $search: {\n          type: 'input',\n          visible: true\n        }\n      }, {\n        title: '身高',\n        dataIndex: 'height',\n        key: 'height',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('height'),\n        width: 300,\n        $search: {\n          type: 'inputNumberDecimal2',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'inputNumberDecimal2',\n          rules: [{\n            required: true,\n            message: '请输入体重'\n          }],\n          onSave: function onSave(_a) {\n            var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }, {\n        title: '体重',\n        dataIndex: 'width',\n        key: 'width',\n        align: 'center',\n        sorter: true,\n        sortOrder: this.sortOrder('width'),\n        width: 300,\n        $search: {\n          type: 'inputNumberDecimal2',\n          visible: true\n        },\n        $editable: {\n          editable: true,\n          type: 'inputNumberDecimal2',\n          rules: [{\n            required: true,\n            message: '请输入体重'\n          }],\n          onSave: function onSave(_a) {\n            var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n            return new Promise(function (resolve) {\n              _this.updateEditorCellDate({\n                record: record,\n                dataIndex: dataIndex,\n                value: value\n              }).then(function () {\n                return resolve();\n              });\n            });\n          }\n        }\n      }]);\n    },\n    /**\n     * renderSearchFooterItems\n     * 渲染表格的工具栏\n     * @override\n     */\n    renderSearchFooterItems: function renderSearchFooterItems(defaultItems) {\n      return __spreadArray([_createVNode(EditableTableControl, null, null)], defaultItems, true);\n    }\n  }\n});\nexport default ProEditableTable;"],"names":["_createVNode","__spreadArray","Util","SearchTable","extend","_util","ProEditableSearchTable","EditableTableControl","ProEditableTable","className","mixins","methods","getFetchListPropName","getOrderFieldValue","getDataKey","getTotalKey","getColumns","_this","this","$getColumnsProEditableSearchTable","title","dataIndex","key","align","width","$search","type","visible","$editable","editable","rules","required","message","onSave","_a","value","record","Promise","resolve","updateEditorCellDate","then","scopedSlots","customRender","dictName","sorter","sortOrder","startName","endName","updateEditorCellDateData","renderSearchFooterItems","defaultItems"],"mappings":"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"}