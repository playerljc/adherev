import _InputNumber from"ant-design-vue/es/input-number";import _Input from"ant-design-vue/es/input";import _DatePicker from"ant-design-vue/es/date-picker";import _Select from"ant-design-vue/es/select";import{isVNode as _isVNode,createVNode as _createVNode,createTextVNode as _createTextVNode}from"vue";import"core-js/modules/es.string.trim.js";import"core-js/modules/es.array.map.js";import"core-js/modules/es.object.to-string.js";import dayjs from"dayjs";import{defineComponent}from"vue";import Ajax from"@baifendian/adherev-util-communication-ajax";import Resource from"@baifendian/adherev-util-resource";import SearchTable from"../index";function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!_isVNode(e)}var request=new Ajax(""),Option=_Select.Option,RangePicker=_DatePicker.RangePicker,SearchTableImplement=SearchTable.SearchTableImplement,SearchForm=SearchTable.SearchForm,SearchFormRow=SearchTable.SearchFormRow,SearchFormLabel=SearchTable.SearchFormLabel,SearchFormValue=SearchTable.SearchFormValue,SearchTableImplementMixins=SearchTableImplement();export default defineComponent({mixins:[SearchTableImplementMixins],data:function(){return{loading:!1,dataSource:{total:0,list:[]}}},props:{pagination:{type:Boolean,default:!0}},watch:{pagination:function(e,t){e!==t&&(this.scrollY=0)}},methods:{getParams:function(){return{name:"",sex:"",startTime:null,endTime:null,deptCode:"",homeTown:"",width:"",height:""}},getFetchDataParams:function(){var e=this.searchParams,t=e.startTime,e=e.endTime;return{startTime:t?t.format(Resource.Dict.value.ResourceMomentFormat15.value()):null,endTime:e?e.format(Resource.Dict.value.ResourceMomentFormat15.value()):null}},getData:function(){return this.dataSource.list},getTotal:function(){return this.dataSource.total},getColumns:function(){return[{title:"姓名",dataIndex:"name",key:"name",align:"center",width:200},{title:"性别",dataIndex:"sex",key:"sex",align:"center",width:200,scopedSlots:{customRender:"sex"}},{title:"籍贯",dataIndex:"homeTown",key:"homeTown",align:"center",width:200},{title:"出生年月",dataIndex:"birthday",key:"birthday",align:"center",sorter:!0,width:200,sortOrder:this.sortOrder("birthday"),scopedSlots:{customRender:"birthday"}},{title:"所在部门",dataIndex:"deptName",key:"deptName",align:"center",width:200},{title:"身高",dataIndex:"height",key:"height",align:"center",sorter:!0,sortOrder:this.sortOrder("height"),width:300},{title:"体重",dataIndex:"width",key:"width",align:"center",sorter:!0,sortOrder:this.sortOrder("width"),width:300}]},getScopedSlots:function(){return{sex:function(e){return Resource.Dict.value.ResourceNormalSexMap.value.get(e).label},birthday:function(e){return e?dayjs(e).format(Resource.Dict.value.ResourceMomentFormat10.value()):""}}},renderSearchForm:function(e){var t,r=this,a=this;return _createVNode(SearchForm,null,{default:function(){return[_createVNode(SearchFormRow,null,{default:function(){return[_createVNode(SearchFormLabel,{style:"width: 120px;"},{default:function(){return[_createTextVNode("姓名：")]}}),_createVNode(SearchFormValue,null,{default:function(){return[_createVNode(_Input,{style:"width: 90%",placeholder:"姓名",value:r.name,onChange:function(e){a.name=e.target.value.trim()}},null)]}}),_createVNode(SearchFormLabel,{style:"width: 120px;"},{default:function(){return[_createTextVNode("性别：")]}}),_createVNode(SearchFormValue,null,{default:function(){return[_createVNode(_Select,{style:"width: 90%",value:r.sex,getPopupContainer:Resource.Dict.value.FormPopupContainer.value,onChange:function(e){a.sex=e}},_isSlot(t=Resource.Dict.value.ResourceNormalSex.value.map(function(e){return _createVNode(Option,{key:e.value,value:e.value},{default:function(){return[e.label]}})}))?t:{default:function(){return[t]}})]}}),_createVNode(SearchFormLabel,{style:"width: 120px;"},{default:function(){return[_createTextVNode("出生年月：")]}}),_createVNode(SearchFormValue,null,{default:function(){return[_createVNode(RangePicker,{style:"width: 90%",value:[r.startTime,r.endTime],getPopupContainer:Resource.Dict.value.FormPopupContainer.value,onChange:function(e){a.startTime=e.length?e[0]:null,a.endTime=e.length?e[1]:null}},null)]}})]}}),_createVNode(SearchFormRow,null,{default:function(){return[_createVNode(SearchFormLabel,{style:"width: 120px;"},{default:function(){return[_createTextVNode("籍贯：")]}}),_createVNode(SearchFormValue,null,{default:function(){return[_createVNode(_Input,{style:"width: 90%",placeholder:"籍贯",value:r.homeTown,onChange:function(e){a.homeTown=e.target.value.trim()}},null)]}}),_createVNode(SearchFormLabel,{style:"width: 120px;"},{default:function(){return[_createTextVNode("身高：")]}}),_createVNode(SearchFormValue,null,{default:function(){return[_createVNode(_InputNumber,{style:"width: 90%",placeholder:"身高",value:r.height,onChange:function(e){a.height=e}},null)]}}),_createVNode(SearchFormLabel,{style:"width: 120px;"},{default:function(){return[_createTextVNode("体重：")]}}),_createVNode(SearchFormValue,null,{default:function(){return[_createVNode(_InputNumber,{style:"width: 90%",placeholder:"体重",value:r.width,onChange:function(e){a.width=e}},null)]}})]}}),_createVNode(SearchFormRow,null,{default:function(){return[_createVNode(SearchFormLabel,{style:"width: 120px;"},{default:function(){return[_createTextVNode("所在部门：")]}}),_createVNode(SearchFormValue,null,{default:function(){return[_createVNode(_Select,{style:"width: 90%",value:r.deptCode,onChange:function(e){a.deptCode=e},getPopupContainer:Resource.Dict.value.FormPopupContainer.value},{default:function(){return[_createVNode(Option,{value:""},{default:function(){return[_createTextVNode("全部")]}}),_createVNode(Option,{value:"0"},{default:function(){return[_createTextVNode("产品部")]}}),_createVNode(Option,{value:"1"},{default:function(){return[_createTextVNode("开发部")]}}),_createVNode(Option,{value:"2"},{default:function(){return[_createTextVNode("工程部")]}})]}})]}})]}})]}})},renderSearchFooterItems:function(){return null},showLoading:function(){return this.loading},getOrderFieldValue:function(){return"height"},fetchDataExecute:function(e){var t=this;return this.loading=!0,request.get({mock:!0,path:require("./mock.js").default}).then(function(e){t.dataSource={total:e.total,list:e.list},t.loading=!1})},getPagination:function(){return!!this.pagination&&this.$getPaginationSearchTable()}}});
//# sourceMappingURL=Table.js.map
