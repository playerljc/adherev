{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/\",r(r.s=2)}([function(e,t){e.exports=require(\"classnames\")},function(e,t){e.exports=require(\"@baifendian/adherev-util-intl\")},function(e,t,r){\"use strict\";r.r(t);var n,l,o=r(0),i=r.n(o),s=r(1),a=r.n(s),c=\"adherev-ui-scrollload\",d=\"empty\",u=\"error\",f={name:\"adv-scrollload\",props:{className:{type:String,default:\"\"},loadClassName:{type:String,default:\"\"},emptyClassName:{type:String,default:\"\"},errorClassName:{type:String,default:\"\"},distance:{type:Number,default:50}},data:function(){return{$lock:!1}},mounted:function(){this.initEvents()},methods:{initEvents:function(){var e=this.$refs;e.el.addEventListener(\"scroll\",this.onScroll),e.emptyEl.addEventListener(\"click\",this.onEmptyClick),e.errorEl.addEventListener(\"click\",this.onErrorClick)},onScroll:function(){var e=this,t=e.$refs,r=t.el,n=t.loadEl,l=t.errorEl,o=t.emptyEl,i=e.$data,s=e.distance,a=r.scrollHeight-r.offsetHeight,c=r.scrollTop;if(console.log(\"11111111111111\",c,a,s,Math.abs(c-a)<=s),Math.abs(c-a)<=s){if(i.$lock)return;i.$lock=!0,n.style.display=\"flex\",this.$emit(\"scroll-bottom\",(function(e){n.style.display=\"none\",e===d?o.style.display=\"block\":e===u&&(l.style.display=\"block\"),i.$lock=!1}))}},onEmptyClick:function(){this.$emit(\"empty-click\")},onErrorClick:function(){this.$emit(\"error-click\")},renderLoading:function(e){var t=this.$slots,r=this.loadClassName;return t.loading?e(\"div\",{attrs:{className:i()(c+\"-load\",r.split(\" \"))},ref:\"loadEl\"},[t.loading]):e(\"div\",{class:i()(c+\"-load\",\"standard\",r.split(\" \")),ref:\"loadEl\"},[a.a.tv(\"数据加载中\")])},renderEmpty:function(e){var t=this.$slots,r=this.emptyClassName;return t.empty?e(\"div\",{class:i()(c+\"-empty\",r.split(\" \")),ref:\"emptyEl\"},[t.empty]):e(\"div\",{class:i()(c+\"-empty\",r.split(\" \")),ref:\"emptyEl\"},[\"~\",a.a.tv(\"没有更多\")])},renderError:function(e){var t=this.$slots,r=this.errorClassName;return t.error?e(\"div\",{class:i()(c+\"-error\",r.split(\" \")),ref:\"errorEl\"},[t.error]):e(\"div\",{class:i()(c+\"-error\",r.split(\" \")),ref:\"errorEl\"},[a.a.tv(\"出现错误\")])},hideAll:function(){var e=this.$refs,t=e.loadEl,r=e.errorEl,n=e.emptyEl;t.style.display=\"none\",r.style.display=\"none\",n.style.display=\"none\"}},render:function(e){var t=this.$slots,r=this.className;return e(\"div\",{class:i()(c,r.split(\" \")),ref:\"el\"},[t.default,this.renderLoading(e),this.renderEmpty(e),this.renderError(e)])}},p=((l=n=f).install=function(e){e.component(l.displayName||l.name,n)},n);p.isUse=function(){return!0},p.use=function(e){return e.use(p)},f.ERROR=u,f.EMPTY=d,f.NORMAL=\"normal\";t.default=p}]).default;"],"names":["module","exports","e","t","r","n","l","i","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","require","a","u","f","name","props","className","type","String","loadClassName","emptyClassName","errorClassName","distance","Number","data","$lock","mounted","this","initEvents","methods","$refs","el","addEventListener","onScroll","emptyEl","onEmptyClick","errorEl","onErrorClick","loadEl","$data","scrollHeight","offsetHeight","scrollTop","console","log","Math","abs","style","display","$emit","renderLoading","$slots","loading","attrs","split","ref","class","tv","renderEmpty","empty","renderError","error","hideAll","render","install","component","displayName","isUse","use","ERROR","EMPTY","NORMAL"],"mappings":"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"}