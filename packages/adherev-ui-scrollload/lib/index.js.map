{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["module.exports=function(e){var t={};function r(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(l,n,function(t){return e[t]}.bind(null,n));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/\",r(r.s=3)}([function(e,t){e.exports=require(\"classnames\")},function(e,t){e.exports=require(\"@baifendian/adherev-util-intl\")},function(e,t){e.exports=require(\"@baifendian/adherev-util\")},function(e,t,r){\"use strict\";r.r(t);var l=r(0),n=r.n(l),i=r(1),o=r.n(i),s=\"adherev-ui-scrollload\",a=\"empty\",d=\"error\",u={name:\"adv-scrollload\",props:{className:{type:String,default:\"\"},loadClassName:{type:String,default:\"\"},emptyClassName:{type:String,default:\"\"},errorClassName:{type:String,default:\"\"},distance:{type:Number,default:50}},data:function(){return{$lock:!1}},mounted:function(){this.initEvents()},methods:{initEvents:function(){var e=this.$refs;e.el.addEventListener(\"scroll\",this.onScroll),e.emptyEl.addEventListener(\"click\",this.onEmptyClick),e.errorEl.addEventListener(\"click\",this.onErrorClick)},onScroll:function(){var e=this,t=e.$refs,r=t.el,l=t.loadEl,n=t.errorEl,i=t.emptyEl,o=e.$data,s=e.distance,u=r.scrollHeight-r.offsetHeight,c=r.scrollTop;if(console.log(\"11111111111111\",c,u,s,Math.abs(c-u)<=s),Math.abs(c-u)<=s){if(o.$lock)return;o.$lock=!0,l.style.display=\"flex\",this.$emit(\"scroll-bottom\",(function(e){l.style.display=\"none\",e===a?i.style.display=\"block\":e===d&&(n.style.display=\"block\"),o.$lock=!1}))}},onEmptyClick:function(){this.$emit(\"empty-click\")},onErrorClick:function(){this.$emit(\"error-click\")},renderLoading:function(e){var t=this.$slots,r=this.loadClassName;return t.loading?e(\"div\",{attrs:{className:n()(s+\"-load\",r.split(\" \"))},ref:\"loadEl\"},[t.loading]):e(\"div\",{class:n()(s+\"-load\",\"standard\",r.split(\" \")),ref:\"loadEl\"},[o.a.tv(\"数据加载中\")])},renderEmpty:function(e){var t=this.$slots,r=this.emptyClassName;return t.empty?e(\"div\",{class:n()(s+\"-empty\",r.split(\" \")),ref:\"emptyEl\"},[t.empty]):e(\"div\",{class:n()(s+\"-empty\",r.split(\" \")),ref:\"emptyEl\"},[\"~\",o.a.tv(\"没有更多\")])},renderError:function(e){var t=this.$slots,r=this.errorClassName;return t.error?e(\"div\",{class:n()(s+\"-error\",r.split(\" \")),ref:\"errorEl\"},[t.error]):e(\"div\",{class:n()(s+\"-error\",r.split(\" \")),ref:\"errorEl\"},[o.a.tv(\"出现错误\")])},hideAll:function(){var e=this.$refs,t=e.loadEl,r=e.errorEl,l=e.emptyEl;t.style.display=\"none\",r.style.display=\"none\",l.style.display=\"none\"}},render:function(e){var t=this.$slots,r=this.className;return e(\"div\",{class:n()(s,r.split(\" \")),ref:\"el\"},[t.default,this.renderLoading(e),this.renderEmpty(e),this.renderError(e)])}},c=r(2),f=r.n(c).a._util,p=f.withInstall,y=f.withVue,m=p(u);m.isUse=function(){return!0},m.use=function(e){e.use(m),y(e,\"ScrollLoad\",m)},u.ERROR=d,u.EMPTY=a,u.NORMAL=\"normal\";t.default=m}]).default;"],"names":["module","exports","e","t","r","l","n","i","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","require","a","u","name","props","className","type","String","loadClassName","emptyClassName","errorClassName","distance","Number","data","$lock","mounted","this","initEvents","methods","$refs","el","addEventListener","onScroll","emptyEl","onEmptyClick","errorEl","onErrorClick","loadEl","$data","scrollHeight","offsetHeight","scrollTop","console","log","Math","abs","style","display","$emit","renderLoading","$slots","loading","attrs","split","ref","class","tv","renderEmpty","empty","renderError","error","hideAll","render","f","_util","withInstall","y","withVue","isUse","use","ERROR","EMPTY","NORMAL"],"mappings":"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"}