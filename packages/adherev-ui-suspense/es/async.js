import _Empty from"ant-design-vue/es/empty";import{createVNode as _createVNode}from"vue";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.promise.js";import{defineComponent}from"vue";import{func}from"vue-types";import Suspense from"./suspense";var suspenseAsyncProps={isEmpty:func(),renderEmpty:func(),fetchAsyncData:func()},SuspenseAsync=defineComponent({name:"adv-suspense-async",mixins:[Suspense],props:suspenseAsyncProps,slots:["empty"],data:function(){return{loading:!1}},methods:{showLoading:function(){return this.loading},renderInner:function(){return this.isEmpty()?this.$slots.empty||this.renderEmpty||_createVNode(_Empty,null,null):this.$slots.default},resetAsync:function(){var e=this;return new Promise(function(n){e.isFirst=!0,e.isFirstLoading=!1,e.fetchData().then(function(){return n()}).catch(function(){return n()})})},fetchData:function(){var t=this;return new Promise(function(n){var e;if(t.fetchAsyncData)return t.loading=!0,null==(e=null==(e=null==(e=null==t?void 0:t.fetchAsyncData)?void 0:e.call(t))?void 0:e.then(function(){t.loading=!1,t.$nextTick(function(){n()})}))?void 0:e.catch(function(){t.loading=!1,t.$nextTick(function(){n()})});t.loading=!1,n()})}}});export default SuspenseAsync;export{suspenseAsyncProps};
//# sourceMappingURL=async.js.map
