import{isVNode as _isVNode,createVNode as _createVNode}from"vue";import"core-js/modules/es.object.to-string.js";import{Skeleton,Spin}from"ant-design-vue";import{defineComponent}from"vue";import{bool,object}from"vue-types";function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!_isVNode(e)}var selectorPrefix="adherev-ui-suspense",suspenseProps={reset:bool().def(!1),renderFirstLoading:object()};export default defineComponent({props:suspenseProps,slots:["firstLoading"],data:function(){return{isFirst:!0,isFirstLoading:!1}},watch:{reset:function(e){e&&(this.isFirst=!0,this.isFirstLoading=!1,this.$forceUpdate())}},mounted:function(){this.fetchData&&this.fetchData()},methods:{$renderNormalFirstLoading:function(){for(var e=[],t=0;t<7;t++)e.push(_createVNode(Skeleton,{key:t+1,loading:!0,active:!0,avatar:!0},null));return _createVNode("div",{class:"".concat(selectorPrefix,"-loading")},[e])},$renderFirstLoading:function(){var e=this.$slots;return e.firstLoading||this.renderFirstLoading?e.firstLoading||this.renderFirstLoading:this.$renderNormalFirstLoading()},$renderNormal:function(){var e;return _createVNode(Spin,{size:"large",spinning:this.showLoading()},_isSlot(e=this.renderInner())?e:{default:function(){return[e]}})},$renderDispatch:function(){var e=this.showLoading();return this.isFirst&&!this.isFirstLoading&&e&&(this.isFirstLoading=!0),this.isFirst&&this.isFirstLoading&&!e&&(this.isFirst=!1,this.isFirstLoading=!1),this.isFirst?this.$renderFirstLoading():this.$renderNormal()},$renderSuspense:function(){return _createVNode("div",{class:selectorPrefix},[this.$renderDispatch()])}},render:function(){return this.$renderSuspense()}});
//# sourceMappingURL=suspense.js.map
