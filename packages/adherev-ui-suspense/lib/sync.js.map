{"version":3,"file":"sync.js","sources":["sync.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.promise.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar ant_design_vue_1 = require(\"ant-design-vue\");\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar suspense_1 = tslib_1.__importDefault(require(\"./suspense\"));\nvar suspenseSyncProps = {\n  data: (0, vue_types_1.object)(),\n  isEmpty: (0, vue_types_1.func)(),\n  renderEmpty: (0, vue_types_1.func)()\n};\n/**\n * SuspenseSync\n * @description 传数据\n */\nvar SuspenseSync = (0, vue_1.defineComponent)({\n  name: 'adv-suspense-sync',\n  mixins: [suspense_1.default],\n  props: suspenseSyncProps,\n  slots: ['empty'],\n  watch: {\n    data: function data(newData, oldData) {\n      if (this.$data.$isLoading && JSON.stringify(newData || []) !== JSON.stringify(oldData || [])) {\n        this.loading = false;\n        this.$nextTick(function () {\n          this.$data.$isLoading = false;\n        });\n      }\n    }\n  },\n  data: function data() {\n    return {\n      loading: true,\n      $isLoading: true\n    };\n  },\n  methods: {\n    showLoading: function showLoading() {\n      return this.loading;\n    },\n    renderInner: function renderInner() {\n      if (!this.isEmpty()) return this.$slots.default;\n      return this.$slots.empty || this.renderEmpty || (0, _vue.createVNode)(ant_design_vue_1.Empty, null, null);\n    },\n    resetSync: function resetSync() {\n      var _this = this;\n      return new Promise(function (resolve) {\n        // 第一次\n        _this.isFirst = true;\n        // 第一次加载\n        _this.isFirstLoading = false;\n        _this.$data.$isLoading = true;\n        _this.loading = true;\n        _this.$nextTick(function () {\n          resolve();\n        });\n      });\n    }\n  }\n});\nexports.default = SuspenseSync;"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","ant_design_vue_1","vue_1","vue_types_1","suspense_1","__importDefault","suspenseSyncProps","data","object","isEmpty","func","renderEmpty","SuspenseSync","defineComponent","name","mixins","default","props","slots","watch","newData","oldData","this","$data","$isLoading","JSON","stringify","loading","$nextTick","methods","showLoading","renderInner","$slots","empty","createVNode","Empty","resetSync","_this","Promise","resolve","isFirst","isFirstLoading"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EAOpBC,SANJD,QAAQ,8CAA8C,EACtDA,QAAQ,wCAAwC,EAChDA,QAAQ,+BAA+B,EACvCE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACaL,QAAQ,OAAO,GACzBM,iBAAmBN,QAAQ,gBAAgB,EAC3CO,MAAQP,QAAQ,KAAK,EACrBQ,YAAcR,QAAQ,WAAW,EACjCS,WAAaR,QAAQS,gBAAgBV,QAAQ,YAAY,CAAC,EAC1DW,kBAAoB,CACtBC,MAAM,EAAIJ,YAAYK,QAAQ,EAC9BC,SAAS,EAAIN,YAAYO,MAAM,EAC/BC,aAAa,EAAIR,YAAYO,MAAM,CACrC,EAKIE,cAAe,EAAIV,MAAMW,iBAAiB,CAC5CC,KAAM,oBACNC,OAAQ,CAACX,WAAWY,SACpBC,MAAOX,kBACPY,MAAO,CAAC,SACRC,MAAO,CACLZ,KAAM,SAAca,EAASC,GACvBC,KAAKC,MAAMC,YAAcC,KAAKC,UAAUN,GAAW,EAAE,IAAMK,KAAKC,UAAUL,GAAW,EAAE,IACzFC,KAAKK,QAAU,CAAA,EACfL,KAAKM,UAAU,WACbN,KAAKC,MAAMC,WAAa,CAAA,CAC1B,CAAC,EAEL,CACF,EACAjB,KAAM,WACJ,MAAO,CACLoB,QAAS,CAAA,EACTH,WAAY,CAAA,CACd,CACF,EACAK,QAAS,CACPC,YAAa,WACX,OAAOR,KAAKK,OACd,EACAI,YAAa,WACX,OAAKT,KAAKb,QAAQ,EACXa,KAAKU,OAAOC,OAASX,KAAKX,cAAe,EAAIjB,KAAKwC,aAAajC,iBAAiBkC,MAAO,KAAM,IAAI,EAD5Eb,KAAKU,OAAOhB,OAE1C,EACAoB,UAAW,WACT,IAAIC,EAAQf,KACZ,OAAO,IAAIgB,QAAQ,SAAUC,GAE3BF,EAAMG,QAAU,CAAA,EAEhBH,EAAMI,eAAiB,CAAA,EACvBJ,EAAMd,MAAMC,WAAa,CAAA,EACzBa,EAAMV,QAAU,CAAA,EAChBU,EAAMT,UAAU,WACdW,EAAQ,CACV,CAAC,CACH,CAAC,CACH,CACF,CACF,CAAC,EACDxC,QAAQiB,QAAUJ"}