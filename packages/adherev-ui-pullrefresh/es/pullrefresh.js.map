{"version":3,"file":"pullrefresh.js","sources":["pullrefresh.js"],"sourcesContent":["import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport classNames from 'classnames';\nimport moment from 'moment';\nimport Intl from '@baifendian/adherev-util-intl';\nimport Resource from '@baifendian/adherev-util-resource';\nvar selectorPrefix = 'adherev-ui-pullrefresh';\nvar defaultImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHN0eWxlPSJ3aWR0aDozMDhweDtoZWlnaHQ6MzA4cHg7IiB2ZXJzaW9uPSIxLjEiIGlkPSLlm77lvaIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTAyNHB4IiBoZWlnaHQ9IjEwMjRweCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAyNCAxMDI0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCiAgPHBhdGggY2xhc3M9InN2Z3BhdGgiIGRhdGEtaW5kZXg9InBhdGhfMCIgZmlsbD0iI2VjZjBmMSIgZD0iTTc5Ny43NjQ0MiAzMjYuNTU4NDFjLTguODg0MTk5LTE1LjU2MzMyNy0yNTIuODgwMS0yODYuODE5MDE5LTI2OC4zNzk1MTItMzEzLjU2NzQ4OS0xMC4xMzA1NDQtMTcuNDQ4ODIzLTM0LjI1ODQ5NS0xNy4xOTMxNjItNDQuMzg5MDM4IDBDNDczLjY1MDkzOSAzMi4yNjEzMjQgMjMwLjk5NzI1NSAzMDQuNjM1NTMgMjE4LjM3NDAyMyAzMjcuNDIxMjY0Yy05LjIzNTczMiAxNi41NTQwMTEgMC45NTg3MjcgMzguMzgxMDE5IDIxLjk1NDgzNyAzOC4zODEwMTlsMTE5LjkwNDczMSAwIDAgMjU2LjQ5MTMwMyAwIDM2Ljc4MzE0MSAyOTEuODM2MzU0IDAgMC0yOTMuMzA2NDAyIDEyMy41Nzk4NDkgMEM3OTQuNjk2NDk1IDM2NS43NzAzMjUgODA4Ljk0OTU2MiAzNDYuMTE2NDMxIDc5Ny43NjQ0MiAzMjYuNTU4NDF6IiAvPg0KPHBhdGggY2xhc3M9InN2Z3BhdGgiIGRhdGEtaW5kZXg9InBhdGhfMSIgZmlsbD0iI2VjZjBmMSIgZD0iTTM2MC4yMDE2MzMgNjg5LjY5MjA2MWwyOTIuMzE1NzE4IDAgMCA5MC45MTkyMzItMjkyLjMxNTcxOCAwIDAtOTAuOTE5MjMyWiIgLz4NCjxwYXRoIGNsYXNzPSJzdmdwYXRoIiBkYXRhLWluZGV4PSJwYXRoXzIiIGZpbGw9IiNlY2YwZjEiIGQ9Ik0zNjAuMjAxNjMzIDg0MC45MTUxOTFsMjkyLjMxNTcxOCAwIDAgNjAuNTkxNTE2LTI5Mi4zMTU3MTggMCAwLTYwLjU5MTUxNloiIC8+DQo8cGF0aCBjbGFzcz0ic3ZncGF0aCIgZGF0YS1pbmRleD0icGF0aF8zIiBmaWxsPSIjZWNmMGYxIiBkPSJNMzYwLjIwMTYzMyA5OTIuMzkzOTgybDI5MC40MzAyMjIgMCAwIDMwLjI5NTc1OC0yOTAuNDMwMjIyIDAgMC0zMC4yOTU3NThaIiAvPg0KDQo8L3N2Zz4NCg==';\nvar PullRefresh = {\n  name: 'adv-pullrefresh',\n  props: {\n    className: {\n      type: String,\n      default: ''\n    },\n    scrollClassName: {\n      type: String,\n      default: ''\n    },\n    pullHeight: {\n      type: Number,\n      default: 200\n    },\n    isShowUpdateTime: {\n      type: Boolean,\n      default: true\n    },\n    updateTime: {\n      type: Number,\n      default: moment().valueOf()\n    },\n    updateTimeFormat: {\n      type: String,\n      default: Resource.Dict.value.ResourceMomentFormat18.value()\n    },\n    loadingAnimation: {\n      type: String,\n      default: 'la-ball-circus la-dark',\n      isRequired: false\n    },\n    renderIcon: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderCanLabel: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderLabel: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderLoadingAnimation: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    }\n  },\n  slots: ['icon', 'canLabel', 'label', 'loadingAnimation'],\n  emits: ['pull-start', 'pull-can-refresh', 'pull-bottom', 'pull-rebound', 'pull-refresh'],\n  data: function data() {\n    return {\n      isCan: false,\n      $maskEl: null,\n      $el: null,\n      $iconEl: null,\n      $scrollEl: null,\n      $triggerInnerEl: null,\n      $pullHeight: 200,\n      $refreshHeight: 0,\n      $startPageY: null,\n      $isDownPull: false,\n      $isTop: true\n    };\n  },\n  computed: {\n    getScrollClassName: function getScrollClassName() {\n      var scrollClassName = this.scrollClassName;\n      return classNames(selectorPrefix + \"-scroll\", scrollClassName || '');\n    }\n  },\n  methods: {\n    $renderIcon: function $renderIcon(h) {\n      if (this.$slots.icon) {\n        return h(\"div\", {\n          \"class\": selectorPrefix + \"-trigger-icon\"\n        }, [h(\"div\", {\n          \"class\": selectorPrefix + \"-trigger-icon-inner\",\n          \"ref\": \"iconElRef\"\n        }, [this.$slots.icon])]);\n      }\n\n      if (this.renderIcon) {\n        return h(\"div\", {\n          \"class\": selectorPrefix + \"-trigger-icon\"\n        }, [h(\"div\", {\n          \"class\": selectorPrefix + \"-trigger-icon-inner\",\n          \"ref\": \"iconElRef\"\n        }, [this.renderIcon])]);\n      }\n\n      return h(\"div\", {\n        \"class\": selectorPrefix + \"-trigger-icon\"\n      }, [h(\"img\", {\n        \"class\": selectorPrefix + \"-trigger-icon-inner\",\n        \"attrs\": {\n          \"src\": defaultImg,\n          \"alt\": \"\"\n        },\n        \"ref\": \"iconElRef\"\n      })]); // return $slots.icon ? (\n      //   <div class={`${selectorPrefix}-trigger-icon`}>\n      //     <div class={`${selectorPrefix}-trigger-icon-inner`} ref=\"iconElRef\">\n      //       {$slots.icon}\n      //     </div>\n      //   </div>\n      // ) : (\n      //   <div class={`${selectorPrefix}-trigger-icon`}>\n      //     <img\n      //       class={`${selectorPrefix}-trigger-icon-inner`}\n      //       src={defaultImg}\n      //       alt=\"\"\n      //       ref=\"iconElRef\"\n      //     />\n      //   </div>\n      // );\n    },\n    $renderLabel: function $renderLabel(h) {\n      return h(\"p\", {\n        \"class\": selectorPrefix + \"-trigger-label\"\n      }, [this.isCan ? this.$slots.canLabel || this.renderCanLabel || h(\"span\", [Intl.tv('松开刷新')]) : this.$slots.label || this.renderLabel || h(\"span\", [Intl.tv('下拉刷新')])]);\n    },\n    $renderUpdateTime: function $renderUpdateTime(h) {\n      var _a = this,\n          isShowUpdateTime = _a.isShowUpdateTime,\n          updateTimeFormat = _a.updateTimeFormat,\n          preUpdateTime = _a.preUpdateTime;\n\n      return isShowUpdateTime ? h(\"p\", {\n        \"class\": selectorPrefix + \"-trigger-update\"\n      }, [Intl.tv('更新时间'), \"\\uFF1A\", h(\"span\", {\n        \"class\": selectorPrefix + \"-trigger-update-label\"\n      }, [moment(preUpdateTime).format(updateTimeFormat)])]) : null;\n    },\n    $renderLoadingAnimation: function $renderLoadingAnimation(h) {\n      var _a = this,\n          $slots = _a.$slots,\n          loadingAnimation = _a.loadingAnimation;\n\n      if (!!loadingAnimation) {\n        return h(\"div\", {\n          \"class\": classNames(selectorPrefix + \"-trigger-refresh\", loadingAnimation || ''),\n          \"ref\": \"refreshElRef\"\n        }, [h(\"div\"), h(\"div\"), h(\"div\"), h(\"div\"), h(\"div\")]);\n      }\n\n      return h(\"div\", {\n        \"class\": selectorPrefix + \"-trigger-refresh\",\n        \"ref\": \"refreshElRef\"\n      }, [$slots.loadingAnimation || this.renderLoadingAnimation]);\n    },\n    $renderMask: function $renderMask() {\n      var $data = this.$data;\n      $data.$maskEl = document.querySelector(\".\" + selectorPrefix + \"-mask\");\n\n      if (!$data.$maskEl) {\n        $data.$maskEl = document.createElement('div');\n        $data.$maskEl.className = selectorPrefix + \"-mask\";\n        document.body.appendChild($data.$maskEl);\n      }\n    },\n\n    /**\n     * getPullHeight\n     * @private\n     * @return number\n     */\n    getPullHeight: function getPullHeight() {\n      var _a = this,\n          $data = _a.$data,\n          pullHeight = _a.pullHeight;\n\n      if (pullHeight <= 0) {\n        return 200;\n      } else {\n        if (pullHeight > $data.$scrollEl.clientHeight) {\n          return $data.$scrollEl.clientHeight;\n        } else {\n          return pullHeight;\n        }\n      }\n    },\n    addEvents: function addEvents() {\n      var $scrollEl = this.$data.$scrollEl;\n      $scrollEl.addEventListener('touchstart', this.onTouchStart);\n      $scrollEl.addEventListener('mousedown', this.onTouchStart);\n      $scrollEl.addEventListener('scroll', this.onScroll);\n    },\n    removeEvents: function removeEvents() {\n      var $scrollEl = this.$data.$scrollEl;\n      $scrollEl.removeEventListener('mousemove', this.onTouchMove);\n      $scrollEl.removeEventListener('mouseup', this.onTouchEnd);\n      $scrollEl.removeEventListener('touchmove', this.onTouchMove);\n      $scrollEl.removeEventListener('touchend', this.onTouchEnd);\n    },\n    onTouchStart: function onTouchStart(e) {\n      var $data = this.$data;\n      this.trigger('pull-start');\n      $data.$startPageY = e.changedTouches ? e.changedTouches[0].pageY : e.pageY;\n      var $scrollEl = $data.$scrollEl;\n      $scrollEl.addEventListener('touchmove', this.onTouchMove);\n      $scrollEl.addEventListener('mousemove', this.onTouchMove);\n      $scrollEl.addEventListener('touchend', this.onTouchEnd);\n      $scrollEl.addEventListener('mouseup', this.onTouchEnd);\n    },\n    onTouchMove: function onTouchMove(e) {\n      var $data = this.$data;\n      var $scrollEl = $data.$scrollEl,\n          $el = $data.$el,\n          $startPageY = $data.$startPageY,\n          $refreshHeight = $data.$refreshHeight,\n          $iconEl = $data.$iconEl,\n          $pullHeight = $data.$pullHeight;\n      $scrollEl.style.overflow = 'hidden';\n      var targetY = e.changedTouches ? e.changedTouches[0].pageY : e.pageY;\n      var difference = targetY - $startPageY;\n      var distance = Math.abs(difference); // 中线下\n\n      if (difference > 0) {\n        e.preventDefault();\n        $data.$isDownPull = true; // 正常拉\n\n        if (distance < $data.$pullHeight) {\n          this.translateY($scrollEl, distance + \"px\", 0);\n          this.translateY($el, \"calc(-100% + \" + distance + \"px)\", 0); // 具备刷新条件\n\n          if (distance >= $refreshHeight + 80) {\n            // console.log('3.具备刷新条件');\n            this.rotateIcon($iconEl, 0, 150);\n            this.isCan = true;\n            this.trigger('pull-can-refresh');\n          } // 不具备刷新条件\n          else {\n            this.rotateIcon($iconEl, 180, 150);\n            this.isCan = false;\n          }\n\n          $el.style.display = 'flex';\n        } // 越界了\n        else {\n          this.translateY($scrollEl, $pullHeight + \"px\", 0);\n          this.translateY($el, \"calc(-100% + \" + $pullHeight + \"px)\", 0);\n          this.rotateIcon($iconEl, 0, 150); // console.log('4.拉动到了底部');\n\n          this.isCan = true;\n          this.trigger('pull-bottom');\n        }\n      } // 中线上\n      else if ($data.$isDownPull) {\n        e.preventDefault();\n        this.translateY($scrollEl, '0px', 0);\n        this.translateY($el, 'calc(-100% + 0px)', 0);\n        this.rotateIcon($iconEl, 180, 0);\n      } // 其他\n      else {\n        this.clear();\n      }\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      var _a = this.$data,\n          $startPageY = _a.$startPageY,\n          $pullHeight = _a.$pullHeight,\n          $refreshHeight = _a.$refreshHeight;\n      var targetY = e.changedTouches ? e.changedTouches[0].pageY : e.pageY;\n      var difference = targetY - $startPageY;\n      var distance = Math.abs(difference); // 中线下\n\n      if (difference > 0) {\n        // 正常拉\n        if (distance < $pullHeight) {\n          if (distance >= $refreshHeight + 80) {\n            this.refresh();\n          } else {\n            // console.log('2.没有具备刷新条件弹回');\n            // self.events.trigger('pullRebound');\n            this.trigger('pull-rebound');\n            this.reset();\n          }\n        } // 越界了\n        else {\n          this.refresh();\n        }\n      } // 中线上\n      else {\n        this.clear();\n      }\n    },\n    onScroll: function onScroll(e) {\n      var $data = this.$data;\n      var $scrollEl = $data.$scrollEl;\n\n      if (e.target.scrollTop === 0) {\n        $data.$isTop = true;\n        $scrollEl.addEventListener('touchstart', this.onTouchStart);\n        $scrollEl.addEventListener('mousedown', this.onTouchStart);\n      } else if ($data.$isTop) {\n        $data.$isTop = false;\n        $scrollEl.removeEventListener('touchstart', this.onTouchStart);\n        $scrollEl.removeEventListener('mousedown', this.onTouchStart);\n      }\n    },\n    translateY: function translateY(el, y, duration) {\n      if (duration === void 0) {\n        duration = 0;\n      }\n\n      el.style.transition = el.style.webkitTransition = \"transform \" + duration + \"ms ease\";\n      el.style.transform = el.style.webkitTransform = \"translate3d(0,\" + y + \",0)\";\n    },\n    rotateIcon: function rotateIcon(el, distance, duration) {\n      if (duration === void 0) {\n        duration = 0;\n      }\n\n      var deg = distance;\n      el.style.transition = el.style.webkitTransition = \"transform \" + duration + \"ms linear\";\n      el.style.transform = el.style.webkitTransform = \"rotate(\" + deg + \"deg)\";\n    },\n    trigger: function trigger(action, params) {\n      this.$emit(action, params);\n    },\n    clear: function clear() {\n      this.removeEvents();\n      var $data = this.$data;\n      $data.$isDownPull = false;\n      $data.$isTop = true;\n      $data.$el.style.display = 'flex';\n      this.$refs.refreshElRef.style.display = 'none';\n      $data.$triggerInnerEl.style.display = 'flex';\n      this.rotateIcon($data.$iconEl, 180, 0);\n      $data.$scrollEl.style.overflowY = 'auto';\n      $data.$maskEl.style.display = 'none';\n    },\n    refresh: function refresh() {\n      var self = this;\n\n      function onTransitionEnd() {\n        $triggerInnerEl.style.display = 'none';\n        self.$refs.refreshElRef.style.display = 'block';\n        self.trigger('pull-refresh', self);\n        $scrollEl.removeEventListener('transitionend', onTransitionEnd);\n        self.preUpdateTime = moment().valueOf();\n      }\n\n      var _a = this.$data,\n          $maskEl = _a.$maskEl,\n          $scrollEl = _a.$scrollEl,\n          $el = _a.$el,\n          $iconEl = _a.$iconEl,\n          $refreshHeight = _a.$refreshHeight,\n          $triggerInnerEl = _a.$triggerInnerEl;\n      $maskEl.style.display = 'block';\n      this.removeEvents();\n      $scrollEl.addEventListener('transitionend', onTransitionEnd);\n      this.translateY($scrollEl, $refreshHeight + \"px\", 500);\n      this.translateY($el, \"calc(-100% + \" + $refreshHeight + \"px)\", 500);\n      this.rotateIcon($iconEl, 180, 300);\n    },\n    reset: function reset() {\n      var _a = this.$data,\n          $scrollEl = _a.$scrollEl,\n          $triggerInnerEl = _a.$triggerInnerEl,\n          $el = _a.$el;\n\n      function onTransitionEnd() {\n        $scrollEl.removeEventListener('transitionend', onTransitionEnd);\n        $triggerInnerEl.style.display = 'flex';\n      }\n\n      this.clear();\n      $scrollEl.addEventListener('transitionend', onTransitionEnd);\n      this.translateY($scrollEl, '0px', 200);\n      this.translateY($el, 'calc(-100% + 0px)', 200);\n    },\n    resetUpdateTime: function resetUpdateTime(updateTime) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this.preUpdateTime = updateTime || moment().valueOf();\n        resolve();\n      });\n    },\n\n    /**\n     * getUpdateTime\n     * @return number\n     */\n    getUpdateTime: function getUpdateTime() {\n      return this.preUpdateTime;\n    }\n  },\n  created: function created() {\n    this.$renderMask();\n  },\n  mounted: function mounted() {\n    var _a = this,\n        $data = _a.$data,\n        $refs = _a.$refs;\n\n    $data.$el = $refs.elRef;\n    $data.$iconEl = $refs.iconElRef;\n    $data.$scrollEl = $refs.scrollElRef;\n    $data.$triggerInnerEl = $refs.triggerInnerElRef;\n    $data.$pullHeight = this.getPullHeight();\n    $data.$refreshHeight = $data.$el.clientHeight;\n    this.addEvents();\n  },\n  render: function render(h) {\n    var $slots = this.$slots;\n    return h(\"div\", {\n      \"class\": selectorPrefix\n    }, [h(\"div\", {\n      \"class\": this.getScrollClassName,\n      \"ref\": \"scrollElRef\"\n    }, [$slots.default]), h(\"div\", {\n      \"class\": selectorPrefix + \"-trigger\",\n      \"ref\": \"elRef\"\n    }, [h(\"div\", {\n      \"class\": selectorPrefix + \"-trigger-inner\",\n      \"ref\": \"triggerInnerElRef\"\n    }, [this.$renderIcon(h), this.$renderLabel(h), this.$renderUpdateTime(h)]), this.$renderLoadingAnimation(h)])]);\n  }\n};\nexport default PullRefresh;"],"names":["classNames","moment","Intl","Resource","selectorPrefix","defaultImg","PullRefresh","name","props","className","type","String","default","scrollClassName","pullHeight","Number","isShowUpdateTime","Boolean","updateTime","valueOf","updateTimeFormat","Dict","value","ResourceMomentFormat18","loadingAnimation","isRequired","renderIcon","Object","renderCanLabel","renderLabel","renderLoadingAnimation","slots","emits","data","isCan","$maskEl","$el","$iconEl","$scrollEl","$triggerInnerEl","$pullHeight","$refreshHeight","$startPageY","$isDownPull","$isTop","computed","getScrollClassName","this","methods","$renderIcon","h","$slots","icon","class","ref","attrs","src","alt","$renderLabel","canLabel","tv","label","$renderUpdateTime","_a","preUpdateTime","format","$renderLoadingAnimation","$renderMask","$data","document","querySelector","createElement","body","appendChild","getPullHeight","clientHeight","addEvents","addEventListener","onTouchStart","onScroll","removeEvents","removeEventListener","onTouchMove","onTouchEnd","e","trigger","changedTouches","pageY","style","overflow","difference","distance","Math","abs","preventDefault","translateY","rotateIcon","display","clear","refresh","reset","target","scrollTop","el","y","duration","transition","webkitTransition","transform","webkitTransform","deg","action","params","$emit","$refs","refreshElRef","overflowY","self","onTransitionEnd","resetUpdateTime","_this","Promise","resolve","getUpdateTime","created","mounted","elRef","iconElRef","scrollElRef","triggerInnerElRef","render"],"mappings":"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"}