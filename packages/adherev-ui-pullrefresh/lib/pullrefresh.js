"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),adherev_util_intl_1=(0,tslib_1.__importDefault)(require("@baifendian/adherev-util-intl")),adherev_util_resource_1=(0,tslib_1.__importDefault)(require("@baifendian/adherev-util-resource")),classnames_1=(0,tslib_1.__importDefault)(require("classnames")),moment_1=(0,tslib_1.__importDefault)(require("moment")),vue_1=require("vue"),vue_types_1=require("vue-types"),selectorPrefix="adherev-ui-pullrefresh",defaultImg="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHN0eWxlPSJ3aWR0aDozMDhweDtoZWlnaHQ6MzA4cHg7IiB2ZXJzaW9uPSIxLjEiIGlkPSLlm77lvaIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTAyNHB4IiBoZWlnaHQ9IjEwMjRweCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAyNCAxMDI0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCiAgPHBhdGggY2xhc3M9InN2Z3BhdGgiIGRhdGEtaW5kZXg9InBhdGhfMCIgZmlsbD0iI2VjZjBmMSIgZD0iTTc5Ny43NjQ0MiAzMjYuNTU4NDFjLTguODg0MTk5LTE1LjU2MzMyNy0yNTIuODgwMS0yODYuODE5MDE5LTI2OC4zNzk1MTItMzEzLjU2NzQ4OS0xMC4xMzA1NDQtMTcuNDQ4ODIzLTM0LjI1ODQ5NS0xNy4xOTMxNjItNDQuMzg5MDM4IDBDNDczLjY1MDkzOSAzMi4yNjEzMjQgMjMwLjk5NzI1NSAzMDQuNjM1NTMgMjE4LjM3NDAyMyAzMjcuNDIxMjY0Yy05LjIzNTczMiAxNi41NTQwMTEgMC45NTg3MjcgMzguMzgxMDE5IDIxLjk1NDgzNyAzOC4zODEwMTlsMTE5LjkwNDczMSAwIDAgMjU2LjQ5MTMwMyAwIDM2Ljc4MzE0MSAyOTEuODM2MzU0IDAgMC0yOTMuMzA2NDAyIDEyMy41Nzk4NDkgMEM3OTQuNjk2NDk1IDM2NS43NzAzMjUgODA4Ljk0OTU2MiAzNDYuMTE2NDMxIDc5Ny43NjQ0MiAzMjYuNTU4NDF6IiAvPg0KPHBhdGggY2xhc3M9InN2Z3BhdGgiIGRhdGEtaW5kZXg9InBhdGhfMSIgZmlsbD0iI2VjZjBmMSIgZD0iTTM2MC4yMDE2MzMgNjg5LjY5MjA2MWwyOTIuMzE1NzE4IDAgMCA5MC45MTkyMzItMjkyLjMxNTcxOCAwIDAtOTAuOTE5MjMyWiIgLz4NCjxwYXRoIGNsYXNzPSJzdmdwYXRoIiBkYXRhLWluZGV4PSJwYXRoXzIiIGZpbGw9IiNlY2YwZjEiIGQ9Ik0zNjAuMjAxNjMzIDg0MC45MTUxOTFsMjkyLjMxNTcxOCAwIDAgNjAuNTkxNTE2LTI5Mi4zMTU3MTggMCAwLTYwLjU5MTUxNloiIC8+DQo8cGF0aCBjbGFzcz0ic3ZncGF0aCIgZGF0YS1pbmRleD0icGF0aF8zIiBmaWxsPSIjZWNmMGYxIiBkPSJNMzYwLjIwMTYzMyA5OTIuMzkzOTgybDI5MC40MzAyMjIgMCAwIDMwLjI5NTc1OC0yOTAuNDMwMjIyIDAgMC0zMC4yOTU3NThaIiAvPg0KDQo8L3N2Zz4NCg==",pullRefreshProps={scrollClassName:(0,vue_types_1.string)().def(""),scrollStyle:(0,vue_types_1.object)().def({}),pullHeight:(0,vue_types_1.number)().def(200),isShowUpdateTime:(0,vue_types_1.bool)().def(!0),updateTime:(0,vue_types_1.number)().def((0,moment_1.default)().valueOf()),updateTimeFormat:(0,vue_types_1.string)().def(adherev_util_resource_1.default.Dict.value.ResourceMomentFormatFull.value),loadingAnimation:(0,vue_types_1.string)().def("la-ball-circus la-dark")};exports.default=(0,vue_1.defineComponent)({name:"adv-pullrefresh",props:pullRefreshProps,emits:["pull-start","pull-can-refresh","pull-bottom","pull-rebound","pull-refresh"],setup:function(l,e){var r=e.slots,e=(e.emit,e.expose),t=(0,vue_1.ref)(),i=(0,vue_1.ref)(),u=(0,vue_1.ref)(),a=(0,vue_1.ref)(),s=(0,vue_1.ref)(),n=!1,c=null,o=null,d=(0,vue_1.computed)(function(){return classnames_1.default.apply(void 0,(0,tslib_1.__spreadArray)(["".concat(selectorPrefix,"-scroll")],(l.scrollClassName||"").split(/\s+/),!1))});return(0,vue_1.onMounted)(function(){}),e({resetUpdateTime:function(l){return new Promise(function(e){c=l||(0,moment_1.default)().valueOf(),e(null)})},getUpdateTime:function(){return c}}),(o=document.querySelector(".".concat(selectorPrefix,"-mask")))||((o=document.createElement("div")).className="".concat(selectorPrefix,"-mask"),document.body.appendChild(o)),function(){var e;return(0,_vue.createVNode)("div",{class:selectorPrefix},[(0,_vue.createVNode)("div",{class:d.value,ref:u},[null===(e=null==r?void 0:r.default)||void 0===e?void 0:e.call(r)]),(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-trigger"),ref:s},[(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-trigger-inner"),ref:a},[r.icon?(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-trigger-icon")},[(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-trigger-icon-inner"),ref:t},[r.icon()])]):(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-trigger-icon")},[(0,_vue.createVNode)("img",{class:"".concat(selectorPrefix,"-trigger-icon-inner"),src:defaultImg,alt:"",ref:t},null)]),(0,_vue.createVNode)("p",{class:"".concat(selectorPrefix,"-trigger-label")},[n?r.canLabel||(0,_vue.createVNode)("span",null,[adherev_util_intl_1.default.tv("松开刷新")]):r.label||(0,_vue.createVNode)("span",null,[adherev_util_intl_1.default.tv("下拉刷新")])]),l.isShowUpdateTime?(0,_vue.createVNode)("p",{class:"".concat(selectorPrefix,"-trigger-update")},[adherev_util_intl_1.default.tv("更新时间"),(0,_vue.createTextVNode)("："),(0,_vue.createVNode)("span",{class:"".concat(selectorPrefix,"-trigger-update-label")},[(0,moment_1.default)(c).format(l.updateTimeFormat)])]):null]),l.loadingAnimation?(0,_vue.createVNode)("div",{class:classnames_1.default.apply(void 0,(0,tslib_1.__spreadArray)(["".concat(selectorPrefix,"-trigger-refresh")],(l.loadingAnimation||"").split(/\s+/),!1)),ref:i},[(0,_vue.createVNode)("div",null,null),(0,_vue.createVNode)("div",null,null),(0,_vue.createVNode)("div",null,null),(0,_vue.createVNode)("div",null,null),(0,_vue.createVNode)("div",null,null)]):(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-trigger-refresh"),ref:i},[null===(e=null==r?void 0:r.loadingAnimation)||void 0===e?void 0:e.call(r)])])])}}});
//# sourceMappingURL=pullrefresh.js.map
