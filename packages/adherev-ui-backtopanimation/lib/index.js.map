{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=3)}([function(e,t){e.exports=require(\"classnames\")},function(e,t){e.exports=require(\"@baifendian/adherev-util-resource\")},function(e,t){e.exports=require(\"@baifendian/adherev-util\")},function(e,t,n){\"use strict\";n.r(t);var r=n(0),o=n.n(r),i=n(1),l=\"adherev-ui-backtopanimation\",a={name:\"adv-backtopanimation\",props:{className:{type:String,default:\"\"},zIndex:{type:[String,Number],default:n.n(i).a.Dict.value.ResourceNormalMaxZIndex.value},duration:{type:Number,default:300},onTarget:{type:Function,default:function(){return window}},onTrigger:{type:Function},onScrollTop:{type:Function}},data:function(){return{$maskEl:null,$scrollEl:null,$key:!1}},mounted:function(){this.initScrollEvent(),this.renderMask()},beforeDestroy:function(){var e=this.$data;e.$maskEl&&e.$maskEl.parentElement.removeChild(e.$maskEl)},methods:{trigger:function(){if(!this.$data.$key){var e=this;this.$emit(\"trigger\",(function(){var t=e.$data,n=e.duration;t.$key=!0,t.$maskEl.style.display=\"block\";var r=t.$scrollEl.scrollTop,o=t.$scrollEl.scrollHeight/(n/(screen.updateInterval||16.7)+(n%(screen.updateInterval||16.7)!=0?1:0));window.requestAnimationFrame((function n(){function i(){t.$maskEl.style.display=\"none\",t.$key=!1}t.$scrollEl.scrollTop<0?r+o>0?r=0:r+=o:r-o<0?r=0:r-=o,t.$scrollEl.scrollTop=r,e.$emit(\"scrollTop\",r),t.$scrollEl.scrollTop<0?r>=0?i():window.requestAnimationFrame(n):r<=0?i():window.requestAnimationFrame(n)}))}))}},initScrollEvent:function(){var e=this;this.$emit(\"target\",(function(t){var n=e.$data,r=e.$refs;n.$scrollEl=t,n.$scrollEl.addEventListener(\"scroll\",(function(){0!==n.$scrollEl.scrollTop?window.requestAnimationFrame((function(){r.ref.style.display=\"block\"})):window.requestAnimationFrame((function(){r.ref.style.display=\"none\"}))}),!1)}))},renderMask:function(){var e=this.$data;e.$maskEl=document.body.querySelector(\".\"+l+\"-mask\"),e.$maskEl||(e.$maskEl=document.createElement(\"div\"),e.$maskEl.className=l+\"-mask\",document.body.appendChild(e.$maskEl))}},render:function(e){var t=this,n=this.className;return e(\"div\",{class:o()(l,n.split(\" \")),ref:\"ref\",on:{click:function(){t.trigger()}}})}},u=n(2),s=n.n(u).a._util,c=s.withInstall,d=s.withVue,f=c(a);f.isUse=function(){return!0},f.use=function(e){e.use(f),d(e,\"BackTopAnimation\",f)};t.default=f}]).default;"],"names":["module","exports","e","t","n","r","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","require","a","name","props","className","type","String","zIndex","Number","Dict","ResourceNormalMaxZIndex","duration","onTarget","Function","window","onTrigger","onScrollTop","data","$maskEl","$scrollEl","$key","mounted","this","initScrollEvent","renderMask","beforeDestroy","$data","parentElement","removeChild","methods","trigger","$emit","style","display","scrollTop","scrollHeight","screen","updateInterval","requestAnimationFrame","$refs","addEventListener","ref","document","body","querySelector","createElement","appendChild","render","class","split","on","click","u","_util","withInstall","withVue","f","isUse","use"],"mappings":"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"}