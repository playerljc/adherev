{"version":3,"file":"PlayGroundMulit.js","sources":["PlayGroundMulit.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.promise.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar adherev_ui_conditionalrender_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_ui_contextmenu_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-ui-contextmenu\"));\nvar omit_js_1 = (0, tslib_1.__importDefault)(require(\"omit.js\"));\n\nvar vue_1 = require(\"vue\");\n\nvar vue_types_1 = require(\"vue-types\");\n\nvar Card_1 = (0, tslib_1.__importDefault)(require(\"./Card\"));\nvar CodePanel_1 = (0, tslib_1.__importDefault)(require(\"./CodePanel\"));\nvar CodeTabPanel_1 = (0, tslib_1.__importDefault)(require(\"./CodeTabPanel\"));\nvar PlayGroundBase_1 = (0, tslib_1.__importStar)(require(\"./PlayGroundBase\"));\nvar selectPrefix = 'adherev-ui-playground-mulit';\nvar codeType;\n\n(function (codeType) {\n  codeType[\"CodePanel\"] = \"CodePanel\";\n  codeType[\"CodeTabPanel\"] = \"CodeTabPanel\";\n})(codeType || (codeType = {}));\n\nvar playGroundMulitProps = (0, tslib_1.__assign)((0, tslib_1.__assign)({}, PlayGroundBase_1.playGroundBaseProps), {\n  defaultConfig: (0, vue_types_1.array)().def([])\n});\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-playground-mulit',\n  props: playGroundMulitProps,\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n    var others = (0, omit_js_1.default)(PlayGroundBase_1.playGroundBaseProps, ['getClipboardText', 'defaultExpand']);\n    var expand = (0, vue_1.ref)(props.defaultExpand);\n    var config = (0, vue_1.ref)(props.defaultConfig);\n    var configMap = new Map([[codeType.CodePanel, {\n      render: function render(config) {\n        return (// @ts-ignore\n          (0, _vue.createVNode)(CodePanel_1.default, config, null)\n        );\n      },\n      getCodeText: function getCodeText(config) {\n        return config.codeText;\n      }\n    }], [codeType.CodeTabPanel, {\n      render: function render(_config, index) {\n        return (// @ts-ignore\n          (0, _vue.createVNode)(CodeTabPanel_1.default, (0, _vue.mergeProps)(_config, {\n            \"onChange\": function onChange(key) {\n              // @ts-ignore\n              config.value[index].active = key;\n            }\n          }), null)\n        );\n      },\n      getCodeText: function getCodeText(config) {\n        var _a;\n\n        return (_a = config.config.find(function (c) {\n          return c.key === config.active;\n        })) === null || _a === void 0 ? void 0 : _a.codeText;\n      }\n    }]]);\n\n    var renderCodePanelView = function renderCodePanelView(config, index) {\n      var _a;\n\n      return (0, _vue.createVNode)(\"div\", {\n        \"key\": \"\".concat(index),\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap\")\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap-title\")\n      }, [config.title]), (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap-inner\")\n      }, [(_a = configMap.get(config.type || codeType.CodePanel)) === null || _a === void 0 ? void 0 : _a.render((0, omit_js_1.default)(config, ['title', 'type']), index)])]);\n    };\n\n    var getClipboardText = function getClipboardText(e) {\n      return new Promise(function (resolve) {\n        adherev_ui_contextmenu_1.default.open(config.value.map(function (c, index) {\n          return {\n            name: c.title,\n            id: \"\".concat(index),\n            separation: false,\n            attribute: {\n              config: c\n            },\n            children: []\n          };\n        }), // @ts-ignore\n        {\n          width: 200,\n          x: e.clientX,\n          y: e.clientY,\n          maskClosable: true,\n          handler: function handler(id, attribute) {\n            var _a;\n\n            resolve((_a = configMap === null || configMap === void 0 ? void 0 : configMap.get(attribute.config.type || codeType.CodePanel)) === null || _a === void 0 ? void 0 : _a.getCodeText(attribute.config));\n          }\n        });\n      });\n    };\n\n    var onExpand = function onExpand(_expand) {\n      expand.value = !_expand;\n    };\n\n    (0, vue_1.watch)(function () {\n      return props.defaultExpand;\n    }, function (newValue) {\n      expand.value = newValue;\n    });\n    (0, vue_1.watch)(function () {\n      return props.defaultConfig;\n    }, function (newValue) {\n      config.value = newValue;\n    });\n    return function () {\n      var _playGroundBaseProps = {};\n\n      for (var p in others) {\n        _playGroundBaseProps[p] = props[p];\n      }\n\n      return (// @ts-ignore\n        (0, _vue.createVNode)(PlayGroundBase_1.default, (0, _vue.mergeProps)(_playGroundBaseProps, {\n          \"defaultExpand\": expand.value,\n          \"getClipboardText\": getClipboardText,\n          \"onExpand\": onExpand\n        }), {\n          default: function _default() {\n            var _a;\n\n            return (_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n          },\n          codeView: function codeView() {\n            var _slot;\n\n            return (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default.Show, {\n              \"conditional\": expand.value\n            }, {\n              default: function _default() {\n                return [(0, _vue.createVNode)(Card_1.default, null, _isSlot(_slot = (config.value || []).map(function (c, index) {\n                  return renderCodePanelView(c, index);\n                })) ? _slot : {\n                  default: function _default() {\n                    return [_slot];\n                  }\n                })];\n              }\n            });\n          }\n        })\n      );\n    };\n  }\n});"],"names":["_vue","require","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","codeType","tslib_1","adherev_ui_conditionalrender_1","__importDefault","adherev_ui_contextmenu_1","omit_js_1","vue_1","vue_types_1","Card_1","CodePanel_1","CodeTabPanel_1","PlayGroundBase_1","__importStar","selectPrefix","playGroundMulitProps","__assign","playGroundBaseProps","defaultConfig","array","def","default","defineComponent","name","props","setup","_a","getClipboardText","e","Promise","resolve","open","config","map","c","index","title","id","concat","separation","attribute","children","width","x","clientX","y","clientY","maskClosable","handler","configMap","get","type","CodePanel","getCodeText","onExpand","_expand","expand","slots","others","ref","defaultExpand","Map","render","createVNode","codeText","CodeTabPanel","_config","mergeProps","onChange","key","active","find","watch","newValue","p","_playGroundBaseProps","codeView","_slot","Show","conditional","class"],"mappings":"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"}