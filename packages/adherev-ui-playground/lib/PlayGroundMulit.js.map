{"version":3,"file":"PlayGroundMulit.js","sources":["PlayGroundMulit.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.map.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\nrequire(\"core-js/modules/esnext.map.every.js\");\nrequire(\"core-js/modules/esnext.map.filter.js\");\nrequire(\"core-js/modules/esnext.map.find.js\");\nrequire(\"core-js/modules/esnext.map.find-key.js\");\nrequire(\"core-js/modules/esnext.map.includes.js\");\nrequire(\"core-js/modules/esnext.map.key-of.js\");\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\nrequire(\"core-js/modules/esnext.map.map-values.js\");\nrequire(\"core-js/modules/esnext.map.merge.js\");\nrequire(\"core-js/modules/esnext.map.reduce.js\");\nrequire(\"core-js/modules/esnext.map.some.js\");\nrequire(\"core-js/modules/esnext.map.update.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar omit_js_1 = tslib_1.__importDefault(require(\"omit.js\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_ui_contextmenu_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-contextmenu\"));\nvar Card_1 = tslib_1.__importDefault(require(\"./Card\"));\nvar CodePanel_1 = tslib_1.__importDefault(require(\"./CodePanel\"));\nvar CodeTabPanel_1 = tslib_1.__importDefault(require(\"./CodeTabPanel\"));\nvar PlayGroundBase_1 = tslib_1.__importStar(require(\"./PlayGroundBase\"));\nvar selectPrefix = 'adherev-ui-playground-mulit';\nvar codeType;\n(function (codeType) {\n  codeType[\"CodePanel\"] = \"CodePanel\";\n  codeType[\"CodeTabPanel\"] = \"CodeTabPanel\";\n})(codeType || (codeType = {}));\nvar playGroundMulitProps = tslib_1.__assign(tslib_1.__assign({}, PlayGroundBase_1.playGroundBaseProps), {\n  defaultConfig: (0, vue_types_1.array)().def([])\n});\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-playground-mulit',\n  props: playGroundMulitProps,\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n    var others = (0, omit_js_1.default)(PlayGroundBase_1.playGroundBaseProps, ['getClipboardText', 'defaultExpand']);\n    var expand = (0, vue_1.ref)(props.defaultExpand);\n    var config = (0, vue_1.ref)(props.defaultConfig);\n    var configMap = new Map([[codeType.CodePanel, {\n      render: function render(config) {\n        return (0, _vue.createVNode)(CodePanel_1.default, config, null);\n      },\n      getCodeText: function getCodeText(config) {\n        return config.codeText;\n      }\n    }], [codeType.CodeTabPanel, {\n      render: function render(_config, index) {\n        return (0, _vue.createVNode)(CodeTabPanel_1.default, (0, _vue.mergeProps)(_config, {\n          \"onChange\": function onChange(key) {\n            config.value[index].active = key;\n          }\n        }), null);\n      },\n      getCodeText: function getCodeText(config) {\n        var _a;\n        return (_a = config.config.find(function (c) {\n          return c.key === config.active;\n        })) === null || _a === void 0 ? void 0 : _a.codeText;\n      }\n    }]]);\n    var renderCodePanelView = function renderCodePanelView(config, index) {\n      var _a;\n      return (0, _vue.createVNode)(\"div\", {\n        \"key\": \"\".concat(index),\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap\")\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap-title\")\n      }, [config.title]), (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap-inner\")\n      }, [(_a = configMap.get(config.type || codeType.CodePanel)) === null || _a === void 0 ? void 0 : _a.render((0, omit_js_1.default)(config, ['title', 'type']), index)])]);\n    };\n    var getClipboardText = function getClipboardText(e) {\n      return new Promise(function (resolve) {\n        adherev_ui_contextmenu_1.default.open(config.value.map(function (c, index) {\n          return {\n            name: c.title,\n            id: \"\".concat(index),\n            separation: false,\n            attribute: {\n              config: c\n            },\n            children: []\n          };\n        }),\n        // @ts-ignore\n        {\n          width: 200,\n          x: e.clientX,\n          y: e.clientY,\n          maskClosable: true,\n          handler: function handler(id, attribute) {\n            var _a;\n            resolve((_a = configMap === null || configMap === void 0 ? void 0 : configMap.get(attribute.config.type || codeType.CodePanel)) === null || _a === void 0 ? void 0 : _a.getCodeText(attribute.config));\n          }\n        });\n      });\n    };\n    var onExpand = function onExpand(_expand) {\n      expand.value = !_expand;\n    };\n    (0, vue_1.watch)(function () {\n      return props.defaultExpand;\n    }, function (newValue) {\n      expand.value = newValue;\n    });\n    (0, vue_1.watch)(function () {\n      return props.defaultConfig;\n    }, function (newValue) {\n      config.value = newValue;\n    });\n    return function () {\n      var _playGroundBaseProps = {};\n      for (var p in others) {\n        _playGroundBaseProps[p] = props[p];\n      }\n      return (0, _vue.createVNode)(PlayGroundBase_1.default, (0, _vue.mergeProps)(_playGroundBaseProps, {\n        \"defaultExpand\": expand.value,\n        \"getClipboardText\": getClipboardText,\n        \"onExpand\": onExpand\n      }), {\n        default: function _default() {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n        },\n        codeView: function codeView() {\n          var _slot;\n          return (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default.Show, {\n            \"conditional\": expand.value\n          }, {\n            default: function _default() {\n              return [(0, _vue.createVNode)(Card_1.default, null, _isSlot(_slot = (config.value || []).map(function (c, index) {\n                return renderCodePanelView(c, index);\n              })) ? _slot : {\n                default: function _default() {\n                  return [_slot];\n                }\n              })];\n            }\n          });\n        }\n      });\n    };\n  }\n});"],"names":["_vue","require","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","codeType","tslib_1","omit_js_1","__importDefault","vue_1","vue_types_1","adherev_ui_conditionalrender_1","adherev_ui_contextmenu_1","Card_1","CodePanel_1","CodeTabPanel_1","PlayGroundBase_1","__importStar","selectPrefix","playGroundMulitProps","__assign","playGroundBaseProps","defaultConfig","array","def","default","defineComponent","name","props","setup","_a","getClipboardText","e","Promise","resolve","open","config","map","c","index","title","id","concat","separation","attribute","children","width","x","clientX","y","clientY","maskClosable","handler","configMap","get","type","CodePanel","getCodeText","onExpand","_expand","expand","slots","others","ref","defaultExpand","Map","render","createVNode","codeText","CodeTabPanel","_config","mergeProps","onChange","key","active","find","watch","newValue","p","_playGroundBaseProps","codeView","_slot","Show","conditional","class"],"mappings":"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"}