{"version":3,"file":"CodeBoxPanel.js","sources":["CodeBoxPanel.js"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { __rest } from \"tslib\";\nimport { computed, defineComponent, onBeforeMount, onMounted, ref, watch } from 'vue';\nimport { array, bool, number, object, oneOfType, string } from 'vue-types';\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport PlayGround from './PlayGround';\nimport PlayGroundMulit from './PlayGroundMulit';\nimport PlayGroundTab from './PlayGroundTab';\nimport Constant from './constant';\nvar selectPrefix = 'adherev-ui-playground-code-box';\nvar codeBoxPanelProps = {\n  title: oneOfType([string(), object()]),\n  extra: object(),\n  isShowExpandAllBtn: bool().def(true),\n  columnCount: number().def(1),\n  defaultExpandAll: bool().def(false),\n  config: array().def([])\n};\nexport default defineComponent({\n  name: 'adv-playground-code-box-panel',\n  props: codeBoxPanelProps,\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n    var activeAnchor = ref('');\n    var expandAll = ref(props.defaultExpandAll);\n    var expandLock = false;\n    var column = computed(function () {\n      var column = [];\n      if (props.columnCount != null) {\n        column.length = props.columnCount;\n      }\n      column.fill(0);\n      return column;\n    });\n    var onHashChange = function onHashChange() {\n      activeAnchor.value = window.location.hash.substring(1);\n    };\n    var renderPlayGround = function renderPlayGround(columnIndex, index) {\n      var _a;\n      var _b = props.config[index],\n        type = _b.type,\n        childrenSlot = _b.childrenSlot,\n        wrapSlot = _b.wrapSlot,\n        id = _b.id,\n        playGroundProps = __rest(_b, [\"type\", \"childrenSlot\", \"wrapSlot\", \"id\"]);\n      var children = _createVNode(PlayGround, _mergeProps(playGroundProps, {\n        \"id\": id,\n        \"isActive\": activeAnchor.value === id,\n        \"defaultExpand\": expandAll.value\n      }), {\n        default: function _default() {\n          return [_createVNode(ConditionalRender, {\n            \"conditional\": !!slots[childrenSlot]\n          }, {\n            default: function _default() {\n              return [(_a = slots[childrenSlot]) === null || _a === void 0 ? void 0 : _a.call(slots, {\n                columnIndex: columnIndex,\n                index: index,\n                config: props.config\n              })];\n            }\n          })];\n        }\n      });\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": !!slots[wrapSlot]\n        }, {\n          default: function _default() {\n            var _a;\n            return (_a = slots[wrapSlot]) === null || _a === void 0 ? void 0 : _a.call(slots, {\n              columnIndex: columnIndex,\n              index: index,\n              config: props.config,\n              children: children\n            });\n          },\n          noMatch: function noMatch() {\n            return children;\n          }\n        })\n      );\n    };\n    var renderPlayGroundTab = function renderPlayGroundTab(columnIndex, index) {\n      var _a;\n      var _b = props.config[index],\n        type = _b.type,\n        childrenSlot = _b.childrenSlot,\n        wrapSlot = _b.wrapSlot,\n        id = _b.id,\n        playGroundTabProps = __rest(_b, [\"type\", \"childrenSlot\", \"wrapSlot\", \"id\"]);\n      var children = _createVNode(PlayGroundTab, _mergeProps(playGroundTabProps, {\n        \"id\": id,\n        \"isActive\": activeAnchor.value === id,\n        \"defaultExpand\": expandAll.value\n      }), {\n        default: function _default() {\n          return [_createVNode(ConditionalRender, {\n            \"conditional\": !!slots[childrenSlot]\n          }, {\n            default: function _default() {\n              return [(_a = slots[childrenSlot]) === null || _a === void 0 ? void 0 : _a.call(slots, {\n                columnIndex: columnIndex,\n                index: index,\n                config: props.config\n              })];\n            }\n          })];\n        }\n      });\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": !!slots[wrapSlot]\n        }, {\n          default: function _default() {\n            var _a;\n            return (_a = slots[wrapSlot]) === null || _a === void 0 ? void 0 : _a.call(slots, {\n              columnIndex: columnIndex,\n              index: index,\n              config: props.config,\n              children: children\n            });\n          },\n          noMatch: function noMatch() {\n            return children;\n          }\n        })\n      );\n    };\n    var renderPlayGroundMulit = function renderPlayGroundMulit(columnIndex, index) {\n      var _a;\n      var _b = props.config[index],\n        type = _b.type,\n        childrenSlot = _b.childrenSlot,\n        wrapSlot = _b.wrapSlot,\n        id = _b.id,\n        playGroundProps = __rest(_b, [\"type\", \"childrenSlot\", \"wrapSlot\", \"id\"]);\n      var children = _createVNode(PlayGroundMulit, _mergeProps(playGroundProps, {\n        \"id\": id,\n        \"isActive\": activeAnchor.value === id,\n        \"defaultExpand\": expandAll.value\n      }), {\n        default: function _default() {\n          return [_createVNode(ConditionalRender, {\n            \"conditional\": !!slots[childrenSlot]\n          }, {\n            default: function _default() {\n              return [(_a = slots[childrenSlot]) === null || _a === void 0 ? void 0 : _a.call(slots, {\n                columnIndex: columnIndex,\n                index: index,\n                config: props.config\n              })];\n            }\n          })];\n        }\n      });\n      return (// @ts-ignore\n        _createVNode(ConditionalRender, {\n          \"conditional\": !!slots[wrapSlot]\n        }, {\n          default: function _default() {\n            var _a;\n            return (_a = slots[wrapSlot]) === null || _a === void 0 ? void 0 : _a.call(slots, {\n              columnIndex: columnIndex,\n              index: index,\n              config: props.config,\n              children: children\n            });\n          },\n          noMatch: function noMatch() {\n            return children;\n          }\n        })\n      );\n    };\n    var renderMap = new Map([['PlayGround', renderPlayGround], ['PlayGroundMulit', renderPlayGroundMulit], ['PlayGroundTab', renderPlayGroundTab]]);\n    watch(function () {\n      return expandAll.value;\n    }, function () {\n      expandLock = false;\n    });\n    watch(function () {\n      return props.defaultExpandAll;\n    }, function (newValue) {\n      return expandAll.value = newValue;\n    });\n    onMounted(function () {\n      if (typeof window === 'undefined') return;\n      window.addEventListener('hashchange', onHashChange);\n    });\n    onBeforeMount(function () {\n      if (typeof window === 'undefined') return;\n      window.removeEventListener('hashchange', onHashChange);\n    });\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": selectPrefix\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-header\")\n      }, [_createVNode(ConditionalRender, {\n        \"conditional\": !!props.title\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"class\": \"\".concat(selectPrefix, \"-header-title\")\n          }, [props.title])];\n        }\n      }), _createVNode(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-header-extra\")\n      }, [_createVNode(ConditionalRender, {\n        \"conditional\": props.isShowExpandAllBtn\n      }, {\n        default: function _default() {\n          return [_createVNode(ConditionalRender, {\n            \"conditional\": expandAll.value\n          }, {\n            default: function _default() {\n              return _createVNode(\"img\", {\n                \"class\": \"\".concat(selectPrefix, \"-expand-code\"),\n                \"src\": Constant.CloseCodeAll,\n                \"alt\": \"\",\n                \"onClick\": function onClick() {\n                  if (expandLock) return;\n                  expandLock = true;\n                  expandAll.value = false;\n                }\n              }, null);\n            },\n            noMatch: function noMatch() {\n              return _createVNode(\"img\", {\n                \"class\": \"\".concat(selectPrefix, \"-expand-code\"),\n                \"src\": Constant.ExpandCodeAll,\n                \"alt\": \"\",\n                \"onClick\": function onClick() {\n                  if (expandLock) return;\n                  expandLock = true;\n                  expandAll.value = true;\n                }\n              }, null);\n            }\n          })];\n        }\n      }), _createVNode(ConditionalRender, {\n        \"conditional\": !!props.extra\n      }, {\n        default: function _default() {\n          return [props.extra];\n        }\n      })])]), _createVNode(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-main\")\n      }, [column.value.map(function (_, columnIndex) {\n        return _createVNode(\"div\", {\n          \"class\": \"\".concat(selectPrefix, \"-column\")\n        }, [props.config.map(function (item, index) {\n          var _a;\n          if (index % props.columnCount === columnIndex) {\n            return _createVNode(\"div\", {\n              \"class\": \"\".concat(selectPrefix, \"-item\"),\n              \"key\": item.id\n            }, [(_a = renderMap === null || renderMap === void 0 ? void 0 : renderMap.get(item.type)) === null || _a === void 0 ? void 0 : _a(columnIndex, index)]);\n          }\n          return null;\n        })]);\n      })])]);\n    };\n  }\n});"],"names":["_mergeProps","_createVNode","__rest","computed","defineComponent","onBeforeMount","onMounted","ref","watch","array","bool","number","object","oneOfType","string","ConditionalRender","PlayGround","PlayGroundMulit","PlayGroundTab","Constant","selectPrefix","codeBoxPanelProps","title","extra","isShowExpandAllBtn","def","columnCount","defaultExpandAll","config","name","props","setup","_a","onHashChange","activeAnchor","value","window","location","hash","substring","slots","expandAll","expandLock","column","length","fill","renderMap","Map","columnIndex","index","_b","childrenSlot","type","wrapSlot","id","playGroundProps","children","isActive","defaultExpand","default","conditional","call","noMatch","playGroundTabProps","newValue","addEventListener","removeEventListener","class","concat","src","CloseCodeAll","alt","onClick","ExpandCodeAll","map","_","item","key","get"],"mappings":"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"}