{"version":3,"file":"PlayGroundMulit.js","sources":["PlayGroundMulit.js"],"sourcesContent":["import { isVNode as _isVNode, mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { __assign } from \"tslib\";\nimport omit from 'omit.js';\nimport { defineComponent, ref, watch } from 'vue';\nimport { array } from 'vue-types';\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport ContextMenu from '@baifendian/adherev-ui-contextmenu';\nimport Card from './Card';\nimport CodePanel from './CodePanel';\nimport CodeTabPanel from './CodeTabPanel';\nimport PlayGroundBase, { playGroundBaseProps } from './PlayGroundBase';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\nvar selectPrefix = 'adherev-ui-playground-mulit';\nvar codeType;\n(function (codeType) {\n  codeType[\"CodePanel\"] = \"CodePanel\";\n  codeType[\"CodeTabPanel\"] = \"CodeTabPanel\";\n})(codeType || (codeType = {}));\nexport var playGroundMulitProps = __assign(__assign({}, playGroundBaseProps), {\n  defaultConfig: array().def([])\n});\nexport default defineComponent({\n  name: 'adv-playground-mulit',\n  props: playGroundMulitProps,\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n    var others = omit(playGroundBaseProps, ['getClipboardText', 'defaultExpand']);\n    var expand = ref(props.defaultExpand);\n    var config = ref(props.defaultConfig);\n    var configMap = new Map([[codeType.CodePanel, {\n      render: function render(config) {\n        return _createVNode(CodePanel, config, null);\n      },\n      getCodeText: function getCodeText(config) {\n        return config.codeText;\n      }\n    }], [codeType.CodeTabPanel, {\n      render: function render(_config, index) {\n        return _createVNode(CodeTabPanel, _mergeProps(_config, {\n          \"onChange\": function onChange(key) {\n            config.value[index].active = key;\n          }\n        }), null);\n      },\n      getCodeText: function getCodeText(config) {\n        var _a;\n        return (_a = config.config.find(function (c) {\n          return c.key === config.active;\n        })) === null || _a === void 0 ? void 0 : _a.codeText;\n      }\n    }]]);\n    var renderCodePanelView = function renderCodePanelView(config, index) {\n      var _a;\n      return _createVNode(\"div\", {\n        \"key\": \"\".concat(index),\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap\")\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap-title\")\n      }, [config.title]), _createVNode(\"div\", {\n        \"class\": \"\".concat(selectPrefix, \"-codeviewwrap-inner\")\n      }, [(_a = configMap.get(config.type || codeType.CodePanel)) === null || _a === void 0 ? void 0 : _a.render(omit(config, ['title', 'type']), index)])]);\n    };\n    var getClipboardText = function getClipboardText(e) {\n      return new Promise(function (resolve) {\n        ContextMenu.open(config.value.map(function (c, index) {\n          return {\n            name: c.title,\n            id: \"\".concat(index),\n            separation: false,\n            attribute: {\n              config: c\n            },\n            children: []\n          };\n        }),\n        // @ts-ignore\n        {\n          width: 200,\n          x: e.clientX,\n          y: e.clientY,\n          maskClosable: true,\n          handler: function handler(id, attribute) {\n            var _a;\n            resolve((_a = configMap === null || configMap === void 0 ? void 0 : configMap.get(attribute.config.type || codeType.CodePanel)) === null || _a === void 0 ? void 0 : _a.getCodeText(attribute.config));\n          }\n        });\n      });\n    };\n    var onExpand = function onExpand(_expand) {\n      expand.value = !_expand;\n    };\n    watch(function () {\n      return props.defaultExpand;\n    }, function (newValue) {\n      expand.value = newValue;\n    });\n    watch(function () {\n      return props.defaultConfig;\n    }, function (newValue) {\n      config.value = newValue;\n    });\n    return function () {\n      var _playGroundBaseProps = {};\n      for (var p in others) {\n        _playGroundBaseProps[p] = props[p];\n      }\n      return _createVNode(PlayGroundBase, _mergeProps(_playGroundBaseProps, {\n        \"defaultExpand\": expand.value,\n        \"getClipboardText\": getClipboardText,\n        \"onExpand\": onExpand\n      }), {\n        default: function _default() {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n        },\n        codeView: function codeView() {\n          var _slot;\n          return _createVNode(ConditionalRender.Show, {\n            \"conditional\": expand.value\n          }, {\n            default: function _default() {\n              return [_createVNode(Card, null, _isSlot(_slot = (config.value || []).map(function (c, index) {\n                return renderCodePanelView(c, index);\n              })) ? _slot : {\n                default: function _default() {\n                  return [_slot];\n                }\n              })];\n            }\n          });\n        }\n      });\n    };\n  }\n});"],"names":["_isVNode","_mergeProps","_createVNode","__assign","omit","defineComponent","ref","watch","array","ConditionalRender","ContextMenu","Card","CodePanel","CodeTabPanel","PlayGroundBase","playGroundBaseProps","_isSlot","s","Object","prototype","toString","call","codeType","selectPrefix","playGroundMulitProps","defaultConfig","def","name","props","setup","_a","getClipboardText","e","Promise","resolve","open","config","value","map","c","index","title","id","concat","separation","attribute","children","width","x","clientX","y","clientY","maskClosable","handler","configMap","get","type","getCodeText","onExpand","_expand","expand","slots","others","defaultExpand","Map","render","codeText","_config","onChange","key","active","find","newValue","p","_playGroundBaseProps","default","codeView","_slot","Show","conditional","class"],"mappings":"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"}