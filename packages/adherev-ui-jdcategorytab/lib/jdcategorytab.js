"use strict";require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.number.constructor.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.array.find-index.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.function.name.js");var __importDefault=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var classnames_1=__importDefault(require("classnames")),iscroll_1=__importDefault(require("iscroll/build/iscroll")),selectorPrefix="adherev-ui-jdcategorytab";exports.default={name:"adv-jdcategorytab",props:{className:{type:String,default:""},menuClassName:{type:String,default:""},menuStyle:{type:String,default:""},menuInnerClassName:{type:String,default:""},menuInnerStyle:{type:String,default:""},tabClassName:{type:String,default:""},tabStyle:{type:String,default:""},menuItemClassName:{type:String,default:""},menuItemStyle:{type:String,default:""},menuData:{type:Array,default:function(){return[]}},defaultActiveKey:{type:[String,Number],default:""},onBeforeChange:{type:Function}},data:function(){return{activeKey:this.defaultActiveKey,$scroll:null,$ease:iscroll_1.default.utils.ease}},computed:{getClassName:function(){var e=this.className;return classnames_1.default(selectorPrefix,e.split(" "))},getMenuClassName:function(){var e=this.menuClassName;return classnames_1.default(selectorPrefix+"-menu",e.split(" "))},getMenuInnerClassName:function(){var e=this.menuInnerClassName;return classnames_1.default(selectorPrefix+"-menu-inner",e.split(" "))},getTabClassName:function(){var e=this.tabClassName;return classnames_1.default(selectorPrefix+"-tab",e.split(" "))},getMenuItemClassName:function(){var n=this;return function(e){var t=n.menuItemClassName,s=n.activeKey;return classnames_1.default(selectorPrefix+"-menu-item",s===e?"active":null,t.split(" "))}}},watch:{defaultActiveKey:function(e){this.activeKey=e}},mounted:function(){this.initMenuScroll()},provide:function(){return{getActiveKey:this.getActiveKey}},methods:{initMenuScroll:function(){var e=this.$refs.menuEl;this.$data.$scroll=new iscroll_1.default(e,{mouseWheel:!0,click:!0}),e.addEventListener("touchmove",function(e){e.preventDefault()})},findElByKey:function(t){var e=this.$refs.menuInnerEl,s=this.menuData.findIndex(function(e){return e.key===t}),e=Array.from(null==e?void 0:e.querySelectorAll("."+selectorPrefix+"-menu-item"));return e.length?e[s]:null},getActiveKey:function(){return this.activeKey},scrollTo:function(e,t,s){var n=this;void 0===t&&(t=250);var r=this,a=r.$data,l=a.$ease.circular,u=a.$scroll,a=r.onBeforeChange,r=r.activeKey;s=s||l;l=!0;(l=a?a(r,e):l)&&(u.scrollToElement(this.findElByKey(e),t,null,null,s),setTimeout(function(){n.activeKey=e,n.$nextTick(function(){this.$emit("change",e)})},t))},renderMenu:function(t){var s=this,e=this,n=e.$scopedSlots,r=e.menuData,a=e.getMenuItemClassName,l=e.menuItemStyle;return r.map(function(e){return t("li",{key:e.key,class:a(e.key),style:l},[t("a",{on:{click:function(){s.scrollTo(e.key)}}},[n.menuItem?n.menuItem(e):e.name])])})}},render:function(e){var t=this,s=t.$slots,n=t.getClassName,r=t.getMenuClassName,a=t.getMenuInnerClassName,l=t.getTabClassName,u=t.menuStyle,i=t.menuInnerStyle,t=t.tabStyle;return e("div",{class:n,ref:"el"},[e("div",{class:r,style:u,ref:"menuEl"},[e("ul",{class:a,style:i,ref:"menuInnerEl"},[this.renderMenu(e)])]),e("ul",{class:l,style:t},[s.default])])}};
//# sourceMappingURL=jdcategorytab.js.map
