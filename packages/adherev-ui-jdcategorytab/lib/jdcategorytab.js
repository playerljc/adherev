"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.array.find-index.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.function.name.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),classnames_1=(0,tslib_1.__importDefault)(require("classnames")),iscroll_1=(0,tslib_1.__importDefault)(require("iscroll/build/iscroll")),vue_1=require("vue"),vue_types_1=require("vue-types"),selectorPrefix="adherev-ui-jdcategorytab",props={className:(0,vue_types_1.string)().def(""),menuClassName:(0,vue_types_1.string)().def(""),menuStyle:(0,vue_types_1.object)().def({}),menuInnerClassName:(0,vue_types_1.string)().def(""),menuInnerStyle:(0,vue_types_1.object)().def({}),tabClassName:(0,vue_types_1.string)().def(""),tabStyle:(0,vue_types_1.object)().def({}),menuItemClassName:(0,vue_types_1.string)().def(""),menuItemStyle:(0,vue_types_1.object)().def({}),menuData:(0,vue_types_1.array)().def([]),defaultActiveKey:(0,vue_types_1.string)().def(""),onBeforeChange:(0,vue_types_1.func)()};exports.default=(0,vue_1.defineComponent)({name:"adv-jdcategorytab",props:props,slots:["menuItem"],emits:["change"],setup:function(l,e){function t(e,t,u){u=u||m.circular;var s,r,n=!0;(n=l.onBeforeChange?l.onBeforeChange(o.value,e):n)&&(i.scrollToElement((s=e,n=l.menuData.findIndex(function(e){return e.key===s}),(r=Array.from(null===(r=c.value)||void 0===r?void 0:r.querySelectorAll(".".concat(selectorPrefix,"-menu-item")))).length?r[n]:null),t,null,null,u),setTimeout(function(){o.value=e,(0,vue_1.nextTick)(function(){a("change",e)})},t))}var u=e.slots,a=e.emit,e=e.expose,o=(0,vue_1.ref)(l.defaultActiveKey),s=(0,vue_1.ref)(null),c=(0,vue_1.ref)(null),i=null,m=iscroll_1.default.utils.ease,r=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-menu"),l.menuClassName.split(/\s+/))}),n=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-menu-inner"),l.menuInnerClassName.split(/\s+/))}),f=(0,vue_1.computed)(function(){return(0,classnames_1.default)("".concat(selectorPrefix,"-tab"),l.tabClassName.split(/\s+/))}),v=(0,vue_1.computed)(function(){return function(e){return(0,classnames_1.default)("".concat(selectorPrefix,"-menu-item"),o.value===e?"active":null,l.menuItemClassName.split(/\s+/))}});return(0,vue_1.watch)(function(){return l.defaultActiveKey},function(e){o.value=e}),(0,vue_1.onMounted)(function(){i=new iscroll_1.default(s.value,{mouseWheel:!0,click:!0}),s.value.addEventListener("touchmove",function(e){e.preventDefault()})}),(0,vue_1.provide)("activeKey",o),e({scrollTo:t}),function(){return(0,_vue.createVNode)("div",{class:selectorPrefix},[(0,_vue.createVNode)("div",{class:r.value,style:l.menuStyle,ref:s},[(0,_vue.createVNode)("ul",{class:n.value,style:l.menuInnerStyle,ref:c},[l.menuData.map(function(e){return(0,_vue.createVNode)("li",{key:e.key,class:v.value(e.key),style:l.menuItemStyle},[(0,_vue.createVNode)("a",{onClick:function(){t(e.key)}},[u.menuItem?u.menuItem(e):e.name])])})])]),(0,_vue.createVNode)("ul",{class:f.value,style:l.tabStyle},[u.default?u.default():null])])}}});
//# sourceMappingURL=jdcategorytab.js.map
