{"version":3,"file":"util.js","sources":["AntdvFormItemNormalize/util.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.object.assign.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HOC = exports.assignAttrs = void 0;\nvar tslib_1 = require(\"tslib\");\nvar vue_1 = require(\"vue\");\n/**\n * assignAttrs\n * @param props\n * @param parentElement\n * @param defaultProps\n */\nfunction assignAttrs(props, defaultProps, parentElement) {\n  var res = tslib_1.__assign(tslib_1.__assign({}, defaultProps), props);\n  if (!('getPopupContainer' in res) || res.getPopupContainer === undefined) {\n    res.getPopupContainer = function (el) {\n      return parentElement || (el === null || el === void 0 ? void 0 : el.parentElement) || document.body;\n    };\n  }\n  // if (!('getCalendarContainer' in res) || res.getCalendarContainer === undefined) {\n  //   res.getCalendarContainer = (el) => {\n  //     return parentElement || el?.parentElement || document.body;\n  //   };\n  // }\n  return res;\n}\nexports.assignAttrs = assignAttrs;\n/**\n * extend\n * @description 实现高阶函数\n * @param Component - Vue组件配置对象\n * @param optionsOverwrite - Vue组件的options\n * @param renderOptions - props,attrs和slots\n */\n// export function extend(\n//   // 包装的组件\n//   Component: any,\n//   optionsOverwrite?: any,\n//   renderOptions?: {\n//     props?: (props: any, getEl: any) => any;\n//     attrs?: (attrs: any) => any;\n//     slots?: (slots: any) => any;\n//   },\n// ) {\n//   return defineComponent(\n//     merge(\n//       {\n//         ...(Component || {}),\n//       },\n//       {\n//         ...(optionsOverwrite || {}),\n//         setup(props, { slots, attrs, expose }) {\n//           const comRef = ref();\n//\n//           if (Component.expose) {\n//             const exposeObj = {};\n//             Component.expose.forEach((methodName) => {\n//               exposeObj[methodName] = (params) => comRef.value?.[methodName]?.(params);\n//             });\n//             expose(exposeObj);\n//           }\n//\n//           const getEl = inject<(() => HTMLElement | null) | null>('getEl');\n//\n//           console.log('attrs', renderOptions?.attrs?.(attrs) || attrs || {});\n//           console.log('props', renderOptions?.props?.(props, getEl));\n//\n//           const mergeProps = {\n//             ...(renderOptions?.attrs?.(attrs) || attrs || {}),\n//             ...(renderOptions?.props?.(props, getEl) || props || {}),\n//             ref: comRef,\n//           };\n//\n//           console.log('mergeProps', mergeProps);\n//\n//           return () =>\n//             h(Component, mergeProps, {\n//               ...(renderOptions?.slots?.(slots) || slots || {}),\n//             });\n//         },\n//       },\n//     ),\n//   );\n// }\nfunction HOC(\n// 包装的组件\nComponent, renderOptions) {\n  var ComponentOtherMixins = {};\n  // 将Component中大写字母开头的属性赋值到function中\n  Object.keys(Component).filter(function (key) {\n    return /^[A-Z]/.test(key);\n  }).forEach(function (key) {\n    return ComponentOtherMixins[key] = Component[key];\n  });\n  return Object.assign(function (props, context) {\n    var _a, _b, _c;\n    return (0, vue_1.h)(Component, tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, props), context.attrs), ((_a = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.props) === null || _a === void 0 ? void 0 : _a.call(renderOptions, props, (0, vue_1.inject)('getEl'))) || {}), ((_b = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.attrs) === null || _b === void 0 ? void 0 : _b.call(renderOptions, context.attrs)) || {}), ((_c = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.slots) === null || _c === void 0 ? void 0 : _c.call(renderOptions, context.slots)) || context.slots);\n  }, ComponentOtherMixins);\n}\nexports.HOC = HOC;"],"names":["require","Object","defineProperty","exports","value","HOC","assignAttrs","tslib_1","vue_1","props","defaultProps","parentElement","res","__assign","undefined","getPopupContainer","el","document","body","Component","renderOptions","ComponentOtherMixins","keys","filter","key","test","forEach","assign","context","_b","h","attrs","_a","call","inject","_c","slots"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EACtDA,QAAQ,wCAAwC,EAChDA,QAAQ,iDAAiD,EACzDA,QAAQ,oCAAoC,EAC5CA,QAAQ,mCAAmC,EAC3CA,QAAQ,mCAAmC,EAC3CA,QAAQ,qCAAqC,EAC7CC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACDD,QAAQE,IAAMF,QAAQG,YAAc,KAAA,EACpC,IAAIC,QAAUP,QAAQ,OAAO,EACzBQ,MAAQR,QAAQ,KAAK,EAOzB,SAASM,YAAYG,EAAOC,EAAcC,GACpCC,EAAML,QAAQM,SAASN,QAAQM,SAAS,GAAIH,CAAY,EAAGD,CAAK,EAWpE,MAVM,sBAAuBG,GAAkCE,KAAAA,IAA1BF,EAAIG,oBACvCH,EAAIG,kBAAoB,SAAUC,GAChC,OAAOL,IAAkBK,MAAAA,EAA+B,KAAA,EAASA,EAAGL,gBAAkBM,SAASC,IACjG,GAOKN,CACT,CA2DA,SAASP,IAETc,EAAWC,GACT,IAAIC,EAAuB,GAO3B,OALApB,OAAOqB,KAAKH,CAAS,EAAEI,OAAO,SAAUC,GACtC,MAAO,SAASC,KAAKD,CAAG,CAC1B,CAAC,EAAEE,QAAQ,SAAUF,GACnB,OAAOH,EAAqBG,GAAOL,EAAUK,EAC/C,CAAC,EACMvB,OAAO0B,OAAO,SAAUlB,EAAOmB,GACpC,IAAQC,EACR,OAAO,EAAIrB,MAAMsB,GAAGX,EAAWZ,QAAQM,SAASN,QAAQM,SAASN,QAAQM,SAASN,QAAQM,SAAS,GAAIJ,CAAK,EAAGmB,EAAQG,KAAK,GAAI,OAACC,EAAKZ,MAAAA,EAAqD,KAAA,EAASA,EAAcX,OAAmC,KAAA,EAASuB,EAAGC,KAAKb,EAAeX,GAAO,EAAID,MAAM0B,QAAQ,OAAO,CAAC,IAAM,EAAE,GAAI,OAACL,EAAKT,MAAAA,EAAqD,KAAA,EAASA,EAAcW,OAAmC,KAAA,EAASF,EAAGI,KAAKb,EAAeQ,EAAQG,KAAK,IAAM,EAAE,GAAI,OAACI,EAAKf,MAAAA,EAAqD,KAAA,EAASA,EAAcgB,OAAmC,KAAA,EAASD,EAAGF,KAAKb,EAAeQ,EAAQQ,KAAK,IAAMR,EAAQQ,KAAK,CACvqB,EAAGf,CAAoB,CACzB,CAxEAlB,QAAQG,YAAcA,YAyEtBH,QAAQE,IAAMA"}