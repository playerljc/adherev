{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/AutoCompleteFormItem/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.string.includes.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar AntdvFormItemNormalize_1 = require(\"../../AntdvFormItemNormalize\");\nexports.default = {\n  name: 'AutoCompleteFormItem',\n  props: {\n    autoCompleteProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    value: {\n      type: Object,\n      default: function _default() {\n        return {\n          inputValue: '',\n          selectValue: ''\n        };\n      }\n    },\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    options: function options() {\n      var _this = this;\n      var _a, _b;\n      var options = [];\n      if (!this.value.inputValue) options = this.dataSource || [];else options = ((_b = (_a = this === null || this === void 0 ? void 0 : this.dataSource) === null || _a === void 0 ? void 0 : _a.filter) === null || _b === void 0 ? void 0 : _b.call(_a, function (t) {\n        return t.label.includes(_this.value.inputValue);\n      })) || [];\n      // @ts-ignore\n      return options.map(function (t) {\n        return {\n          text: t.label,\n          value: \"\".concat(t.value)\n        };\n      });\n    },\n    autoCompleteValue: function autoCompleteValue() {\n      var _this = this;\n      var _a, _b;\n      if (this.value.inputValue) return \"\".concat(this.value.inputValue);\n      if (this.value.selectValue) return (_b = (_a = this === null || this === void 0 ? void 0 : this.dataSource) === null || _a === void 0 ? void 0 : _a.find(function (t) {\n        return t.value == _this.value.selectValue;\n      })) === null || _b === void 0 ? void 0 : _b.label;\n      return '';\n    }\n  },\n  methods: {\n    onSelect: function onSelect(selectValue) {\n      var _a, _b, _c;\n      if ((_a = this.$listeners) === null || _a === void 0 ? void 0 : _a.change) {\n        (_c = (_b = this.$listeners) === null || _b === void 0 ? void 0 : _b.change) === null || _c === void 0 ? void 0 : _c.call(_b, {\n          inputValue: '',\n          selectValue: selectValue\n        });\n      }\n    },\n    onSearch: function onSearch(searchText) {\n      var _a, _b, _c;\n      if ((_a = this.$listeners) === null || _a === void 0 ? void 0 : _a.change) {\n        (_c = (_b = this.$listeners) === null || _b === void 0 ? void 0 : _b.change) === null || _c === void 0 ? void 0 : _c.call(_b, {\n          inputValue: searchText.trim(),\n          selectValue: undefined\n        });\n      }\n    },\n    onChange: function onChange() {}\n  },\n  render: function render(h) {\n    var _this = this;\n    return h(AntdvFormItemNormalize_1.AutoComplete, {\n      props: tslib_1.__assign(tslib_1.__assign({\n        filterOption: false\n      }, this.$props), {\n        dataSource: this.options,\n        value: this.autoCompleteValue\n      }),\n      attrs: this.$attrs,\n      on: tslib_1.__assign(tslib_1.__assign({\n        select: this.onSelect,\n        search: this.onSearch\n      }, this.$listeners), {\n        change: this.onChange\n      }),\n      scopedSlots: tslib_1.__assign({}, this.$scopedSlots || {})\n    }, Object.keys(this.$slots).reduce(function (arr, key) {\n      return arr.concat(_this.$slots[key]);\n    }, []));\n  }\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","AntdvFormItemNormalize_1","default","name","props","autoCompleteProps","type","inputValue","selectValue","dataSource","Array","computed","options","_a","_b","_this","this","filter","call","t","label","includes","map","text","concat","autoCompleteValue","find","methods","onSelect","_c","$listeners","change","onSearch","searchText","trim","undefined","onChange","render","h","AutoComplete","__assign","filterOption","$props","attrs","$attrs","on","select","search","scopedSlots","$scopedSlots","keys","$slots","reduce","arr","key"],"mappings":"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"}