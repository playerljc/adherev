{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/AutoCompleteFormItem/index.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.string.includes.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar AntdvFormItemNormalize_1 = require(\"../../AntdvFormItemNormalize\");\nexports.default = (0, vue_1.defineComponent)({\n  name: 'AutoCompleteFormItem',\n  props: {\n    autoCompleteProps: (0, vue_types_1.object)().def({}),\n    value: (0, vue_types_1.object)().def({\n      inputValue: '',\n      selectValue: ''\n    }),\n    dataSource: (0, vue_types_1.array)().def([])\n  },\n  setup: function setup(props, _a) {\n    var attrs = _a.attrs,\n      slots = _a.slots,\n      emit = _a.emit;\n    // 选择Select的时候调用\n    var onSelect = function onSelect(selectValue) {\n      var _a;\n      if (attrs === null || attrs === void 0 ? void 0 : attrs.onChange) {\n        // @ts-ignore\n        (_a = attrs === null || attrs === void 0 ? void 0 : attrs.onChange) === null || _a === void 0 ? void 0 : _a.call(attrs, {\n          inputValue: '',\n          selectValue: selectValue\n        });\n      }\n    };\n    // 每次输入的时候调用\n    var onSearch = function onSearch(searchText) {\n      var _a;\n      if (attrs === null || attrs === void 0 ? void 0 : attrs.onChange) {\n        // @ts-ignore\n        (_a = attrs === null || attrs === void 0 ? void 0 : attrs.onChange) === null || _a === void 0 ? void 0 : _a.call(attrs, {\n          inputValue: searchText.trim(),\n          selectValue: undefined\n        });\n      }\n    };\n    var options = (0, vue_1.computed)(function () {\n      var _a, _b;\n      if (!props.value.inputValue) return props.dataSource || [];\n      return ((_b = (_a = props === null || props === void 0 ? void 0 : props.dataSource) === null || _a === void 0 ? void 0 : _a.filter) === null || _b === void 0 ? void 0 : _b.call(_a, function (t) {\n        return t.label.includes(props.value.inputValue);\n      })) || [];\n    });\n    var value = (0, vue_1.computed)(function () {\n      var _a, _b;\n      if (props.value.inputValue) return props.value.inputValue;\n      if (props.value.selectValue) return (_b = (_a = props === null || props === void 0 ? void 0 : props.dataSource) === null || _a === void 0 ? void 0 : _a.find(function (t) {\n        return t.value === props.value.selectValue;\n      })) === null || _b === void 0 ? void 0 : _b.label;\n    });\n    return function () {\n      return (0, _vue.createVNode)(AntdvFormItemNormalize_1.AutoComplete, (0, _vue.mergeProps)({\n        \"options\": options.value,\n        \"filterOption\": false,\n        \"onSelect\": onSelect,\n        \"onSearch\": onSearch\n      }, tslib_1.__assign(tslib_1.__assign({}, props), attrs), {\n        \"value\": value.value\n      }), null);\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","vue_1","vue_types_1","AntdvFormItemNormalize_1","default","defineComponent","name","props","autoCompleteProps","object","def","inputValue","selectValue","dataSource","array","setup","_a","onSelect","attrs","onChange","call","onSearch","searchText","trim","undefined","options","slots","emit","computed","_b","filter","t","label","includes","find","createVNode","AutoComplete","mergeProps","filterOption","__assign"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EAWpBC,SAVJD,QAAQ,8CAA8C,EACtDA,QAAQ,mCAAmC,EAC3CA,QAAQ,oCAAoC,EAC5CA,QAAQ,wCAAwC,EAChDA,QAAQ,sCAAsC,EAC9CA,QAAQ,uCAAuC,EAC/CA,QAAQ,kCAAkC,EAC1CE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACaL,QAAQ,OAAO,GACzBM,MAAQN,QAAQ,KAAK,EACrBO,YAAcP,QAAQ,WAAW,EACjCQ,yBAA2BR,QAAQ,8BAA8B,EACrEI,QAAQK,SAAU,EAAIH,MAAMI,iBAAiB,CAC3CC,KAAM,uBACNC,MAAO,CACLC,mBAAmB,EAAIN,YAAYO,QAAQ,EAAEC,IAAI,EAAE,EACnDV,OAAO,EAAIE,YAAYO,QAAQ,EAAEC,IAAI,CACnCC,WAAY,GACZC,YAAa,EACf,CAAC,EACDC,YAAY,EAAIX,YAAYY,OAAO,EAAEJ,IAAI,EAAE,CAC7C,EACAK,MAAO,SAAeR,EAAOS,GAKZ,SAAXC,EAA6BL,GAC/B,IAAII,EACAE,MAAAA,GAA8CA,EAAMC,UAEtD,OAACH,EAAKE,MAAAA,EAAqC,KAAA,EAASA,EAAMC,WAA+CH,EAAGI,KAAKF,EAAO,CACtHP,WAAY,GACZC,YAAaA,CACf,CAAC,CAEL,CAEe,SAAXS,EAA6BC,GAC/B,IAAIN,EACAE,MAAAA,GAA8CA,EAAMC,UAEtD,OAACH,EAAKE,MAAAA,EAAqC,KAAA,EAASA,EAAMC,WAA+CH,EAAGI,KAAKF,EAAO,CACtHP,WAAYW,EAAWC,KAAK,EAC5BX,YAAaY,KAAAA,CACf,CAAC,CAEL,CAxBA,IAAIN,EAAQF,EAAGE,MAyBXO,GAxBMT,EAAGU,MACJV,EAAGW,MAuBE,EAAI1B,MAAM2B,UAAU,WAChC,IAAIZ,EAAIa,EACR,OAAKtB,EAAMP,MAAMW,YACT,OAACkB,EAAK,OAACb,EAAKT,MAAAA,EAAqC,KAAA,EAASA,EAAMM,YAAwC,KAAA,EAASG,EAAGc,QAAoC,KAAA,EAASD,EAAGT,KAAKJ,EAAI,SAAUe,GAC7L,OAAOA,EAAEC,MAAMC,SAAS1B,EAAMP,MAAMW,UAAU,CAChD,CAAC,IAAM,GAH6BJ,EAAMM,YAAc,EAI1D,CAAC,GACGb,GAAQ,EAAIC,MAAM2B,UAAU,WAC9B,IAAQC,EACR,OAAItB,EAAMP,MAAMW,aACZJ,CAAAA,EAAMP,MAAMY,aAAoB,OAACiB,EAAK,OAACb,EAAKT,MAAAA,EAAqC,KAAA,EAASA,EAAMM,YAAwC,KAAA,EAASG,EAAGkB,KAAK,SAAUH,GACrK,OAAOA,EAAE/B,QAAUO,EAAMP,MAAMY,WACjC,CAAC,GAFD,KAAA,EAEyCiB,EAAGG,MAC9C,CAAC,EACD,OAAO,WACL,OAAO,EAAItC,KAAKyC,aAAahC,yBAAyBiC,cAAc,EAAI1C,KAAK2C,YAAY,CACvFZ,QAAWA,EAAQzB,MACnBsC,aAAgB,CAAA,EAChBrB,SAAYA,EACZI,SAAYA,CACd,EAAGzB,QAAQ2C,SAAS3C,QAAQ2C,SAAS,GAAIhC,CAAK,EAAGW,CAAK,EAAG,CACvDlB,MAASA,EAAMA,KACjB,CAAC,EAAG,IAAI,CACV,CACF,CACF,CAAC"}