{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/TableSelectFormItem/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\n// TableSelectFormItem\nvar SelectFormItem_1 = tslib_1.__importDefault(require(\"../SelectFormItem\"));\nvar TableFormItem_1 = tslib_1.__importDefault(require(\"../TableFormItem\"));\nexports.default = {\n  name: 'TableSelectFormItem',\n  props: {\n    selectProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tableProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    rowKey: {\n      type: String,\n      default: 'id'\n    },\n    labelKey: {\n      type: String,\n      default: 'name'\n    }\n  },\n  emits: ['change'],\n  data: function data() {\n    var _this = this;\n    return {\n      selectedRowKeys: this.value ? [this.value] : [],\n      selectedRows: this.value ? this.dataSource.find(function (t) {\n        return t[_this.rowKey || 'id'] === _this.value;\n      }) : []\n    };\n  },\n  watch: {\n    value: function value(_value) {\n      var _this = this;\n      this.selectedRowKeys = [_value];\n      this.selectedRows = [this.dataSource.find(function (t) {\n        return t[_this.rowKey || 'id'] === _this.value;\n      })];\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    var Component = TableFormItem_1.default;\n    return h(SelectFormItem_1.default, {\n      props: {\n        selectProps: tslib_1.__assign({\n          dropdownRender: function dropdownRender() {\n            return (// @ts-ignore\n              h(Component, {\n                \"attrs\": {\n                  \"tableProps\": tslib_1.__assign({\n                    rowSelection: {\n                      type: 'radio',\n                      selectedRowKeys: _this.selectedRowKeys,\n                      selectedRows: _this.selectedRows,\n                      onChange: function onChange(selectedRowKeys, selectedRows) {\n                        _this.selectedRowKeys = selectedRowKeys;\n                        _this.selectedRows = selectedRows;\n                        _this.$emit('change', selectedRowKeys.length ? selectedRowKeys[0] : '');\n                      }\n                    },\n                    dataSource: _this.dataSource\n                  }, _this.tableProps),\n                  \"rowKey\": _this.rowKey\n                }\n              })\n            );\n          }\n        }, this.selectProps),\n        value: this.value,\n        dataSource: this.dataSource.map(function (t) {\n          return {\n            label: t[_this.labelKey || 'name'],\n            value: t[_this.rowKey || 'id']\n          };\n        })\n      },\n      attrs: this.$attrs,\n      on: this.$listeners,\n      scopedSlots: this.$scopedSlots\n    }, this.$slots.default);\n  }\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","SelectFormItem_1","__importDefault","TableFormItem_1","default","name","props","selectProps","type","tableProps","String","dataSource","Array","rowKey","labelKey","emits","data","_this","this","selectedRowKeys","selectedRows","find","t","watch","_value","render","h","Component","__assign","dropdownRender","attrs","rowSelection","onChange","$emit","length","map","label","$attrs","on","$listeners","scopedSlots","$scopedSlots","$slots"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EACtDA,QAAQ,kCAAkC,EAC1CA,QAAQ,wCAAwC,EAChDA,QAAQ,iCAAiC,EACzCC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACD,IAAIC,QAAUL,QAAQ,OAAO,EAEzBM,iBAAmBD,QAAQE,gBAAgBP,QAAQ,mBAAmB,CAAC,EACvEQ,gBAAkBH,QAAQE,gBAAgBP,QAAQ,kBAAkB,CAAC,EACzEG,QAAQM,QAAU,CAChBC,KAAM,sBACNC,MAAO,CACLC,YAAa,CACXC,KAAMZ,OACNQ,QAAS,WACP,MAAO,EACT,CACF,EACAK,WAAY,CACVD,KAAMZ,OACNQ,QAAS,WACP,MAAO,EACT,CACF,EACAL,MAAO,CACLS,KAAME,OACNN,QAAS,EACX,EACAO,WAAY,CACVH,KAAMI,MACNR,QAAS,WACP,MAAO,EACT,CACF,EACAS,OAAQ,CACNL,KAAME,OACNN,QAAS,IACX,EACAU,SAAU,CACRN,KAAME,OACNN,QAAS,MACX,CACF,EACAW,MAAO,CAAC,UACRC,KAAM,WACJ,IAAIC,EAAQC,KACZ,MAAO,CACLC,gBAAiBD,KAAKnB,MAAQ,CAACmB,KAAKnB,OAAS,GAC7CqB,aAAcF,KAAKnB,MAAQmB,KAAKP,WAAWU,KAAK,SAAUC,GACxD,OAAOA,EAAEL,EAAMJ,QAAU,QAAUI,EAAMlB,KAC3C,CAAC,EAAI,EACP,CACF,EACAwB,MAAO,CACLxB,MAAO,SAAeyB,GACpB,IAAIP,EAAQC,KACZA,KAAKC,gBAAkB,CAACK,GACxBN,KAAKE,aAAe,CAACF,KAAKP,WAAWU,KAAK,SAAUC,GAClD,OAAOA,EAAEL,EAAMJ,QAAU,QAAUI,EAAMlB,KAC3C,CAAC,EACH,CACF,EACA0B,OAAQ,SAAgBC,GACtB,IAAIT,EAAQC,KACRS,EAAYxB,gBAAgBC,QAChC,OAAOsB,EAAEzB,iBAAiBG,QAAS,CACjCE,MAAO,CACLC,YAAaP,QAAQ4B,SAAS,CAC5BC,eAAgB,WACd,OACEH,EAAEC,EAAW,CACXG,MAAS,CACPrB,WAAcT,QAAQ4B,SAAS,CAC7BG,aAAc,CACZvB,KAAM,QACNW,gBAAiBF,EAAME,gBACvBC,aAAcH,EAAMG,aACpBY,SAAU,SAAkBb,EAAiBC,GAC3CH,EAAME,gBAAkBA,EACxBF,EAAMG,aAAeA,EACrBH,EAAMgB,MAAM,SAAUd,EAAgBe,OAASf,EAAgB,GAAK,EAAE,CACxE,CACF,EACAR,WAAYM,EAAMN,UACpB,EAAGM,EAAMR,UAAU,EACnBI,OAAUI,EAAMJ,MAClB,CACF,CACF,CACF,CACF,EAAGK,KAAKX,WAAW,EACnBR,MAAOmB,KAAKnB,MACZY,WAAYO,KAAKP,WAAWwB,IAAI,SAAUb,GACxC,MAAO,CACLc,MAAOd,EAAEL,EAAMH,UAAY,QAC3Bf,MAAOuB,EAAEL,EAAMJ,QAAU,KAC3B,CACF,CAAC,CACH,EACAiB,MAAOZ,KAAKmB,OACZC,GAAIpB,KAAKqB,WACTC,YAAatB,KAAKuB,YACpB,EAAGvB,KAAKwB,OAAOtC,OAAO,CACxB,CACF"}