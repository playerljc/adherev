"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.object.keys.js"),require("core-js/modules/es.string.ends-with.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.set.js"),require("core-js/modules/esnext.set.add-all.js"),require("core-js/modules/esnext.set.delete-all.js"),require("core-js/modules/esnext.set.difference.js"),require("core-js/modules/esnext.set.every.js"),require("core-js/modules/esnext.set.filter.js"),require("core-js/modules/esnext.set.find.js"),require("core-js/modules/esnext.set.intersection.js"),require("core-js/modules/esnext.set.is-disjoint-from.js"),require("core-js/modules/esnext.set.is-subset-of.js"),require("core-js/modules/esnext.set.is-superset-of.js"),require("core-js/modules/esnext.set.join.js"),require("core-js/modules/esnext.set.map.js"),require("core-js/modules/esnext.set.reduce.js"),require("core-js/modules/esnext.set.some.js"),require("core-js/modules/esnext.set.symmetric-difference.js"),require("core-js/modules/esnext.set.union.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.find.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),lodash_debounce_1=tslib_1.__importDefault(require("lodash.debounce")),vue_1=require("vue"),vue_types_1=require("vue-types"),adherev_util_dict_1=tslib_1.__importDefault(require("@baifendian/adherev-util-dict")),adherev_util_watchmemoized_1=tslib_1.__importDefault(require("@baifendian/adherev-util-watchmemoized")),AntdvFormItemNormalize_1=require("../../AntdvFormItemNormalize"),CheckAllMulitSelectFormItem_1=tslib_1.__importDefault(require("../CheckAllMulitSelectFormItem")),MulitSelectFormItem_1=tslib_1.__importDefault(require("../MulitSelectFormItem")),SelectFormItem_1=tslib_1.__importDefault(require("../SelectFormItem")),memoized=adherev_util_watchmemoized_1.default.memoized,FormItemComponents={};exports.default=function(){var e=Object.keys(adherev_util_dict_1.default.handlers).filter(function(e){return e.endsWith("Select")}),t=Object.keys(adherev_util_dict_1.default.handlers).filter(function(e){return e.endsWith("DynamicSelect")}),r=Object.keys(adherev_util_dict_1.default.handlers).filter(function(e){return e.endsWith("AutoCompleteSelect")});return e.forEach(function(t){FormItemComponents["".concat(t,"FormItem")]=(0,vue_1.defineComponent)({name:"".concat(t,"FormItem"),props:{cascadeParams:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def(""),selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def("")},emits:["change"],computed:{dataSource:function(){var e=adherev_util_dict_1.default.value[t].value;return e instanceof Function?e(this.cascadeParams):e}},render:function(){var e=this,t=this,r=this.$props,r=(r.cascadeParams,tslib_1.__rest(r,["cascadeParams"]));return(0,_vue.createVNode)(SelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},r),this.$attrs),{dataSource:this.dataSource,onChange:function(e){return t.$emit("change",e)}}),{default:function(){return[e.$slots]}})}}),FormItemComponents["".concat(t,"MulitFormItem")]=(0,vue_1.defineComponent)({name:"".concat(t,"MulitFormItem"),props:{cascadeParams:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def(""),selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.array)().def([])},emits:["change"],computed:{dataSource:function(){var e=adherev_util_dict_1.default.value[t].value;return e instanceof Function?e(this.cascadeParams):e}},render:function(){var e=this,t=this,r=this.$props,r=(r.cascadeParams,tslib_1.__rest(r,["cascadeParams"]));return(0,_vue.createVNode)(MulitSelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({dataSource:this.dataSource},r),this.$attrs),{onChange:function(e){return t.$emit("change",e)}}),{default:function(){return[e.$slots]}})}}),FormItemComponents["".concat(t,"CheckAllMulitFormItem")]=(0,vue_1.defineComponent)({name:"".concat(t,"CheckAllMulitFormItem"),props:{cascadeParams:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def(""),selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.array)().def([])},emits:["change"],computed:{dataSource:function(){var e=adherev_util_dict_1.default.value[t].value;return e instanceof Function?e(this.cascadeParams):e}},render:function(){var e=this,t=this,r=this.$props,r=(r.cascadeParams,tslib_1.__rest(r,["cascadeParams"]));return(0,_vue.createVNode)(CheckAllMulitSelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},r),this.$attrs),{dataSource:this.dataSource,onCheckAllChange:function(e){t.$emit("change",e?t.dataSource.map(function(e){return e.value}):[])},onChange:function(e){return t.$emit("change",e)}}),{default:function(){return[e.$slots]}})}})}),t.forEach(function(r){FormItemComponents["".concat(r,"FormItem")]=(0,vue_1.defineComponent)({name:"".concat(r,"FormItem"),props:{cascadeParams:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def(""),selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def("")},emits:["change"],data:function(){return{dataSource:[]}},methods:{$loadData:function(e){var t=adherev_util_dict_1.default.value[r].value;t instanceof Function&&t(e).then(function(e){this.dataSource=e})}},watch:{cascadeParams:function(e){this.$loadData(e)}},mounted:function(){var e=adherev_util_dict_1.default.value[r].value;e.then&&e.then(function(e){this.dataSource=e})},render:function(){var e=this,t=this,r=this.$props,r=(r.cascadeParams,tslib_1.__rest(r,["cascadeParams"]));return(0,_vue.createVNode)(SelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({dataSource:this.dataSource},r),this.$attrs),{onChange:function(e){return t.$emit("change",e)}}),{default:function(){return[e.$slots]}})}}),FormItemComponents["".concat(r,"MulitFormItem")]=(0,vue_1.defineComponent)({name:"".concat(r,"MulitFormItem"),props:{cascadeParams:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def(""),selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def("")},emits:["change"],data:function(){return{dataSource:[]}},methods:{$loadData:function(e){var t=adherev_util_dict_1.default.value[r].value;t instanceof Function&&t(e).then(function(e){this.dataSource=e})}},watch:{cascadeParams:function(e){this.$loadData(e)}},mounted:function(){var e=adherev_util_dict_1.default.value[r].value;e.then&&e.then(function(e){this.dataSource=e})},render:function(){var e=this,t=this,r=this.$props,r=(r.cascadeParams,tslib_1.__rest(r,["cascadeParams"]));return(0,_vue.createVNode)(MulitSelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({dataSource:this.dataSource},r),this.$attrs),{onChange:function(e){return t.$emit("change",e)}}),{default:function(){return[e.$slots]}})}}),FormItemComponents["".concat(r,"CheckAllMulitFormItem")]=(0,vue_1.defineComponent)({name:"".concat(r,"CheckAllMulitFormItem"),props:{cascadeParams:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def(""),selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def("")},emits:["change"],data:function(){return{dataSource:[]}},methods:{$loadData:function(e){var t=adherev_util_dict_1.default.value[r].value;t instanceof Function&&t(e).then(function(e){this.dataSource=e})}},watch:{cascadeParams:function(e){this.$loadData(e)}},mounted:function(){var e=adherev_util_dict_1.default.value[r].value;e.then&&e.then(function(e){this.dataSource=e})},render:function(){var e=this,t=this,r=this.$props,r=(r.cascadeParams,tslib_1.__rest(r,["cascadeParams"]));return(0,_vue.createVNode)(CheckAllMulitSelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({dataSource:this.dataSource,onCheckAllChange:function(e){t.$emit("change",e?t.dataSource.map(function(e){return e.value}):[])}},r),this.$attrs),{onChange:function(e){return t.$emit("change",e)}}),{default:function(){return[e.$slots]}})}})}),r.forEach(function(r){FormItemComponents["".concat(r,"FormItem")]=(0,vue_1.defineComponent)({name:"".concat(r,"FormItem"),props:{selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.oneOfType)([(0,vue_types_1.string)(),(0,vue_types_1.number)()]).def(""),debounceTimeout:(0,vue_types_1.number)().def(300)},emits:["change"],data:function(){return{fetching:!1,dataSource:[],$debounceFetcher:this.$createDebounceFetcher(),$fetchRef:0}},methods:{$createDebounceFetcher:function(){var a=this;return(0,lodash_debounce_1.default)(memoized.createMemoFun(function(e){a.$data.$fetchRef+=1;var t=a.$data.$fetchRef;e?(0,adherev_util_dict_1.default.value[r].value)(e).then(function(e){var r;t===a.$data.$fetchRef&&(r=tslib_1.__spreadArray(tslib_1.__spreadArray([],e,!0),a.dataSource.filter(function(e){return e.value===a.value}),!0),a.dataSource=tslib_1.__spreadArray([],Array.from(new Set(r.map(function(e){return e.value}))),!0).map(function(t){return r.find(function(e){return e.value===t})}),a.fetching=!1)}):(a.dataSource=a.dataSource.filter(function(e){return e.value===a.value}),a.fetching=!1)}),this.debounceTimeout||300)}},watch:{debounceTimeout:function(){this.$data.$debounceFetcher=this.$createDebounceFetcher(),this.$forceUpdate()}},render:function(){var e=this,t=this;return(0,_vue.createVNode)(SelectFormItem_1.default,tslib_1.__assign({selectProps:tslib_1.__assign({notFoundContent:this.fetching?(0,_vue.createVNode)(AntdvFormItemNormalize_1.Spin,{size:"small"},null):null,filterOption:!1,showArrow:!1,defaultActiveFirstOption:!1},this.selectProps),value:this.value,dataSource:this.dataSource,onSearch:this.$data.$debounceFetcher,onChange:function(e){e||(t.dataSource=[],t.fetching=!1),t.$emit("change",e)}},this.$attrs),{default:function(){return[e.$slots]}})}}),FormItemComponents["".concat(r,"MulitFormItem")]=(0,vue_1.defineComponent)({name:"".concat(r,"MulitFormItem"),props:{selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.array)().def([]),debounceTimeout:(0,vue_types_1.number)().def(300)},emits:["change"],data:function(){return{fetching:!1,dataSource:[],$debounceFetcher:this.$createDebounceFetcher(),$fetchRef:0}},methods:{$createDebounceFetcher:function(){var a=this;return(0,lodash_debounce_1.default)(memoized.createMemoFun(function(e){a.$data.$fetchRef+=1;var t=a.$data.$fetchRef;!e||Array.isArray(e)&&!e.length?(a.dataSource=a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),a.fetching=!1):(0,adherev_util_dict_1.default.value[r].value)(e).then(function(e){var r;t===a.$data.$fetchRef&&(r=tslib_1.__spreadArray(tslib_1.__spreadArray([],e,!0),a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),!0),a.dataSource=tslib_1.__spreadArray([],Array.from(new Set(r.map(function(e){return e.value}))),!0).map(function(t){return r.find(function(e){return e.value===t})}),a.fetching=!1)})}),this.debounceTimeout||300)}},watch:{debounceTimeout:function(){this.$data.$debounceFetcher=this.$createDebounceFetcher(),this.$forceUpdate()}},render:function(){var e=this,t=this;return(0,_vue.createVNode)(MulitSelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign({selectProps:tslib_1.__assign({notFoundContent:this.fetching?(0,_vue.createVNode)(AntdvFormItemNormalize_1.Spin,{size:"small"},null):null,filterOption:!1,showArrow:!1,defaultActiveFirstOption:!1},this.selectProps),value:this.value,dataSource:this.dataSource},this.$attrs),{onSearch:this.$data.$debounceFetcher,onChange:function(e){e&&(!Array.isArray(e)||e.length)||(t.dataSource=[],t.fetching=!1),t.$emit("change",e)}}),{default:function(){return[e.$slots]}})}}),FormItemComponents["".concat(r,"CheckAllMulitFormItem")]=(0,vue_1.defineComponent)({name:"".concat(r,"CheckAllMulitFormItem"),props:{selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.array)().def([]),debounceTimeout:(0,vue_types_1.number)().def(300)},emits:["change"],data:function(){return{fetching:!1,dataSource:[],$debounceFetcher:this.$createDebounceFetcher(),$fetchRef:0}},methods:{$createDebounceFetcher:function(){var a=this;return(0,lodash_debounce_1.default)(memoized.createMemoFun(function(e){a.$data.$fetchRef+=1;var t=a.$data.$fetchRef;!e||Array.isArray(e)&&!e.length?(a.dataSource=a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),a.fetching=!1):(0,adherev_util_dict_1.default.value[r].value)(e).then(function(e){var r;t===a.$data.$fetchRef&&(r=tslib_1.__spreadArray(tslib_1.__spreadArray([],e,!0),a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),!0),a.dataSource=tslib_1.__spreadArray([],Array.from(new Set(r.map(function(e){return e.value}))),!0).map(function(t){return r.find(function(e){return e.value===t})}),a.fetching=!1)})}),this.debounceTimeout||300)}},watch:{debounceTimeout:function(){this.$data.$debounceFetcher=this.$createDebounceFetcher(),this.$forceUpdate()}},render:function(){var e=this,t=this;return(0,_vue.createVNode)(CheckAllMulitSelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign({selectProps:tslib_1.__assign({notFoundContent:this.fetching?(0,_vue.createVNode)(AntdvFormItemNormalize_1.Spin,{size:"small"},null):null,filterOption:!1,showArrow:!1,defaultActiveFirstOption:!1},this.selectProps),value:this.value,dataSource:this.dataSource},this.$attrs),{onSearch:this.$data.$debounceFetcher,onChange:function(e){e&&(!Array.isArray(e)||e.length)||(t.dataSource=[],t.fetching=!1),t.$emit("change",e)},onCheckAllChange:function(e){t.$emit("change",e?t.dataSource.map(function(e){return e.value}):[])}}),{default:function(){return[e.$slots]}})}})}),FormItemComponents};
//# sourceMappingURL=Select.js.map
