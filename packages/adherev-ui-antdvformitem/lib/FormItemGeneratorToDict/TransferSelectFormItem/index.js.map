{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/TransferSelectFormItem/index.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.index-of.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar AntdvFormItemNormalize_1 = require(\"../../AntdvFormItemNormalize\");\nvar MulitSelectFormItem_1 = tslib_1.__importDefault(require(\"../MulitSelectFormItem\"));\nexports.default = (0, vue_1.defineComponent)({\n  name: 'TransferSelectFormItem',\n  props: {\n    selectProps: (0, vue_types_1.object)().def({}),\n    transferProps: (0, vue_types_1.object)().def({}),\n    value: (0, vue_types_1.array)().def([]),\n    dataSource: (0, vue_types_1.array)().def([])\n  },\n  emits: ['change'],\n  data: function data() {\n    return {\n      inputValue: '',\n      selectedKeys: []\n    };\n  },\n  methods: {\n    $renderDropdownRender: function $renderDropdownRender() {\n      var _this = this;\n      var data = this.inputValue ? this.dataSource.filter(function (t) {\n        return t.label.indexOf(_this.inputValue) !== -1;\n      }) : this.dataSource;\n      return (0, _vue.createVNode)(AntdvFormItemNormalize_1.Transfer, (0, _vue.mergeProps)({\n        \"selectedKeys\": this.selectedKeys,\n        \"targetKeys\": this.value,\n        \"dataSource\": data.map(function (t) {\n          return {\n            key: \"\".concat(t.value),\n            title: t.label,\n            description: t.label\n          };\n        }),\n        \"render\": function render(item) {\n          return item.title;\n        }\n      }, tslib_1.__assign({}, this.transferProps), {\n        \"onChange\": function onChange(targetKeys) {\n          _this.$emit('change', targetKeys);\n        },\n        \"onSelectChange\": function onSelectChange(sourceSelectedKeys, targetSelectedKeys) {\n          _this.selectedKeys = tslib_1.__spreadArray(tslib_1.__spreadArray([], sourceSelectedKeys, true), targetSelectedKeys, true);\n        }\n      }), null);\n    }\n  },\n  render: function render() {\n    var _this = this;\n    return (0, vue_1.h)(MulitSelectFormItem_1.default, tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, this.$props), this.$attrs), {\n      selectProps: tslib_1.__assign({\n        dropdownRender: function dropdownRender() {\n          return _this.$renderDropdownRender();\n        },\n        filterOption: function filterOption() {\n          return false;\n        }\n      }, this.$props.selectProps),\n      onSearch: function onSearch(inputValue) {\n        _this.inputValue = inputValue;\n      },\n      onChange: function onChange(val) {\n        _this.$emit('change', val);\n        if (!val || Array.isArray(val) && !val.length) _this.inputValue = '';\n      }\n    }), this.$slots);\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","vue_1","vue_types_1","AntdvFormItemNormalize_1","MulitSelectFormItem_1","__importDefault","default","defineComponent","name","props","selectProps","object","def","transferProps","array","dataSource","emits","data","inputValue","selectedKeys","methods","$renderDropdownRender","_this","this","filter","t","label","indexOf","createVNode","Transfer","mergeProps","targetKeys","map","key","concat","title","description","render","item","__assign","onChange","$emit","onSelectChange","sourceSelectedKeys","targetSelectedKeys","__spreadArray","h","$props","$attrs","dropdownRender","filterOption","onSearch","val","Array","isArray","length","$slots"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EASpBC,SARJD,QAAQ,8CAA8C,EACtDA,QAAQ,oCAAoC,EAC5CA,QAAQ,wCAAwC,EAChDA,QAAQ,sCAAsC,EAC9CA,QAAQ,iCAAiC,EACzCE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACaL,QAAQ,OAAO,GACzBM,MAAQN,QAAQ,KAAK,EACrBO,YAAcP,QAAQ,WAAW,EACjCQ,yBAA2BR,QAAQ,8BAA8B,EACjES,sBAAwBR,QAAQS,gBAAgBV,QAAQ,wBAAwB,CAAC,EACrFI,QAAQO,SAAU,EAAIL,MAAMM,iBAAiB,CAC3CC,KAAM,yBACNC,MAAO,CACLC,aAAa,EAAIR,YAAYS,QAAQ,EAAEC,IAAI,EAAE,EAC7CC,eAAe,EAAIX,YAAYS,QAAQ,EAAEC,IAAI,EAAE,EAC/CZ,OAAO,EAAIE,YAAYY,OAAO,EAAEF,IAAI,EAAE,EACtCG,YAAY,EAAIb,YAAYY,OAAO,EAAEF,IAAI,EAAE,CAC7C,EACAI,MAAO,CAAC,UACRC,KAAM,WACJ,MAAO,CACLC,WAAY,GACZC,aAAc,EAChB,CACF,EACAC,QAAS,CACPC,sBAAuB,WACrB,IAAIC,EAAQC,KACRN,EAAOM,KAAKL,WAAaK,KAAKR,WAAWS,OAAO,SAAUC,GAC5D,MAA6C,CAAC,IAAvCA,EAAEC,MAAMC,QAAQL,EAAMJ,UAAU,CACzC,CAAC,EAAIK,KAAKR,WACV,OAAO,EAAIrB,KAAKkC,aAAazB,yBAAyB0B,UAAU,EAAInC,KAAKoC,YAAY,CACnFX,aAAgBI,KAAKJ,aACrBY,WAAcR,KAAKvB,MACnBe,WAAcE,EAAKe,IAAI,SAAUP,GAC/B,MAAO,CACLQ,IAAK,GAAGC,OAAOT,EAAEzB,KAAK,EACtBmC,MAAOV,EAAEC,MACTU,YAAaX,EAAEC,KACjB,CACF,CAAC,EACDW,OAAU,SAAgBC,GACxB,OAAOA,EAAKH,KACd,CACF,EAAGvC,QAAQ2C,SAAS,GAAIhB,KAAKV,aAAa,EAAG,CAC3C2B,SAAY,SAAkBT,GAC5BT,EAAMmB,MAAM,SAAUV,CAAU,CAClC,EACAW,eAAkB,SAAwBC,EAAoBC,GAC5DtB,EAAMH,aAAevB,QAAQiD,cAAcjD,QAAQiD,cAAc,GAAIF,EAAoB,CAAA,CAAI,EAAGC,EAAoB,CAAA,CAAI,CAC1H,CACF,CAAC,EAAG,IAAI,CACV,CACF,EACAP,OAAQ,WACN,IAAIf,EAAQC,KACZ,OAAO,EAAItB,MAAM6C,GAAG1C,sBAAsBE,QAASV,QAAQ2C,SAAS3C,QAAQ2C,SAAS3C,QAAQ2C,SAAS,GAAIhB,KAAKwB,MAAM,EAAGxB,KAAKyB,MAAM,EAAG,CACpItC,YAAad,QAAQ2C,SAAS,CAC5BU,eAAgB,WACd,OAAO3B,EAAMD,sBAAsB,CACrC,EACA6B,aAAc,WACZ,MAAO,CAAA,CACT,CACF,EAAG3B,KAAKwB,OAAOrC,WAAW,EAC1ByC,SAAU,SAAkBjC,GAC1BI,EAAMJ,WAAaA,CACrB,EACAsB,SAAU,SAAkBY,GAC1B9B,EAAMmB,MAAM,SAAUW,CAAG,EACpBA,IAAOC,CAAAA,MAAMC,QAAQF,CAAG,GAAMA,EAAIG,UAAQjC,EAAMJ,WAAa,GACpE,CACF,CAAC,EAAGK,KAAKiC,MAAM,CACjB,CACF,CAAC"}