"use strict";require("core-js/modules/es.object.to-string.js");var _vue=require("vue");function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,_vue.isVNode)(e)}require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.sort.js"),require("core-js/modules/es.array.map.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),vue_1=require("vue"),vue_types_1=require("vue-types"),adherev_util_intl_1=tslib_1.__importDefault(require("@baifendian/adherev-util-intl")),AntdvFormItemNormalize_1=require("../../AntdvFormItemNormalize"),MulitSelectFormItem_1=tslib_1.__importDefault(require("../MulitSelectFormItem")),selectorPrefix="adherev-ui-antdformitem";exports.default=(0,vue_1.defineComponent)({name:"CheckAllMulitSelectFormItem",props:{selectProps:(0,vue_types_1.object)().def({}),value:(0,vue_types_1.array)().def([]),dataSource:(0,vue_types_1.array)().def([])},emits:["checkAllChange","change"],data:function(){return{checked:!1}},watch:{value:function(e){this.checked=JSON.stringify(JSON.parse(JSON.stringify(e||[])).sort())===JSON.stringify((this.dataSource||[]).map(function(e){return e.value}).sort())},dataSource:function(e){this.checked=JSON.stringify(JSON.parse(JSON.stringify(this.value||[])).sort())===JSON.stringify((e||[]).map(function(e){return e.value}).sort())}},methods:{$onCheckAllChange:function(e){this.checked=e.target.checked,this.$emit("checkAllChange",e.target.checked)},$onChange:function(e){this.checked=e.length===(this.dataSource||[]).map(function(e){return e.value}).length,this.$emit("change",e)},$dropdownRender:function(e){var t,e=e.menuNode;return(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-wrap")},[(0,_vue.createVNode)("div",{class:"".concat(selectorPrefix,"-checkallwrap")},[(0,_vue.createVNode)(AntdvFormItemNormalize_1.Checkbox,{checked:this.checked,onChange:this.$onCheckAllChange},_isSlot(t=adherev_util_intl_1.default.tv("全选"))?t:{default:function(){return[t]}})]),(0,_vue.createVNode)(AntdvFormItemNormalize_1.Divider,{style:"margin: 5px 0"},null),e])}},render:function(){var t=this;return(0,vue_1.h)(MulitSelectFormItem_1.default,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},this.$props),this.$attrs),{selectProps:tslib_1.__assign({dropdownRender:function(e){return t.$dropdownRender(e)}},this.$props.selectProps),onChange:this.$onChange}),this.$slots)}});
//# sourceMappingURL=index.js.map
