{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.to-string.js\");\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.sort.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\nvar AntdvFormItemNormalize_1 = require(\"../../AntdvFormItemNormalize\");\nvar MulitSelectFormItem_1 = tslib_1.__importDefault(require(\"../MulitSelectFormItem\"));\nvar selectorPrefix = 'adherev-ui-antdformitem';\nexports.default = (0, vue_1.defineComponent)({\n  name: 'CheckAllMulitSelectFormItem',\n  props: {\n    selectProps: (0, vue_types_1.object)().def({}),\n    value: (0, vue_types_1.array)().def([]),\n    dataSource: (0, vue_types_1.array)().def([])\n  },\n  emits: ['checkAllChange', 'change'],\n  data: function data() {\n    return {\n      checked: false\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(val || [])).sort()) === JSON.stringify((this.dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    },\n    dataSource: function dataSource(_dataSource) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(this.value || [])).sort()) === JSON.stringify((_dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    }\n  },\n  methods: {\n    $onCheckAllChange: function $onCheckAllChange(e) {\n      this.checked = e.target.checked;\n      this.$emit('checkAllChange', e.target.checked);\n    },\n    $onChange: function $onChange(values) {\n      this.checked = values.length === (this.dataSource || []).map(function (t) {\n        return t.value;\n      }).length;\n      this.$emit('change', values);\n    },\n    $dropdownRender: function $dropdownRender(_a) {\n      var _slot;\n      var menuNode = _a.menuNode;\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-wrap\")\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-checkallwrap\")\n      }, [(0, _vue.createVNode)(AntdvFormItemNormalize_1.Checkbox, {\n        \"checked\": this.checked,\n        \"onChange\": this.$onCheckAllChange\n      }, _isSlot(_slot = adherev_util_intl_1.default.tv('全选')) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      })]), (0, _vue.createVNode)(AntdvFormItemNormalize_1.Divider, {\n        \"style\": \"margin: 5px 0\"\n      }, null), menuNode]);\n    }\n  },\n  render: function render() {\n    var _this = this;\n    return (0, vue_1.h)(MulitSelectFormItem_1.default, tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, this.$props), this.$attrs), {\n      selectProps: tslib_1.__assign({\n        dropdownRender: function dropdownRender(menu) {\n          return _this.$dropdownRender(menu);\n        }\n      }, this.$props.selectProps),\n      onChange: this.$onChange\n    }), this.$slots);\n  }\n});"],"names":["require","_vue","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","tslib_1","vue_1","vue_types_1","adherev_util_intl_1","__importDefault","AntdvFormItemNormalize_1","MulitSelectFormItem_1","selectorPrefix","default","defineComponent","name","props","selectProps","object","def","array","dataSource","emits","data","checked","watch","val","this","JSON","stringify","parse","sort","map","t","_dataSource","methods","$onCheckAllChange","e","target","$emit","$onChange","values","length","$dropdownRender","_a","_slot","menuNode","createVNode","class","concat","Checkbox","onChange","tv","Divider","style","render","_this","h","__assign","$props","$attrs","dropdownRender","menu","$slots"],"mappings":"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"}