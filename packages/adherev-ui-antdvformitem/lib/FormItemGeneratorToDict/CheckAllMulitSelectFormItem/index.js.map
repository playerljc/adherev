{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.sort.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\nvar AntdvFormItemNormalize_1 = require(\"../../AntdvFormItemNormalize\");\nvar MulitSelectFormItem_1 = tslib_1.__importDefault(require(\"../MulitSelectFormItem\"));\nvar selectorPrefix = 'adherev-ui-antdformitem';\nexports.default = {\n  name: 'CheckAllMulitSelectFormItem',\n  props: {\n    selectProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    value: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  emits: ['checkAllChange', 'change'],\n  data: function data() {\n    return {\n      checked: false\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(val || [])).sort()) === JSON.stringify((this.dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    },\n    dataSource: function dataSource(_dataSource) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(this.value || [])).sort()) === JSON.stringify((_dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    }\n  },\n  methods: {\n    $onCheckAllChange: function $onCheckAllChange(e) {\n      this.checked = e.target.checked;\n      this.$emit('checkAllChange', e.target.checked);\n    },\n    $onChange: function $onChange(values) {\n      this.checked = values.length === (this.dataSource || []).map(function (t) {\n        return t.value;\n      }).length;\n      this.$emit('change', values);\n    },\n    $dropdownRender: function $dropdownRender(h, menu) {\n      return h(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-wrap\")\n      }, [h(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-checkallwrap\")\n      }, [h(AntdvFormItemNormalize_1.Checkbox, {\n        \"attrs\": {\n          \"checked\": this.checked\n        },\n        \"on\": {\n          \"change\": this.$onCheckAllChange\n        }\n      }, [adherev_util_intl_1.default.tv('全选')])]), h(AntdvFormItemNormalize_1.Divider, {\n        \"style\": \"margin: 5px 0\"\n      }), menu]);\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    return h(MulitSelectFormItem_1.default, {\n      props: tslib_1.__assign(tslib_1.__assign({}, this.$props), {\n        selectProps: tslib_1.__assign({\n          dropdownRender: function dropdownRender(menu) {\n            return _this.$dropdownRender(h, menu);\n          }\n        }, this.$props.selectProps)\n      }),\n      attrs: this.$attrs,\n      scopedSlots: this.$scopedSlots,\n      on: tslib_1.__assign(tslib_1.__assign({}, this.$listeners), {\n        change: this.$onChange\n      })\n    }, this.$slots.default);\n  }\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","adherev_util_intl_1","__importDefault","AntdvFormItemNormalize_1","MulitSelectFormItem_1","selectorPrefix","default","name","props","selectProps","type","Array","dataSource","emits","data","checked","watch","val","this","JSON","stringify","parse","sort","map","t","_dataSource","methods","$onCheckAllChange","e","target","$emit","$onChange","values","length","$dropdownRender","h","menu","class","concat","Checkbox","attrs","on","change","tv","Divider","style","render","_this","__assign","$props","dropdownRender","$attrs","scopedSlots","$scopedSlots","$listeners","$slots"],"mappings":"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"}