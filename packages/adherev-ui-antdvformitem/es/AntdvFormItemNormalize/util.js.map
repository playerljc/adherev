{"version":3,"file":"util.js","sources":["AntdvFormItemNormalize/util.js"],"sourcesContent":["import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { __assign } from \"tslib\";\nimport { h, inject } from 'vue';\n/**\n * assignAttrs\n * @param props\n * @param parentElement\n * @param defaultProps\n */\nexport function assignAttrs(props, defaultProps, parentElement) {\n  var res = __assign(__assign({}, defaultProps), props);\n  if (!('getPopupContainer' in res) || res.getPopupContainer === undefined) {\n    res.getPopupContainer = function (el) {\n      return parentElement || (el === null || el === void 0 ? void 0 : el.parentElement) || document.body;\n    };\n  }\n  // if (!('getCalendarContainer' in res) || res.getCalendarContainer === undefined) {\n  //   res.getCalendarContainer = (el) => {\n  //     return parentElement || el?.parentElement || document.body;\n  //   };\n  // }\n  return res;\n}\n/**\n * extend\n * @description 实现高阶函数\n * @param Component - Vue组件配置对象\n * @param optionsOverwrite - Vue组件的options\n * @param renderOptions - props,attrs和slots\n */\n// export function extend(\n//   // 包装的组件\n//   Component: any,\n//   optionsOverwrite?: any,\n//   renderOptions?: {\n//     props?: (props: any, getEl: any) => any;\n//     attrs?: (attrs: any) => any;\n//     slots?: (slots: any) => any;\n//   },\n// ) {\n//   return defineComponent(\n//     merge(\n//       {\n//         ...(Component || {}),\n//       },\n//       {\n//         ...(optionsOverwrite || {}),\n//         setup(props, { slots, attrs, expose }) {\n//           const comRef = ref();\n//\n//           if (Component.expose) {\n//             const exposeObj = {};\n//             Component.expose.forEach((methodName) => {\n//               exposeObj[methodName] = (params) => comRef.value?.[methodName]?.(params);\n//             });\n//             expose(exposeObj);\n//           }\n//\n//           const getEl = inject<(() => HTMLElement | null) | null>('getEl');\n//\n//           console.log('attrs', renderOptions?.attrs?.(attrs) || attrs || {});\n//           console.log('props', renderOptions?.props?.(props, getEl));\n//\n//           const mergeProps = {\n//             ...(renderOptions?.attrs?.(attrs) || attrs || {}),\n//             ...(renderOptions?.props?.(props, getEl) || props || {}),\n//             ref: comRef,\n//           };\n//\n//           console.log('mergeProps', mergeProps);\n//\n//           return () =>\n//             h(Component, mergeProps, {\n//               ...(renderOptions?.slots?.(slots) || slots || {}),\n//             });\n//         },\n//       },\n//     ),\n//   );\n// }\nexport function HOC(\n// 包装的组件\nComponent, renderOptions) {\n  var ComponentOtherMixins = {};\n  // 将Component中大写字母开头的属性赋值到function中\n  Object.keys(Component).filter(function (key) {\n    return /^[A-Z]/.test(key);\n  }).forEach(function (key) {\n    return ComponentOtherMixins[key] = Component[key];\n  });\n  return Object.assign(function (props, context) {\n    var _a, _b, _c;\n    return h(Component, __assign(__assign(__assign(__assign({}, props), context.attrs), ((_a = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.props) === null || _a === void 0 ? void 0 : _a.call(renderOptions, props, inject('getEl'))) || {}), ((_b = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.attrs) === null || _b === void 0 ? void 0 : _b.call(renderOptions, context.attrs)) || {}), ((_c = renderOptions === null || renderOptions === void 0 ? void 0 : renderOptions.slots) === null || _c === void 0 ? void 0 : _c.call(renderOptions, context.slots)) || context.slots);\n  }, ComponentOtherMixins);\n}"],"names":["__assign","h","inject","assignAttrs","props","defaultProps","parentElement","res","undefined","getPopupContainer","el","document","body","HOC","Component","renderOptions","ComponentOtherMixins","Object","keys","filter","key","test","forEach","assign","context","_b","attrs","_a","call","_c","slots"],"mappings":"MAAO,+CACA,wDACA,2CACA,0CACA,0CACA,6CACEA,QAAuB,KAAP,eAChBC,EAAGC,MAAmB,KAAL,MAOnB,SAASC,YAAYC,EAAOC,EAAcC,GAC3CC,EAAMP,SAASA,SAAS,GAAIK,CAAY,EAAGD,CAAK,EAWpD,MAVM,sBAAuBG,GAAkCC,KAAAA,IAA1BD,EAAIE,oBACvCF,EAAIE,kBAAoB,SAAUC,GAChC,OAAOJ,IAAkBI,MAAAA,EAA+B,KAAA,EAASA,EAAGJ,gBAAkBK,SAASC,IACjG,GAOKL,CACT,CA0DO,SAASM,IAEhBC,EAAWC,GACT,IAAIC,EAAuB,GAO3B,OALAC,OAAOC,KAAKJ,CAAS,EAAEK,OAAO,SAAUC,GACtC,MAAO,SAASC,KAAKD,CAAG,CAC1B,CAAC,EAAEE,QAAQ,SAAUF,GACnB,OAAOJ,EAAqBI,GAAON,EAAUM,EAC/C,CAAC,EACMH,OAAOM,OAAO,SAAUnB,EAAOoB,GACpC,IAAQC,EACR,OAAOxB,EAAEa,EAAWd,SAASA,SAASA,SAASA,SAAS,GAAII,CAAK,EAAGoB,EAAQE,KAAK,GAAI,OAACC,EAAKZ,MAAAA,EAAqD,KAAA,EAASA,EAAcX,OAAmC,KAAA,EAASuB,EAAGC,KAAKb,EAAeX,EAAOF,OAAO,OAAO,CAAC,IAAM,EAAE,GAAI,OAACuB,EAAKV,MAAAA,EAAqD,KAAA,EAASA,EAAcW,OAAmC,KAAA,EAASD,EAAGG,KAAKb,EAAeS,EAAQE,KAAK,IAAM,EAAE,GAAI,OAACG,EAAKd,MAAAA,EAAqD,KAAA,EAASA,EAAce,OAAmC,KAAA,EAASD,EAAGD,KAAKb,EAAeS,EAAQM,KAAK,IAAMN,EAAQM,KAAK,CACjnB,EAAGd,CAAoB,CACzB,QArFgBb,YAuEAU,GAchB"}