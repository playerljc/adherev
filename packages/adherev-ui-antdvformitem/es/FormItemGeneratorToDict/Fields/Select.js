import _mergeJSXProps9 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps8 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps7 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps6 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps5 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps4 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps3 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps2 from"@vue/babel-helper-vue-jsx-merge-props";import _mergeJSXProps from"@vue/babel-helper-vue-jsx-merge-props";import"core-js/modules/es.array.filter.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.object.keys.js";import"core-js/modules/es.string.ends-with.js";import"core-js/modules/web.dom-collections.for-each.js";import"core-js/modules/es.number.constructor.js";import"core-js/modules/es.array.map.js";import"core-js/modules/es.array.from.js";import"core-js/modules/es.string.iterator.js";import"core-js/modules/es.array.iterator.js";import"core-js/modules/es.set.js";import"core-js/modules/esnext.set.add-all.js";import"core-js/modules/esnext.set.delete-all.js";import"core-js/modules/esnext.set.difference.js";import"core-js/modules/esnext.set.every.js";import"core-js/modules/esnext.set.filter.js";import"core-js/modules/esnext.set.find.js";import"core-js/modules/esnext.set.intersection.js";import"core-js/modules/esnext.set.is-disjoint-from.js";import"core-js/modules/esnext.set.is-subset-of.js";import"core-js/modules/esnext.set.is-superset-of.js";import"core-js/modules/esnext.set.join.js";import"core-js/modules/esnext.set.map.js";import"core-js/modules/esnext.set.reduce.js";import"core-js/modules/esnext.set.some.js";import"core-js/modules/esnext.set.symmetric-difference.js";import"core-js/modules/esnext.set.union.js";import"core-js/modules/web.dom-collections.iterator.js";import"core-js/modules/es.array.find.js";import{__assign,__rest,__spreadArray}from"tslib";import debounce from"lodash.debounce";import Dict from"@baifendian/adherev-util-dict";import WatchMemoized from"@baifendian/adherev-util-watchmemoized";import{Spin}from"../../AntdvFormItemNormalize";import CheckAllMulitSelectFormItem from"../CheckAllMulitSelectFormItem";import MulitSelectFormItem from"../MulitSelectFormItem";import SelectFormItem from"../SelectFormItem";var memoized=WatchMemoized.memoized,FormItemComponents={};export default function(){var e=Object.keys(Dict.handlers).filter(function(e){return e.endsWith("Select")}),t=Object.keys(Dict.handlers).filter(function(e){return e.endsWith("DynamicSelect")}),r=Object.keys(Dict.handlers).filter(function(e){return e.endsWith("AutoCompleteSelect")});return e.forEach(function(t){FormItemComponents["".concat(t,"FormItem")]={name:"".concat(t,"FormItem"),props:{cascadeParams:{type:[Number,String]},selectProps:{type:Object,default:function(){return{}}},value:{type:[Number,String],default:""}},computed:{dataSource:function(){var e=Dict.value[t].value;return e instanceof Function?e(this.cascadeParams):e}},render:function(e){var t=this.$props,t=(t.cascadeParams,__rest(t,["cascadeParams"]));return e(SelectFormItem,_mergeJSXProps([{},{props:__assign(__assign({},t),{dataSource:this.dataSource}),attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:this.$listeners}]),[this.$slots.default])}},FormItemComponents["".concat(t,"MulitFormItem")]={name:"".concat(t,"MulitFormItem"),props:{cascadeParams:{type:[Number,String]},selectProps:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},computed:{dataSource:function(){var e=Dict.value[t].value;return e instanceof Function?e(this.cascadeParams):e}},render:function(e){var t=this.$props,t=(t.cascadeParams,__rest(t,["cascadeParams"]));return e(MulitSelectFormItem,_mergeJSXProps2([{},{props:__assign(__assign({},t),{dataSource:this.dataSource}),attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:this.$listeners}]),[this.$slots.default])}},FormItemComponents["".concat(t,"CheckAllMulitFormItem")]={name:"".concat(t,"CheckAllMulitFormItem"),props:{cascadeParams:{type:[Number,String]},selectProps:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},emits:["change"],computed:{dataSource:function(){var e=Dict.value[t].value;return e instanceof Function?e(this.cascadeParams):e}},render:function(e){var t=this,r=this.$props,r=(r.cascadeParams,__rest(r,["cascadeParams"]));return e(CheckAllMulitSelectFormItem,_mergeJSXProps3([{},{props:__assign(__assign({},r),{dataSource:this.dataSource}),attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:__assign(__assign({},this.$listeners),{checkAllChange:function(e){t.$emit("change",e?t.dataSource.map(function(e){return e.value}):[])}})}]),[this.$slots.default])}}}),t.forEach(function(r){FormItemComponents["".concat(r,"FormItem")]={name:"".concat(r,"FormItem"),props:{cascadeParams:{type:[Number,String]},selectProps:{type:Object,default:function(){return{}}},value:{type:[Number,String],default:""}},data:function(){return{dataSource:[]}},methods:{$loadData:function(e){var t=Dict.value[r].value;t instanceof Function&&t(e).then(function(e){this.dataSource=e})}},watch:{cascadeParams:function(e){this.$loadData(e)}},mounted:function(){var e=Dict.value[r].value;e.then&&e.then(function(e){this.dataSource=e})},render:function(e){var t=this.$props,t=(t.cascadeParams,__rest(t,["cascadeParams"]));return e(SelectFormItem,_mergeJSXProps4([{},{props:__assign(__assign({},t),{dataSource:this.dataSource}),attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:this.$listeners}]),[this.$slots.default])}},FormItemComponents["".concat(r,"MulitFormItem")]={name:"".concat(r,"MulitFormItem"),props:{cascadeParams:{type:[Number,String]},selectProps:{type:Object,default:function(){return{}}},value:{type:[Number,String],default:""}},data:function(){return{dataSource:[]}},methods:{$loadData:function(e){var t=Dict.value[r].value;t instanceof Function&&t(e).then(function(e){this.dataSource=e})}},watch:{cascadeParams:function(e){this.$loadData(e)}},mounted:function(){var e=Dict.value[r].value;e.then&&e.then(function(e){this.dataSource=e})},render:function(e){var t=this.$props,t=(t.cascadeParams,__rest(t,["cascadeParams"]));return e(MulitSelectFormItem,_mergeJSXProps5([{},{props:__assign(__assign({},t),{dataSource:this.dataSource}),attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:this.$listeners}]),[this.$slots.default])}},FormItemComponents["".concat(r,"CheckAllMulitFormItem")]={name:"".concat(r,"CheckAllMulitFormItem"),props:{cascadeParams:{type:[Number,String]},selectProps:{type:Object,default:function(){return{}}},value:{type:[Number,String],default:""}},emits:["change"],data:function(){return{dataSource:[]}},methods:{$loadData:function(e){var t=Dict.value[r].value;t instanceof Function&&t(e).then(function(e){this.dataSource=e})}},watch:{cascadeParams:function(e){this.$loadData(e)}},mounted:function(){var e=Dict.value[r].value;e.then&&e.then(function(e){this.dataSource=e})},render:function(e){var t=this,r=this.$props,r=(r.cascadeParams,__rest(r,["cascadeParams"]));return e(CheckAllMulitSelectFormItem,_mergeJSXProps6([{},{props:__assign(__assign({},r),{dataSource:this.dataSource}),attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:__assign(__assign({},this.$listeners),{checkAllChange:function(e){t.$emit("change",e?t.dataSource.map(function(e){return e.value}):[])}})}]),[this.$slots.default])}}}),r.forEach(function(r){FormItemComponents["".concat(r,"FormItem")]={name:"".concat(r,"FormItem"),props:{selectProps:{type:Object,default:function(){return{}}},value:{type:[Number,String],default:""},debounceTimeout:{type:Number,default:300}},data:function(){return{fetching:!1,dataSource:[],$debounceFetcher:this.$createDebounceFetcher(),$fetchRef:0}},methods:{$createDebounceFetcher:function(){var a=this;return debounce(memoized.createMemoFun(function(e){a.$data.$fetchRef+=1;var t=a.$data.$fetchRef;e?(0,Dict.value[r].value)(e).then(function(e){var r;t===a.$data.$fetchRef&&(r=__spreadArray(__spreadArray([],e,!0),a.dataSource.filter(function(e){return e.value===a.value}),!0),a.dataSource=__spreadArray([],Array.from(new Set(r.map(function(e){return e.value}))),!0).map(function(t){return r.find(function(e){return e.value===t})}),a.fetching=!1)}):(a.dataSource=a.dataSource.filter(function(e){return e.value===a.value}),a.fetching=!1)}),this.debounceTimeout||300)}},watch:{debounceTimeout:function(){this.$data.$debounceFetcher=this.$createDebounceFetcher(),this.$forceUpdate()}},render:function(e){var t=this;return e(SelectFormItem,_mergeJSXProps7([{},{props:{selectProps:__assign({notFoundContent:this.fetching?e(Spin,{attrs:{size:"small"}}):null,filterOption:!1,showArrow:!1,defaultActiveFirstOption:!1},this.selectProps),value:this.value,dataSource:this.dataSource},attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:__assign(__assign({},this.$listeners),{search:this.$data.$debounceFetcher,change:function(e){e||(t.dataSource=[],t.fetching=!1),t.$emit("change",e)}})}]),[this.$slots.default])}},FormItemComponents["".concat(r,"MulitFormItem")]={name:"".concat(r,"MulitFormItem"),props:{selectProps:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}},debounceTimeout:{type:Number,default:300}},data:function(){return{fetching:!1,dataSource:[],$debounceFetcher:this.$createDebounceFetcher(),$fetchRef:0}},methods:{$createDebounceFetcher:function(){var a=this;return debounce(memoized.createMemoFun(function(e){a.$data.$fetchRef+=1;var t=a.$data.$fetchRef;!e||Array.isArray(e)&&!e.length?(a.dataSource=a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),a.fetching=!1):(0,Dict.value[r].value)(e).then(function(e){var r;t===a.$data.$fetchRef&&(r=__spreadArray(__spreadArray([],e,!0),a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),!0),a.dataSource=__spreadArray([],Array.from(new Set(r.map(function(e){return e.value}))),!0).map(function(t){return r.find(function(e){return e.value===t})}),a.fetching=!1)})}),this.debounceTimeout||300)}},watch:{debounceTimeout:function(){this.$data.$debounceFetcher=this.$createDebounceFetcher(),this.$forceUpdate()}},render:function(e){var t=this;return e(MulitSelectFormItem,_mergeJSXProps8([{},{props:{selectProps:__assign({notFoundContent:this.fetching?e(Spin,{attrs:{size:"small"}}):null,filterOption:!1,showArrow:!1,defaultActiveFirstOption:!1},this.selectProps),value:this.value,dataSource:this.dataSource},attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:__assign(__assign({},this.$listeners),{search:this.$data.$debounceFetcher,change:function(e){e&&(!Array.isArray(e)||e.length)||(t.dataSource=[],t.fetching=!1),t.$emit("change",e)}})}]),[this.$slots.default])}},FormItemComponents["".concat(r,"CheckAllMulitFormItem")]={name:"".concat(r,"CheckAllMulitFormItem"),props:{selectProps:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}},debounceTimeout:{type:Number,default:300}},emits:["change"],data:function(){return{fetching:!1,dataSource:[],$debounceFetcher:this.$createDebounceFetcher(),$fetchRef:0}},methods:{$createDebounceFetcher:function(){var a=this;return debounce(memoized.createMemoFun(function(e){a.$data.$fetchRef+=1;var t=a.$data.$fetchRef;!e||Array.isArray(e)&&!e.length?(a.dataSource=a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),a.fetching=!1):(0,Dict.value[r].value)(e).then(function(e){var r;t===a.$data.$fetchRef&&(r=__spreadArray(__spreadArray([],e,!0),a.dataSource.filter(function(t){return Array.isArray(a.value)?!!a.value.find(function(e){return e===t.value}):t.value===a.value}),!0),a.dataSource=__spreadArray([],Array.from(new Set(r.map(function(e){return e.value}))),!0).map(function(t){return r.find(function(e){return e.value===t})}),a.fetching=!1)})}),this.debounceTimeout||300)}},watch:{debounceTimeout:function(){this.$data.$debounceFetcher=this.$createDebounceFetcher(),this.$forceUpdate()}},render:function(e){var t=this;return e(CheckAllMulitSelectFormItem,_mergeJSXProps9([{},{props:{selectProps:__assign({notFoundContent:this.fetching?e(Spin,{attrs:{size:"small"}}):null,filterOption:!1,showArrow:!1,defaultActiveFirstOption:!1},this.selectProps),value:this.value,dataSource:this.dataSource},attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:__assign(__assign({},this.$listeners),{search:this.$data.$debounceFetcher,change:function(e){e&&(!Array.isArray(e)||e.length)||(t.dataSource=[],t.fetching=!1),t.$emit("change",e)},checkAllChange:function(e){t.$emit("change",e?t.dataSource.map(function(e){return e.value}):[])}})}]),[this.$slots.default])}}}),FormItemComponents}
//# sourceMappingURL=Select.js.map
