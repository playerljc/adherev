{"version":3,"file":"AutoComplete.js","sources":["FormItemGeneratorToDict/Fields/AutoComplete.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.ends-with.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.object.define-properties.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { __assign, __rest } from \"tslib\";\nimport Dict from '@baifendian/adherev-util-dict';\nimport AutoCompleteFormItem from '../AutoCompleteFormItem';\nvar FormItemComponents = {};\nexport default (function () {\n  // 名称以AutoComplete结尾的字典\n  var autoCompleteDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('AutoComplete');\n  });\n  // 名称以DynamicAutoComplete结尾的字典\n  var autoCompleteDynamicDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('DynamicAutoComplete');\n  });\n  // 静态的AutoComplete\n  autoCompleteDictNames.forEach(function (dictName) {\n    // SelectFormItem\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = {\n      name: \"\".concat(dictName, \"FormItem\"),\n      props: {\n        cascadeParams: {\n          type: [String, Number],\n          default: ''\n        },\n        autoCompleteProps: {\n          type: Object,\n          default: function _default() {\n            return {};\n          }\n        },\n        value: {\n          type: Object,\n          default: function _default() {\n            return {\n              inputValue: '',\n              selectValue: ''\n            };\n          }\n        }\n      },\n      computed: {\n        dataSource: function dataSource() {\n          var handler = Dict.value[dictName].value;\n          // 如果是函数(一般是级联)\n          if (handler instanceof Function) return handler(this.cascadeParams);\n          return handler;\n        }\n      },\n      render: function render(h) {\n        var _this = this;\n        var _a = this.$props,\n          cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n        return (// @ts-ignore\n          h(AutoCompleteFormItem, {\n            \"attrs\": _objectSpread({\n              \"dataSource\": this.dataSource\n            }, __assign({}, this.$attrs || {})),\n            \"props\": _objectSpread({}, __assign({}, props)),\n            \"on\": _objectSpread({}, __assign({}, this.$listeners || {}))\n          }, [Object.keys(this.$slots).reduce(function (arr, key) {\n            return arr.concat(_this.$slots[key]);\n          }, [])])\n        );\n      }\n    };\n  });\n  // 动态的AutoComplete\n  autoCompleteDynamicDictNames.forEach(function (dictName) {\n    // SelectFormItem\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = {\n      name: \"\".concat(dictName, \"FormItem\"),\n      props: {\n        cascadeParams: {\n          type: [String, Number],\n          default: ''\n        },\n        autoCompleteProps: {\n          type: Object,\n          default: function _default() {\n            return {};\n          }\n        },\n        value: {\n          type: Object,\n          default: function _default() {\n            return {\n              inputValue: '',\n              selectValue: ''\n            };\n          }\n        }\n      },\n      data: function data() {\n        return {\n          dataSource: []\n        };\n      },\n      methods: {\n        $loadData: function $loadData(params) {\n          // 存放字典的返回值(可能是promise也可能是Function)\n          var handler = Dict.value[dictName].value;\n          // 如果是函数(一般是级联)\n          if (handler instanceof Function) {\n            handler(params).then(function (res) {\n              this.dataSource = res;\n            });\n          }\n        }\n      },\n      watch: {\n        cascadeParams: function cascadeParams(val) {\n          this.$loadData(val);\n        }\n      },\n      mounted: function mounted() {\n        // 存放字典的返回值(可能是promise也可能是Function)\n        var handler = Dict.value[dictName].value;\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            this.dataSource = res;\n          });\n        }\n      },\n      render: function render(h) {\n        var _this = this;\n        var _a = this.$props,\n          cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n        return (// @ts-ignore\n          h(AutoCompleteFormItem, {\n            \"attrs\": _objectSpread({\n              \"dataSource\": this.dataSource\n            }, __assign({}, this.$attrs || {})),\n            \"props\": _objectSpread({}, __assign({}, props)),\n            \"on\": _objectSpread({}, __assign({}, this.$listeners || {}))\n          }, [Object.keys(this.$slots).reduce(function (arr, key) {\n            return arr.concat(_this.$slots[key]);\n          }, [])])\n        );\n      }\n    };\n  });\n  return FormItemComponents;\n});"],"names":["_defineProperty","ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","__assign","__rest","Dict","AutoCompleteFormItem","FormItemComponents","autoCompleteDictNames","handlers","dictName","endsWith","autoCompleteDynamicDictNames","concat","name","props","cascadeParams","type","String","Number","default","autoCompleteProps","value","inputValue","selectValue","computed","dataSource","handler","Function","this","render","h","_this","_a","$props","attrs","$attrs","on","$listeners","$slots","reduce","arr","data","methods","$loadData","params","then","res","watch","val","mounted"],"mappings":"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"}