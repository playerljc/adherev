{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["import { createVNode as _createVNode, isVNode as _isVNode } from \"vue\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { __assign } from \"tslib\";\nimport { defineComponent, h } from 'vue';\nimport { array, object } from 'vue-types';\nimport Intl from '@baifendian/adherev-util-intl';\nimport { Checkbox, Divider } from '../../AntdvFormItemNormalize';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\nvar selectorPrefix = 'adherev-ui-antdformitem';\nexport default defineComponent({\n  name: 'CheckAllMulitSelectFormItem',\n  props: {\n    selectProps: object().def({}),\n    value: array().def([]),\n    dataSource: array().def([])\n  },\n  emits: ['checkAllChange', 'change'],\n  data: function data() {\n    return {\n      checked: false\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(val || [])).sort()) === JSON.stringify((this.dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    },\n    dataSource: function dataSource(_dataSource) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(this.value || [])).sort()) === JSON.stringify((_dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    }\n  },\n  methods: {\n    $onCheckAllChange: function $onCheckAllChange(e) {\n      this.checked = e.target.checked;\n      this.$emit('checkAllChange', e.target.checked);\n    },\n    $onChange: function $onChange(values) {\n      this.checked = values.length === (this.dataSource || []).map(function (t) {\n        return t.value;\n      }).length;\n      this.$emit('change', values);\n    },\n    $dropdownRender: function $dropdownRender(_a) {\n      var _slot;\n      var menuNode = _a.menuNode;\n      return _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-wrap\")\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-checkallwrap\")\n      }, [_createVNode(Checkbox, {\n        \"checked\": this.checked,\n        \"onChange\": this.$onCheckAllChange\n      }, _isSlot(_slot = Intl.tv('全选')) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      })]), _createVNode(Divider, {\n        \"style\": \"margin: 5px 0\"\n      }, null), menuNode]);\n    }\n  },\n  render: function render() {\n    var _this = this;\n    return h(MulitSelectFormItem, __assign(__assign(__assign({}, this.$props), this.$attrs), {\n      selectProps: __assign({\n        dropdownRender: function dropdownRender(menu) {\n          return _this.$dropdownRender(menu);\n        }\n      }, this.$props.selectProps),\n      onChange: this.$onChange\n    }), this.$slots);\n  }\n});"],"names":["_createVNode","_isVNode","__assign","defineComponent","h","array","object","Intl","Checkbox","Divider","MulitSelectFormItem","_isSlot","s","Object","prototype","toString","call","selectorPrefix","name","props","selectProps","def","value","dataSource","emits","data","checked","watch","val","this","JSON","stringify","parse","sort","map","t","_dataSource","methods","$onCheckAllChange","e","target","$emit","$onChange","values","length","$dropdownRender","_a","_slot","menuNode","class","concat","onChange","tv","default","style","render","_this","$props","$attrs","dropdownRender","menu","$slots"],"mappings":"OAAwBA,4BAAyBC,mBAAqB,KAAL,YAC1D,yCACA,wCACA,gDACEC,QAAuB,KAAP,eAChBC,gBAAiBC,CAAc,KAAL,aAC1BC,MAAOC,MAAyB,KAAX,mBACvBC,SAAU,uCACRC,SAAUC,OAA6C,KAA9B,sCAC3BC,wBAAyB,yBAChC,SAASC,QAAQC,GACf,MAAoB,YAAb,OAAOA,GAA0D,oBAAtCC,OAAOC,UAAUC,SAASC,KAAKJ,CAAC,GAA2B,CAACX,SAASW,CAAC,CAC1G,CACA,IAAIK,eAAiB,yCACNd,gBAAgB,CAC7Be,KAAM,8BACNC,MAAO,CACLC,YAAad,OAAO,EAAEe,IAAI,EAAE,EAC5BC,MAAOjB,MAAM,EAAEgB,IAAI,EAAE,EACrBE,WAAYlB,MAAM,EAAEgB,IAAI,EAAE,CAC5B,EACAG,MAAO,CAAC,iBAAkB,UAC1BC,KAAM,WACJ,MAAO,CACLC,QAAS,CAAA,CACX,CACF,EACAC,MAAO,CACLL,MAAO,SAAeM,GACpBC,KAAKH,QAAUI,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,UAAUH,GAAO,EAAE,CAAC,EAAEK,KAAK,CAAC,IAAMH,KAAKC,WAAWF,KAAKN,YAAc,IAAIW,IAAI,SAAUC,GACnI,OAAOA,EAAEb,KACX,CAAC,EAAEW,KAAK,CAAC,CACX,EACAV,WAAY,SAAoBa,GAC9BP,KAAKH,QAAUI,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,UAAUF,KAAKP,OAAS,EAAE,CAAC,EAAEW,KAAK,CAAC,IAAMH,KAAKC,WAAWK,GAAe,IAAIF,IAAI,SAAUC,GACtI,OAAOA,EAAEb,KACX,CAAC,EAAEW,KAAK,CAAC,CACX,CACF,EACAI,QAAS,CACPC,kBAAmB,SAA2BC,GAC5CV,KAAKH,QAAUa,EAAEC,OAAOd,QACxBG,KAAKY,MAAM,iBAAkBF,EAAEC,OAAOd,OAAO,CAC/C,EACAgB,UAAW,SAAmBC,GAC5Bd,KAAKH,QAAUiB,EAAOC,UAAYf,KAAKN,YAAc,IAAIW,IAAI,SAAUC,GACrE,OAAOA,EAAEb,KACX,CAAC,EAAEsB,OACHf,KAAKY,MAAM,SAAUE,CAAM,CAC7B,EACAE,gBAAiB,SAAyBC,GACxC,IAAIC,EACAC,EAAWF,EAAGE,SAClB,OAAOhD,aAAa,MAAO,CACzBiD,MAAS,GAAGC,OAAOjC,eAAgB,OAAO,CAC5C,EAAG,CAACjB,aAAa,MAAO,CACtBiD,MAAS,GAAGC,OAAOjC,eAAgB,eAAe,CACpD,EAAG,CAACjB,aAAaQ,SAAU,CACzBkB,QAAWG,KAAKH,QAChByB,SAAYtB,KAAKS,iBACnB,EAAG3B,QAAQoC,EAAQxC,KAAK6C,GAAG,IAAI,CAAC,EAAIL,EAAQ,CAC1CM,QAAS,WACP,MAAO,CAACN,EACV,CACF,CAAC,EAAE,EAAG/C,aAAaS,QAAS,CAC1B6C,MAAS,eACX,EAAG,IAAI,EAAGN,EAAS,CACrB,CACF,EACAO,OAAQ,WACN,IAAIC,EAAQ3B,KACZ,OAAOzB,EAAEM,oBAAqBR,SAASA,SAASA,SAAS,GAAI2B,KAAK4B,MAAM,EAAG5B,KAAK6B,MAAM,EAAG,CACvFtC,YAAalB,SAAS,CACpByD,eAAgB,SAAwBC,GACtC,OAAOJ,EAAMX,gBAAgBe,CAAI,CACnC,CACF,EAAG/B,KAAK4B,OAAOrC,WAAW,EAC1B+B,SAAUtB,KAAKa,SACjB,CAAC,EAAGb,KAAKgC,MAAM,CACjB,CACF,CAAC"}