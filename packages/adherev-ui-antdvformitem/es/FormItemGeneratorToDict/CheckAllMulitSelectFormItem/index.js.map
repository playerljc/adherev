{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["import \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { __assign } from \"tslib\";\nimport { Checkbox, Divider } from 'ant-design-vue';\nimport Intl from '@baifendian/adherev-util-intl';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nvar selectorPrefix = 'adherev-ui-antdformitem';\nexport default {\n  name: 'CheckAllMulitSelectFormItem',\n  props: {\n    selectProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    value: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  emits: ['checkAllChange', 'change'],\n  data: function data() {\n    return {\n      checked: false\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(val || [])).sort()) === JSON.stringify((this.dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    },\n    dataSource: function dataSource(_dataSource) {\n      this.checked = JSON.stringify(JSON.parse(JSON.stringify(this.value || [])).sort()) === JSON.stringify((_dataSource || []).map(function (t) {\n        return t.value;\n      }).sort());\n    }\n  },\n  methods: {\n    $onCheckAllChange: function $onCheckAllChange(e) {\n      this.checked = e.target.checked;\n      this.$emit('checkAllChange', e.target.checked);\n    },\n    $onChange: function $onChange(values) {\n      this.checked = values.length === (this.dataSource || []).map(function (t) {\n        return t.value;\n      }).length;\n      this.$emit('change', values);\n    },\n    $dropdownRender: function $dropdownRender(h, menu) {\n      return h(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-wrap\")\n      }, [h(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-checkallwrap\")\n      }, [h(Checkbox, {\n        \"attrs\": {\n          \"checked\": this.checked\n        },\n        \"on\": {\n          \"change\": this.$onCheckAllChange\n        }\n      }, [Intl.tv('全选')])]), h(Divider, {\n        \"style\": \"margin: 5px 0\"\n      }), menu]);\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    return h(MulitSelectFormItem, {\n      props: __assign(__assign({}, this.$props), {\n        selectProps: __assign({\n          dropdownRender: function dropdownRender(menu) {\n            return _this.$dropdownRender(h, menu);\n          }\n        }, this.$props.selectProps)\n      }),\n      attrs: this.$attrs,\n      scopedSlots: this.$scopedSlots,\n      on: __assign(__assign({}, this.$listeners), {\n        change: this.$onChange\n      })\n    }, this.$slots.default);\n  }\n};"],"names":["__assign","Checkbox","Divider","Intl","MulitSelectFormItem","selectorPrefix","name","props","selectProps","type","Object","default","value","Array","dataSource","emits","data","checked","watch","val","this","JSON","stringify","parse","sort","map","t","_dataSource","methods","$onCheckAllChange","e","target","$emit","$onChange","values","length","$dropdownRender","h","menu","class","concat","attrs","on","change","tv","style","render","_this","$props","dropdownRender","$attrs","scopedSlots","$scopedSlots","$listeners","$slots"],"mappings":"MAAO,yCACA,yCACEA,QAAuB,KAAP,eAChBC,SAAUC,OAA+B,KAAhB,wBAC3BC,SAAU,uCACVC,wBAAyB,yBAChC,IAAIC,eAAiB,wCACN,CACbC,KAAM,8BACNC,MAAO,CACLC,YAAa,CACXC,KAAMC,OACNC,QAAS,WACP,MAAO,EACT,CACF,EACAC,MAAO,CACLH,KAAMI,MACNF,QAAS,WACP,MAAO,EACT,CACF,EACAG,WAAY,CACVL,KAAMI,MACNF,QAAS,WACP,MAAO,EACT,CACF,CACF,EACAI,MAAO,CAAC,iBAAkB,UAC1BC,KAAM,WACJ,MAAO,CACLC,QAAS,CAAA,CACX,CACF,EACAC,MAAO,CACLN,MAAO,SAAeO,GACpBC,KAAKH,QAAUI,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,UAAUH,GAAO,EAAE,CAAC,EAAEK,KAAK,CAAC,IAAMH,KAAKC,WAAWF,KAAKN,YAAc,IAAIW,IAAI,SAAUC,GACnI,OAAOA,EAAEd,KACX,CAAC,EAAEY,KAAK,CAAC,CACX,EACAV,WAAY,SAAoBa,GAC9BP,KAAKH,QAAUI,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,UAAUF,KAAKR,OAAS,EAAE,CAAC,EAAEY,KAAK,CAAC,IAAMH,KAAKC,WAAWK,GAAe,IAAIF,IAAI,SAAUC,GACtI,OAAOA,EAAEd,KACX,CAAC,EAAEY,KAAK,CAAC,CACX,CACF,EACAI,QAAS,CACPC,kBAAmB,SAA2BC,GAC5CV,KAAKH,QAAUa,EAAEC,OAAOd,QACxBG,KAAKY,MAAM,iBAAkBF,EAAEC,OAAOd,OAAO,CAC/C,EACAgB,UAAW,SAAmBC,GAC5Bd,KAAKH,QAAUiB,EAAOC,UAAYf,KAAKN,YAAc,IAAIW,IAAI,SAAUC,GACrE,OAAOA,EAAEd,KACX,CAAC,EAAEuB,OACHf,KAAKY,MAAM,SAAUE,CAAM,CAC7B,EACAE,gBAAiB,SAAyBC,EAAGC,GAC3C,OAAOD,EAAE,MAAO,CACdE,MAAS,GAAGC,OAAOnC,eAAgB,OAAO,CAC5C,EAAG,CAACgC,EAAE,MAAO,CACXE,MAAS,GAAGC,OAAOnC,eAAgB,eAAe,CACpD,EAAG,CAACgC,EAAEpC,SAAU,CACdwC,MAAS,CACPxB,QAAWG,KAAKH,OAClB,EACAyB,GAAM,CACJC,OAAUvB,KAAKS,iBACjB,CACF,EAAG,CAAC1B,KAAKyC,GAAG,IAAI,EAAE,EAAE,EAAGP,EAAEnC,QAAS,CAChC2C,MAAS,eACX,CAAC,EAAGP,EAAK,CACX,CACF,EACAQ,OAAQ,SAAgBT,GACtB,IAAIU,EAAQ3B,KACZ,OAAOiB,EAAEjC,oBAAqB,CAC5BG,MAAOP,SAASA,SAAS,GAAIoB,KAAK4B,MAAM,EAAG,CACzCxC,YAAaR,SAAS,CACpBiD,eAAgB,SAAwBX,GACtC,OAAOS,EAAMX,gBAAgBC,EAAGC,CAAI,CACtC,CACF,EAAGlB,KAAK4B,OAAOxC,WAAW,CAC5B,CAAC,EACDiC,MAAOrB,KAAK8B,OACZC,YAAa/B,KAAKgC,aAClBV,GAAI1C,SAASA,SAAS,GAAIoB,KAAKiC,UAAU,EAAG,CAC1CV,OAAQvB,KAAKa,SACf,CAAC,CACH,EAAGb,KAAKkC,OAAO3C,OAAO,CACxB,CACF"}