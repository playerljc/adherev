import"core-js/modules/es.array.sort.js";import"core-js/modules/es.array.map.js";import{__assign}from"tslib";import Intl from"@baifendian/adherev-util-intl";import{Checkbox,Divider}from"../../AntdvFormItemNormalize";import MulitSelectFormItem from"../MulitSelectFormItem";var selectorPrefix="adherev-ui-antdformitem";export default{name:"CheckAllMulitSelectFormItem",props:{selectProps:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}},dataSource:{type:Array,default:function(){return[]}}},emits:["checkAllChange","change"],data:function(){return{checked:!1}},watch:{value:function(e){this.checked=JSON.stringify(JSON.parse(JSON.stringify(e||[])).sort())===JSON.stringify((this.dataSource||[]).map(function(e){return e.value}).sort())},dataSource:function(e){this.checked=JSON.stringify(JSON.parse(JSON.stringify(this.value||[])).sort())===JSON.stringify((e||[]).map(function(e){return e.value}).sort())}},methods:{$onCheckAllChange:function(e){this.checked=e.target.checked,this.$emit("checkAllChange",e.target.checked)},$onChange:function(e){this.checked=e.length===(this.dataSource||[]).map(function(e){return e.value}).length,this.$emit("change",e)},$dropdownRender:function(e,t){return e("div",{class:"".concat(selectorPrefix,"-wrap")},[e("div",{class:"".concat(selectorPrefix,"-checkallwrap")},[e(Checkbox,{attrs:{checked:this.checked},on:{change:this.$onCheckAllChange}},[Intl.tv("全选")])]),e(Divider,{style:"margin: 5px 0"}),t])}},render:function(t){var r=this;return t(MulitSelectFormItem,{props:__assign(__assign({},this.$props),{selectProps:__assign({dropdownRender:function(e){return r.$dropdownRender(t,e)}},this.$props.selectProps)}),attrs:this.$attrs,scopedSlots:this.$scopedSlots,on:__assign(__assign({},this.$listeners),{change:this.$onChange})},this.$slots.default)}};
//# sourceMappingURL=index.js.map
