import{isVNode as _isVNode,createVNode as _createVNode,createTextVNode as _createTextVNode}from"vue";import"core-js/modules/es.array.filter.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.array.index-of.js";import"core-js/modules/es.array.map.js";import{__assign}from"tslib";import{defineComponent,h}from"vue";import{array,object}from"vue-types";import{Checkbox,Space}from"../../AntdvFormItemNormalize";import MulitSelectFormItem from"../MulitSelectFormItem";function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!_isVNode(e)}export default defineComponent({name:"CheckBoxCheckAllSelectFormItem",props:{selectProps:object().def({}),value:array().def([]),dataSource:array().def([])},emits:["change","blur"],data:function(){return{inputValue:"",checkAll:this.value.length===this.dataSource.length}},watch:{value:function(e){this.checkAll=e.length===this.dataSource.length},dataSource:function(e){this.checkAll=this.value.length===e.length}},methods:{$renderDropdownRender:function(){var e,t=this,r=this.inputValue?this.dataSource.filter(function(e){return-1!==e.label.indexOf(t.inputValue)}):this.dataSource;return _createVNode("div",null,[_createVNode("div",{style:"padding-left: 10px;padding-top:10px;"},[_createVNode(Checkbox,{checked:this.checkAll,onChange:function(e){e.target.checked?(t.$emit("change",t.dataSource.map(function(e){return e.value})),t.checkAll=!0):(t.$emit("change",[]),t.checkAll=!1)}},{default:function(){return[_createTextVNode("全选")]}})]),_createVNode("div",null,[_createVNode(Checkbox.Group,{style:"padding: 10px;",value:this.value,onChange:function(e){t.$emit("change",e),t.checkAll=e.length===(t.dataSource||[]).length}},{default:function(){return[_createVNode(Space,{direction:"vertical"},_isSlot(e=r.map(function(e){return _createVNode(Checkbox,{key:e.value,value:e.value,disabled:e.disabled},{default:function(){return[e.label]}})}))?e:{default:function(){return[e]}})]}})])])}},render:function(){var t=this;return h(MulitSelectFormItem,__assign(__assign(__assign({},this.$props),this.$attrs),{selectProps:__assign({dropdownRender:function(){return t.$renderDropdownRender()},filterOption:function(){return!1}},this.$props.selectProps),onChange:function(e){t.$emit("change",e),t.checkAll=e.length===(t.dataSource||[]).length},onBlur:function(){t.inputValue="",t.$emit("blur")}}),this.$slots)}});
//# sourceMappingURL=index.js.map
