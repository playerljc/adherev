{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/AutoCompleteFormItem/index.js"],"sourcesContent":["import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { __assign } from \"tslib\";\nimport { AutoComplete } from '../../AntdvFormItemNormalize';\nexport default {\n  name: 'AutoCompleteFormItem',\n  props: {\n    autoCompleteProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    value: {\n      type: Object,\n      default: function _default() {\n        return {\n          inputValue: '',\n          selectValue: ''\n        };\n      }\n    },\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    options: function options() {\n      var _this = this;\n      var _a, _b;\n      var options = [];\n      if (!this.value.inputValue) options = this.dataSource || [];else options = ((_b = (_a = this === null || this === void 0 ? void 0 : this.dataSource) === null || _a === void 0 ? void 0 : _a.filter) === null || _b === void 0 ? void 0 : _b.call(_a, function (t) {\n        return t.label.includes(_this.value.inputValue);\n      })) || [];\n      // @ts-ignore\n      return options.map(function (t) {\n        return {\n          text: t.label,\n          value: \"\".concat(t.value)\n        };\n      });\n    },\n    autoCompleteValue: function autoCompleteValue() {\n      var _this = this;\n      var _a, _b;\n      if (this.value.inputValue) return \"\".concat(this.value.inputValue);\n      if (this.value.selectValue) return (_b = (_a = this === null || this === void 0 ? void 0 : this.dataSource) === null || _a === void 0 ? void 0 : _a.find(function (t) {\n        return t.value == _this.value.selectValue;\n      })) === null || _b === void 0 ? void 0 : _b.label;\n      return '';\n    }\n  },\n  methods: {\n    onSelect: function onSelect(selectValue) {\n      var _a, _b, _c;\n      if ((_a = this.$listeners) === null || _a === void 0 ? void 0 : _a.change) {\n        (_c = (_b = this.$listeners) === null || _b === void 0 ? void 0 : _b.change) === null || _c === void 0 ? void 0 : _c.call(_b, {\n          inputValue: '',\n          selectValue: selectValue\n        });\n      }\n    },\n    onSearch: function onSearch(searchText) {\n      var _a, _b, _c;\n      if ((_a = this.$listeners) === null || _a === void 0 ? void 0 : _a.change) {\n        (_c = (_b = this.$listeners) === null || _b === void 0 ? void 0 : _b.change) === null || _c === void 0 ? void 0 : _c.call(_b, {\n          inputValue: searchText.trim(),\n          selectValue: undefined\n        });\n      }\n    },\n    onChange: function onChange() {}\n  },\n  render: function render(h) {\n    var _this = this;\n    return h(AutoComplete, {\n      props: __assign(__assign({\n        filterOption: false\n      }, this.$props), {\n        dataSource: this.options,\n        value: this.autoCompleteValue\n      }),\n      attrs: this.$attrs,\n      on: __assign(__assign({\n        select: this.onSelect,\n        search: this.onSearch\n      }, this.$listeners), {\n        change: this.onChange\n      }),\n      scopedSlots: __assign({}, this.$scopedSlots || {})\n    }, Object.keys(this.$slots).reduce(function (arr, key) {\n      return arr.concat(_this.$slots[key]);\n    }, []));\n  }\n};"],"names":["__assign","AutoComplete","name","props","autoCompleteProps","type","Object","default","value","inputValue","selectValue","dataSource","Array","computed","options","_a","_b","_this","this","filter","call","t","label","includes","map","text","concat","autoCompleteValue","find","methods","onSelect","_c","$listeners","change","onSearch","searchText","trim","undefined","onChange","render","h","filterOption","$props","attrs","$attrs","on","select","search","scopedSlots","$scopedSlots","keys","$slots","reduce","arr","key"],"mappings":"MAAO,2CACA,+CACA,6CACA,8CACA,wCACA,yCACA,0CACA,2CACA,0CACA,4CACEA,QAAuB,KAAP,eAChBC,YAAkD,KAA9B,6CACd,CACbC,KAAM,uBACNC,MAAO,CACLC,kBAAmB,CACjBC,KAAMC,OACNC,QAAS,WACP,MAAO,EACT,CACF,EACAC,MAAO,CACLH,KAAMC,OACNC,QAAS,WACP,MAAO,CACLE,WAAY,GACZC,YAAa,EACf,CACF,CACF,EACAC,WAAY,CACVN,KAAMO,MACNL,QAAS,WACP,MAAO,EACT,CACF,CACF,EACAM,SAAU,CACRC,QAAS,WACP,IACIC,EAAIC,EADJC,EAAQC,KAOZ,OAJKA,KAAKV,MAAMC,YAA4D,OAACO,EAAK,OAACD,EAAKG,MAAAA,KAAmC,KAAA,EAASA,KAAKP,YAAwC,KAAA,EAASI,EAAGI,QAAoC,KAAA,EAASH,EAAGI,KAAKL,EAAI,SAAUM,GAC9P,OAAOA,EAAEC,MAAMC,SAASN,EAAMT,MAAMC,UAAU,CAChD,CAAC,IAAM,GAF+BS,KAAKP,YAAc,IAI1Ca,IAAI,SAAUH,GAC3B,MAAO,CACLI,KAAMJ,EAAEC,MACRd,MAAO,GAAGkB,OAAOL,EAAEb,KAAK,CAC1B,CACF,CAAC,CACH,EACAmB,kBAAmB,WACjB,IACQX,EADJC,EAAQC,KAEZ,OAAIA,KAAKV,MAAMC,WAAmB,GAAGiB,OAAOR,KAAKV,MAAMC,UAAU,EAC7DS,KAAKV,MAAME,YAAoB,OAACM,EAAK,OAACD,EAAKG,MAAAA,KAAmC,KAAA,EAASA,KAAKP,YAAwC,KAAA,EAASI,EAAGa,KAAK,SAAUP,GACjK,OAAOA,EAAEb,OAASS,EAAMT,MAAME,WAChC,CAAC,GAA+B,KAAA,EAASM,EAAGM,MACrC,EACT,CACF,EACAO,QAAS,CACPC,SAAU,SAAkBpB,GAC1B,IAAQM,EAAIe,EACR,OAAChB,EAAKG,KAAKc,aAAiDjB,EAAGkB,QACjE,OAACF,EAAK,OAACf,EAAKE,KAAKc,YAAwC,KAAA,EAAShB,EAAGiB,SAA6CF,EAAGX,KAAKJ,EAAI,CAC5HP,WAAY,GACZC,YAAaA,CACf,CAAC,CAEL,EACAwB,SAAU,SAAkBC,GAC1B,IAAQnB,EAAIe,EACR,OAAChB,EAAKG,KAAKc,aAAiDjB,EAAGkB,QACjE,OAACF,EAAK,OAACf,EAAKE,KAAKc,YAAwC,KAAA,EAAShB,EAAGiB,SAA6CF,EAAGX,KAAKJ,EAAI,CAC5HP,WAAY0B,EAAWC,KAAK,EAC5B1B,YAAa2B,KAAAA,CACf,CAAC,CAEL,EACAC,SAAU,YACZ,EACAC,OAAQ,SAAgBC,GACtB,IAAIvB,EAAQC,KACZ,OAAOsB,EAAEvC,aAAc,CACrBE,MAAOH,SAASA,SAAS,CACvByC,aAAc,CAAA,CAChB,EAAGvB,KAAKwB,MAAM,EAAG,CACf/B,WAAYO,KAAKJ,QACjBN,MAAOU,KAAKS,iBACd,CAAC,EACDgB,MAAOzB,KAAK0B,OACZC,GAAI7C,SAASA,SAAS,CACpB8C,OAAQ5B,KAAKY,SACbiB,OAAQ7B,KAAKgB,QACf,EAAGhB,KAAKc,UAAU,EAAG,CACnBC,OAAQf,KAAKoB,QACf,CAAC,EACDU,YAAahD,SAAS,GAAIkB,KAAK+B,cAAgB,EAAE,CACnD,EAAG3C,OAAO4C,KAAKhC,KAAKiC,MAAM,EAAEC,OAAO,SAAUC,EAAKC,GAChD,OAAOD,EAAI3B,OAAOT,EAAMkC,OAAOG,EAAI,CACrC,EAAG,EAAE,CAAC,CACR,CACF"}