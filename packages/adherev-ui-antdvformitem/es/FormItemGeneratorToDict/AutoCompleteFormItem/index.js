import"core-js/modules/es.array.filter.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.array.includes.js";import"core-js/modules/es.string.includes.js";import"core-js/modules/es.array.map.js";import"core-js/modules/es.array.find.js";import"core-js/modules/es.string.trim.js";import"core-js/modules/es.array.reduce.js";import"core-js/modules/es.object.keys.js";import"core-js/modules/es.array.concat.js";import{__assign}from"tslib";import{AutoComplete}from"../../AntdvFormItemNormalize";export default{name:"AutoCompleteFormItem",props:{autoCompleteProps:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{inputValue:"",selectValue:""}}},dataSource:{type:Array,default:function(){return[]}}},computed:{options:function(){var e,t,s=this;return(this.value.inputValue?(null==(t=null==(e=null==this?void 0:this.dataSource)?void 0:e.filter)?void 0:t.call(e,function(e){return e.label.includes(s.value.inputValue)}))||[]:this.dataSource||[]).map(function(e){return{text:e.label,value:"".concat(e.value)}})},autoCompleteValue:function(){var e,t=this;return this.value.inputValue?"".concat(this.value.inputValue):this.value.selectValue?null==(e=null==(e=null==this?void 0:this.dataSource)?void 0:e.find(function(e){return e.value==t.value.selectValue}))?void 0:e.label:""}},methods:{onSelect:function(e){var t,s;null!=(t=this.$listeners)&&t.change&&null!=(s=null==(t=this.$listeners)?void 0:t.change)&&s.call(t,{inputValue:"",selectValue:e})},onSearch:function(e){var t,s;null!=(t=this.$listeners)&&t.change&&null!=(s=null==(t=this.$listeners)?void 0:t.change)&&s.call(t,{inputValue:e.trim(),selectValue:void 0})},onChange:function(){}},render:function(e){var s=this;return e(AutoComplete,{props:__assign(__assign({filterOption:!1},this.$props),{dataSource:this.options,value:this.autoCompleteValue}),attrs:this.$attrs,on:__assign(__assign({select:this.onSelect,search:this.onSearch},this.$listeners),{change:this.onChange}),scopedSlots:__assign({},this.$scopedSlots||{})},Object.keys(this.$slots).reduce(function(e,t){return e.concat(s.$slots[t])},[]))}};
//# sourceMappingURL=index.js.map
