import{createVNode as _createVNode,mergeProps as _mergeProps}from"vue";import"core-js/modules/es.string.trim.js";import"core-js/modules/es.array.filter.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.array.includes.js";import"core-js/modules/es.string.includes.js";import"core-js/modules/es.array.find.js";import{__assign}from"tslib";import{computed,defineComponent}from"vue";import{array,object}from"vue-types";import{AutoComplete}from"../../AntdvFormItemNormalize";export default defineComponent({name:"AutoCompleteFormItem",props:{autoCompleteProps:object().def({}),value:object().def({inputValue:"",selectValue:""}),dataSource:array().def([])},setup:function(t,e){function o(e){var o;null!=u&&u.onChange&&null!=(o=null==u?void 0:u.onChange)&&o.call(u,{inputValue:"",selectValue:e})}function l(e){var o;null!=u&&u.onChange&&null!=(o=null==u?void 0:u.onChange)&&o.call(u,{inputValue:e.trim(),selectValue:void 0})}var u=e.attrs,r=(e.slots,e.emit,computed(function(){var e,o;return t.value.inputValue?(null==(o=null==(e=null==t?void 0:t.dataSource)?void 0:e.filter)?void 0:o.call(e,function(e){return e.label.includes(t.value.inputValue)}))||[]:t.dataSource||[]})),n=computed(function(){var e;return t.value.inputValue||(!t.value.selectValue||null==(e=null==(e=null==t?void 0:t.dataSource)?void 0:e.find(function(e){return e.value===t.value.selectValue}))?void 0:e.label)});return function(){return _createVNode(AutoComplete,_mergeProps({options:r.value,filterOption:!1,onSelect:o,onSearch:l},__assign(__assign({},t),u),{value:n.value}),null)}}});
//# sourceMappingURL=index.js.map
