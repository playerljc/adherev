{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/ListSelectFormItem/index.js"],"sourcesContent":["import \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { __assign } from \"tslib\";\n// ListSelectFormItem\nimport { Radio } from 'ant-design-vue';\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport ListFormItem from '../ListFormItem';\nimport SelectFormItem from '../SelectFormItem';\nvar selectorPrefix = 'adherev-ui-antdformitem';\nexport default {\n  name: 'ListSelectFormItem',\n  props: {\n    selectProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    listProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    rowKey: {\n      type: String,\n      default: 'id'\n    },\n    labelKey: {\n      type: String,\n      default: 'name'\n    }\n  },\n  emits: ['change'],\n  data: function data() {\n    var _this = this;\n    return {\n      selectedRowKeys: this.value ? [this.value] : [],\n      selectedRows: this.value ? this.dataSource.find(function (t) {\n        return t[_this.rowKey || 'id'] === _this.value;\n      }) : []\n    };\n  },\n  watch: {\n    value: function value(_value) {\n      var _this = this;\n      this.selectedRowKeys = [_value];\n      this.selectedRows = [this.dataSource.find(function (t) {\n        return t[_this.rowKey || 'id'] === _this.value;\n      })];\n    }\n  },\n  methods: {\n    RadioWrap: function RadioWrap(h, item) {\n      var _this = this;\n      var rowKey = this.rowKey || 'id';\n      return h(Radio, {\n        \"on\": {\n          \"change\": function change(e) {\n            e.stopPropagation();\n            var checked = e.target.checked;\n            if (checked) {\n              _this.selectedRowKeys = [item[rowKey]];\n              _this.selectedRows = [__assign({}, item)];\n              _this.$emit('change', item[rowKey]);\n            }\n          }\n        },\n        \"attrs\": {\n          \"checked\": this.selectedRowKeys.includes(item[rowKey])\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    var Component = ListFormItem;\n    return h(SelectFormItem, {\n      props: {\n        selectProps: __assign({\n          dropdownRender: function dropdownRender() {\n            return (// @ts-ignore\n              h(Component, {\n                \"attrs\": {\n                  \"listProps\": __assign(__assign({\n                    dataSource: _this.dataSource\n                  }, _this.listProps), {\n                    renderItem: function renderItem(item, index) {\n                      var _a, _b, _c;\n                      return h(ConditionalRender, {\n                        \"attrs\": {\n                          \"conditional\": !!((_a = _this.listProps) === null || _a === void 0 ? void 0 : _a.renderItem) || _this.$slots.renderItem || _this.$scopedSlots.renderItem\n                        }\n                      }, [h(\"div\", {\n                        \"slot\": \"noMatch\",\n                        \"class\": \"\".concat(selectorPrefix, \"-rowselectwrap\")\n                      }, [h(\"div\", {\n                        \"class\": \"\".concat(selectorPrefix, \"-rowselectwrap-fixed\")\n                      }, [_this.RadioWrap(h, item)]), h(\"div\", {\n                        \"class\": \"\".concat(selectorPrefix, \"-rowselectwrap-auto\")\n                      }, [item])]), h(\"div\", {\n                        \"class\": \"\".concat(selectorPrefix, \"-rowselectwrap\")\n                      }, [h(\"div\", {\n                        \"class\": \"\".concat(selectorPrefix, \"-rowselectwrap-fixed\")\n                      }, [_this.RadioWrap(h, item)]), h(\"div\", {\n                        \"class\": \"\".concat(selectorPrefix, \"-rowselectwrap-auto\")\n                      }, [((_c = (_b = _this === null || _this === void 0 ? void 0 : _this.listProps) === null || _b === void 0 ? void 0 : _b.renderItem) === null || _c === void 0 ? void 0 : _c.call(_b, item)) || _this.$slots.renderItem || _this.$scopedSlots.renderItem(item, index)])])]);\n                    }\n                  }),\n                  \"rowKey\": _this.rowKey\n                }\n              })\n            );\n          }\n        }, this.selectProps),\n        value: this.value,\n        dataSource: this.dataSource.map(function (t) {\n          return {\n            label: t[_this.labelKey || 'name'],\n            value: t[_this.rowKey || 'id']\n          };\n        })\n      },\n      attrs: this.$attrs,\n      on: this.$listeners,\n      scopedSlots: this.$scopedSlots\n    }, this.$slots.default);\n  }\n};"],"names":["__assign","Radio","ConditionalRender","ListFormItem","SelectFormItem","selectorPrefix","name","props","selectProps","type","Object","default","listProps","value","String","dataSource","Array","rowKey","labelKey","emits","data","_this","this","selectedRowKeys","selectedRows","find","t","watch","_value","methods","RadioWrap","h","item","on","change","e","stopPropagation","target","checked","$emit","attrs","includes","render","Component","dropdownRender","renderItem","index","_b","_c","conditional","_a","$slots","$scopedSlots","slot","class","concat","call","map","label","$attrs","$listeners","scopedSlots"],"mappings":"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"}