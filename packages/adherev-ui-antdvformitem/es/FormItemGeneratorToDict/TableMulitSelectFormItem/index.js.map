{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/TableMulitSelectFormItem/index.js"],"sourcesContent":["import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { __assign } from \"tslib\";\n// TableMulitSelectFormItem\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nimport TableFormItem from '../TableFormItem';\nexport default {\n  name: 'TableMulitSelectFormItem',\n  props: {\n    selectProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tableProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    value: {\n      type: Array,\n      default: []\n    },\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    rowKey: {\n      type: String,\n      default: 'id'\n    },\n    labelKey: {\n      type: String,\n      default: 'name'\n    }\n  },\n  emits: ['change'],\n  data: function data() {\n    var _this = this;\n    return {\n      selectedRowKeys: this.value ? this.value : [],\n      selectedRows: this.value ? this.value.map(function (t) {\n        return _this.dataSource.find(function (_item) {\n          return _item[_this.rowKey || 'id'] === t;\n        });\n      }) : []\n    };\n  },\n  watch: {\n    value: function value(_value) {\n      var _this = this;\n      this.selectedRowKeys = _value;\n      this.selectedRows = this.value.map(function (t) {\n        return _this.dataSource.find(function (_item) {\n          return _item[_this.rowKey || 'id'] === t;\n        });\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    var Component = TableFormItem;\n    return h(MulitSelectFormItem, {\n      props: {\n        selectProps: __assign({\n          dropdownRender: function dropdownRender() {\n            return (// @ts-ignore\n              h(Component, {\n                \"attrs\": {\n                  \"tableProps\": __assign({\n                    rowSelection: {\n                      type: 'checkbox',\n                      selectedRowKeys: _this.selectedRowKeys,\n                      selectedRows: _this.selectedRows,\n                      onChange: function onChange(selectedRowKeys, selectedRows) {\n                        _this.selectedRowKeys = selectedRowKeys;\n                        _this.selectedRows = selectedRows;\n                        _this.$emit('change', selectedRowKeys.length ? selectedRowKeys : []);\n                      }\n                    },\n                    dataSource: _this.dataSource\n                  }, _this.tableProps),\n                  \"rowKey\": _this.rowKey\n                }\n              })\n            );\n          }\n        }, this.selectProps),\n        value: this.value,\n        dataSource: this.dataSource.map(function (t) {\n          return {\n            label: t[_this.labelKey || 'name'],\n            value: t[_this.rowKey || 'id']\n          };\n        })\n      },\n      attrs: this.$attrs,\n      on: this.$listeners,\n      scopedSlots: this.$scopedSlots\n    }, this.$slots.default);\n  }\n};"],"names":["__assign","MulitSelectFormItem","TableFormItem","name","props","selectProps","type","Object","default","tableProps","value","Array","dataSource","rowKey","String","labelKey","emits","data","_this","this","selectedRowKeys","selectedRows","map","t","find","_item","watch","_value","render","h","Component","dropdownRender","attrs","rowSelection","onChange","$emit","length","label","$attrs","on","$listeners","scopedSlots","$scopedSlots","$slots"],"mappings":"MAAO,wCACA,yCACA,gDACEA,QAAuB,KAAP,eAElBC,wBAAyB,gCACzBC,kBAAmB,iCACX,CACbC,KAAM,2BACNC,MAAO,CACLC,YAAa,CACXC,KAAMC,OACNC,QAAS,WACP,MAAO,EACT,CACF,EACAC,WAAY,CACVH,KAAMC,OACNC,QAAS,WACP,MAAO,EACT,CACF,EACAE,MAAO,CACLJ,KAAMK,MACNH,QAAS,EACX,EACAI,WAAY,CACVN,KAAMK,MACNH,QAAS,WACP,MAAO,EACT,CACF,EACAK,OAAQ,CACNP,KAAMQ,OACNN,QAAS,IACX,EACAO,SAAU,CACRT,KAAMQ,OACNN,QAAS,MACX,CACF,EACAQ,MAAO,CAAC,UACRC,KAAM,WACJ,IAAIC,EAAQC,KACZ,MAAO,CACLC,gBAAiBD,KAAKT,OAAqB,GAC3CW,aAAcF,KAAKT,MAAQS,KAAKT,MAAMY,IAAI,SAAUC,GAClD,OAAOL,EAAMN,WAAWY,KAAK,SAAUC,GACrC,OAAOA,EAAMP,EAAML,QAAU,QAAUU,CACzC,CAAC,CACH,CAAC,EAAI,EACP,CACF,EACAG,MAAO,CACLhB,MAAO,SAAeiB,GACpB,IAAIT,EAAQC,KACZA,KAAKC,gBAAkBO,EACvBR,KAAKE,aAAeF,KAAKT,MAAMY,IAAI,SAAUC,GAC3C,OAAOL,EAAMN,WAAWY,KAAK,SAAUC,GACrC,OAAOA,EAAMP,EAAML,QAAU,QAAUU,CACzC,CAAC,CACH,CAAC,CACH,CACF,EACAK,OAAQ,SAAgBC,GACtB,IAAIX,EAAQC,KACRW,EAAY5B,cAChB,OAAO2B,EAAE5B,oBAAqB,CAC5BG,MAAO,CACLC,YAAaL,SAAS,CACpB+B,eAAgB,WACd,OACEF,EAAEC,EAAW,CACXE,MAAS,CACPvB,WAAcT,SAAS,CACrBiC,aAAc,CACZ3B,KAAM,WACNc,gBAAiBF,EAAME,gBACvBC,aAAcH,EAAMG,aACpBa,SAAU,SAAkBd,EAAiBC,GAC3CH,EAAME,gBAAkBA,EACxBF,EAAMG,aAAeA,EACrBH,EAAMiB,MAAM,SAAUf,EAAgBgB,OAAShB,EAAkB,EAAE,CACrE,CACF,EACAR,WAAYM,EAAMN,UACpB,EAAGM,EAAMT,UAAU,EACnBI,OAAUK,EAAML,MAClB,CACF,CACF,CACF,CACF,EAAGM,KAAKd,WAAW,EACnBK,MAAOS,KAAKT,MACZE,WAAYO,KAAKP,WAAWU,IAAI,SAAUC,GACxC,MAAO,CACLc,MAAOd,EAAEL,EAAMH,UAAY,QAC3BL,MAAOa,EAAEL,EAAML,QAAU,KAC3B,CACF,CAAC,CACH,EACAmB,MAAOb,KAAKmB,OACZC,GAAIpB,KAAKqB,WACTC,YAAatB,KAAKuB,YACpB,EAAGvB,KAAKwB,OAAOnC,OAAO,CACxB,CACF"}