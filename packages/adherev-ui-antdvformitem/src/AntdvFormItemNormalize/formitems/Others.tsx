import {
  Affix,
  Alert,
  Anchor,
  Avatar,
  BackTop,
  Badge,
  Breadcrumb,
  Button,
  Calendar,
  Card,
  Carousel,
  Checkbox,
  Col,
  Collapse,
  Comment,
  ConfigProvider,
  Descriptions,
  Divider,
  Drawer,
  Dropdown,
  Empty,
  Form,
  FormModel,
  Icon,
  InputNumber,
  Layout,
  List,
  LocaleProvider,
  Menu,
  PageHeader,
  Pagination,
  Popconfirm,
  Popover,
  Progress,
  Radio,
  Rate,
  Result,
  Row,
  Skeleton,
  Space,
  Spin,
  Statistic,
  Steps,
  Switch,
  Table,
  Tabs,
  Tag,
  Timeline,
  Transfer,
  Tree,
} from 'ant-design-vue';

import { assignAttrs, extend } from '../util';

const AntdComponents = {
  Affix,
  Alert,
  Anchor,
  Avatar,
  BackTop,
  Badge,
  Breadcrumb,
  Button,
  Calendar,
  Card,
  Carousel,
  Checkbox,
  Col,
  Collapse,
  Comment,
  ConfigProvider,
  Descriptions,
  Divider,
  Drawer,
  Dropdown,
  Empty,
  Form,
  FormModel,
  Icon,
  InputNumber,
  Layout,
  List,
  LocaleProvider,
  Menu,
  PageHeader,
  Pagination,
  Popconfirm,
  Popover,
  Progress,
  Radio,
  Rate,
  Result,
  Row,
  Skeleton,
  Space,
  Spin,
  Statistic,
  Steps,
  Switch,
  Table,
  Tabs,
  Tag,
  Timeline,
  Transfer,
  Tree,
};

export default Object.keys(AntdComponents).reduce((res, key) => {
  const Component = AntdComponents[key];

  res[key] = extend(Component, {
    functional: true,
    inject: ['getEl'],
    render(h, context) {
      assignAttrs(Component, context, res[key].defaultProps);

      return h(Component, context.data, context.children);
    },
  });

  return res;
}, {});
