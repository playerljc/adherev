{"version":3,"file":"backLayout.js","sources":["backLayout.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.replace.js\");\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.backLayoutProps = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ant_design_vue_1 = require(\"ant-design-vue\");\nvar vue_1 = require(\"vue\");\nvar vue_router_1 = require(\"vue-router\");\nvar vue_types_1 = require(\"vue-types\");\nvar adherev_ui_historyback_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-historyback\"));\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\nvar toolBarLayout_1 = tslib_1.__importDefault(require(\"./toolBarLayout\"));\nexports.backLayoutProps = {\n  topClassName: (0, vue_types_1.string)().def(''),\n  topStyle: (0, vue_types_1.object)().def({}),\n  bottomClassName: (0, vue_types_1.string)().def(''),\n  bottomStyle: (0, vue_types_1.object)().def({}),\n  mainClassName: (0, vue_types_1.string)().def(''),\n  mainStyle: (0, vue_types_1.object)().def({}),\n  mainAutoWrapClassName: (0, vue_types_1.string)().def(''),\n  mainAutoStyle: (0, vue_types_1.object)().def({}),\n  mainWrapClassName: (0, vue_types_1.string)().def(''),\n  mainWrapStyle: (0, vue_types_1.object)().def({}),\n  topProps: (0, vue_types_1.object)().def({}),\n  bottomProps: (0, vue_types_1.object)().def({}),\n  mainProps: (0, vue_types_1.object)().def({}),\n  mainAutoWrapProps: (0, vue_types_1.object)().def({}),\n  topToolBarSlotNames: (0, vue_types_1.array)().def([]),\n  bottomToolBarSlotNames: (0, vue_types_1.array)().def([]),\n  backPath: (0, vue_types_1.string)().def('/'),\n  enforceBackPath: (0, vue_types_1.string)().def(''),\n  isShowBack: (0, vue_types_1.bool)().def(true)\n};\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-flexlayout-back',\n  props: exports.backLayoutProps,\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n    var router = (0, vue_router_1.useRouter)();\n    var renderToolBarItems = function renderToolBarItems() {\n      var slotsObj = {};\n      (props.topToolBarSlotNames || []).forEach(function (slotName) {\n        return slotsObj[slotName] = function () {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots[slotName]) === null || _a === void 0 ? void 0 : _a.call(slots);\n        };\n      });\n      if (props.isShowBack) {\n        slotsObj['$back'] = function () {\n          var _a;\n          return (0, _vue.createVNode)(ant_design_vue_1.Button, {\n            \"onClick\": function onClick() {\n              if (props.enforceBackPath) {\n                router.replace(props.enforceBackPath);\n              } else {\n                // @ts-ignore\n                (0, adherev_ui_historyback_1.default)(router, props.backPath);\n              }\n            }\n          }, {\n            default: function _default() {\n              return [((_a = slots === null || slots === void 0 ? void 0 : slots.backTitle) === null || _a === void 0 ? void 0 : _a.call(slots)) || adherev_util_intl_1.default.tv('返回')];\n            }\n          });\n        };\n      }\n      return slotsObj;\n    };\n    var renderBottomToolBarItems = function renderBottomToolBarItems() {\n      var slotsObj = {};\n      (props.bottomToolBarSlotNames || []).forEach(function (slotName) {\n        return slotsObj[slotName] = function () {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots[slotName]) === null || _a === void 0 ? void 0 : _a.call(slots);\n        };\n      });\n      return slotsObj;\n    };\n    var otherProps = (0, vue_1.computed)(function () {\n      var _a = (0, vue_1.toRefs)(props),\n        isShowBack = _a.isShowBack,\n        backPath = _a.backPath,\n        enforceBackPath = _a.enforceBackPath,\n        others = tslib_1.__rest(_a, [\"isShowBack\", \"backPath\", \"enforceBackPath\"]);\n      var _props = {};\n      for (var p in others) {\n        if (p in others) {\n          _props[p] = others[p].value;\n        }\n      }\n      return _props;\n    });\n    return function () {\n      var _slot;\n      return (0, _vue.createVNode)(toolBarLayout_1.default, tslib_1.__assign(tslib_1.__assign({}, otherProps.value || {}), {\n        topToolBarSlotNames: tslib_1.__spreadArray(tslib_1.__spreadArray([], props.topToolBarSlotNames || [], true), ['$back'], false)\n      }), _isSlot(_slot = tslib_1.__assign(tslib_1.__assign({\n        default: function _default() {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n        }\n      }, renderToolBarItems()), renderBottomToolBarItems())) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      });\n    };\n  }\n});"],"names":["_vue","require","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","backLayoutProps","tslib_1","ant_design_vue_1","vue_1","vue_router_1","vue_types_1","adherev_ui_historyback_1","__importDefault","adherev_util_intl_1","toolBarLayout_1","topClassName","string","def","topStyle","object","bottomClassName","bottomStyle","mainClassName","mainStyle","mainAutoWrapClassName","mainAutoStyle","mainWrapClassName","mainWrapStyle","topProps","bottomProps","mainProps","mainAutoWrapProps","topToolBarSlotNames","array","bottomToolBarSlotNames","backPath","enforceBackPath","isShowBack","bool","default","defineComponent","name","props","setup","_a","slots","router","useRouter","otherProps","computed","p","toRefs","others","__rest","_props","_slot","slotsObj","createVNode","__assign","__spreadArray","forEach","slotName","Button","onClick","replace","backTitle","tv"],"mappings":"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"}