{"version":3,"file":"backLayout.js","sources":["backLayout.js"],"sourcesContent":["import { isVNode as _isVNode, createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport { Button } from 'ant-design-vue';\nimport { computed, defineComponent, toRefs } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { array, bool, object, string } from 'vue-types';\nimport HistoryBack from '@baifendian/adherev-ui-historyback';\nimport Intl from '@baifendian/adherev-util-intl';\nimport ToolBarLayout from './toolBarLayout';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\nvar props = {\n  topClassName: string().def(''),\n  topStyle: object().def({}),\n  bottomClassName: string().def(''),\n  bottomStyle: object().def({}),\n  mainClassName: string().def(''),\n  mainStyle: object().def({}),\n  mainAutoWrapClassName: string().def(''),\n  mainAutoStyle: object().def({}),\n  mainWrapClassName: string().def(''),\n  mainWrapStyle: object().def({}),\n  topProps: object().def({}),\n  bottomProps: object().def({}),\n  mainProps: object().def({}),\n  mainAutoWrapProps: object().def({}),\n  topToolBarSlotNames: array().def([]),\n  bottomToolBarSlotNames: array().def([]),\n  backPath: string().def('/'),\n  enforceBackPath: string().def(''),\n  isShowBack: bool().def(true)\n};\nexport default defineComponent({\n  name: 'adv-flexlayout-back',\n  props: props,\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n    var router = useRouter();\n    var renderToolBarItems = function renderToolBarItems() {\n      var slotsObj = {};\n      (props.topToolBarSlotNames || []).forEach(function (slotName) {\n        return slotsObj[slotName] = function () {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots[slotName]) === null || _a === void 0 ? void 0 : _a.call(slots);\n        };\n      });\n      if (props.isShowBack) {\n        slotsObj['$back'] = function () {\n          var _a;\n          return _createVNode(Button, {\n            \"onClick\": function onClick() {\n              if (props.enforceBackPath) {\n                router.replace(props.enforceBackPath);\n              } else {\n                HistoryBack(router, props.backPath);\n              }\n            }\n          }, {\n            default: function _default() {\n              return [((_a = slots === null || slots === void 0 ? void 0 : slots.backTitle) === null || _a === void 0 ? void 0 : _a.call(slots)) || Intl.tv('返回')];\n            }\n          });\n        };\n      }\n      return slotsObj;\n    };\n    var renderBottomToolBarItems = function renderBottomToolBarItems() {\n      var slotsObj = {};\n      (props.bottomToolBarSlotNames || []).forEach(function (slotName) {\n        return slotsObj[slotName] = function () {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots[slotName]) === null || _a === void 0 ? void 0 : _a.call(slots);\n        };\n      });\n      return slotsObj;\n    };\n    var otherProps = computed(function () {\n      var _a = toRefs(props),\n        isShowBack = _a.isShowBack,\n        backPath = _a.backPath,\n        enforceBackPath = _a.enforceBackPath,\n        others = __rest(_a, [\"isShowBack\", \"backPath\", \"enforceBackPath\"]);\n      var _props = {};\n      for (var p in others) {\n        if (p in others) {\n          _props[p] = others[p].value;\n        }\n      }\n      return _props;\n    });\n    return function () {\n      var _slot;\n      return _createVNode(ToolBarLayout, __assign(__assign({}, otherProps.value || {}), {\n        topToolBarSlotNames: __spreadArray(__spreadArray([], props.topToolBarSlotNames || [], true), ['$back'], false)\n      }), _isSlot(_slot = __assign(__assign({\n        default: function _default() {\n          var _a;\n          return (_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n        }\n      }, renderToolBarItems()), renderBottomToolBarItems())) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      });\n    };\n  }\n});"],"names":["_isVNode","_createVNode","__assign","__rest","__spreadArray","Button","computed","defineComponent","toRefs","useRouter","array","bool","object","string","HistoryBack","Intl","ToolBarLayout","_isSlot","s","Object","prototype","toString","call","props","topClassName","def","topStyle","bottomClassName","bottomStyle","mainClassName","mainStyle","mainAutoWrapClassName","mainAutoStyle","mainWrapClassName","mainWrapStyle","topProps","bottomProps","mainProps","mainAutoWrapProps","topToolBarSlotNames","bottomToolBarSlotNames","backPath","enforceBackPath","isShowBack","name","setup","_a","slots","router","otherProps","p","others","_props","value","_slot","slotsObj","default","forEach","slotName","onClick","replace","backTitle","tv"],"mappings":"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"}