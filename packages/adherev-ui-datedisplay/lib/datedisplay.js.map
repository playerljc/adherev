{"version":3,"file":"datedisplay.js","sources":["datedisplay.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.string.starts-with.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar dayjs_1 = tslib_1.__importDefault(require(\"dayjs\"));\n\nrequire(\"dayjs/locale/en\");\n\nrequire(\"dayjs/locale/pt\");\n\nrequire(\"dayjs/locale/zh-cn\");\n\nvar localizedFormat_1 = tslib_1.__importDefault(require(\"dayjs/plugin/localizedFormat\"));\n\nvar relativeTime_1 = tslib_1.__importDefault(require(\"dayjs/plugin/relativeTime\"));\n\nvar vue_fragment_1 = require(\"vue-fragment\");\n\nvar vue_hoc_1 = require(\"vue-hoc\");\n\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\n\nvar adherev_util_resource_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-resource\"));\n\ndayjs_1.default.extend(localizedFormat_1.default);\ndayjs_1.default.extend(relativeTime_1.default);\nvar keys = Object.keys(adherev_util_resource_1.default.Dict.handlers).filter(function (dictName) {\n  return dictName.startsWith('ResourceMomentFormat');\n});\nvar Components = {\n  dayjs: dayjs_1.default\n}; // 字典的组件\n\nkeys.forEach(function (key) {\n  var name = key.substring('ResourceMomentFormat'.length);\n  Components[\"DateDisplay\" + name] = {\n    name: \"adv-datedisplay-\" + name,\n    props: {\n      value: {\n        type: Object\n      },\n      split1: {\n        type: String\n      },\n      split2: {\n        type: String\n      }\n    },\n    render: function render(h) {\n      var dict = adherev_util_resource_1.default.Dict.value[key].value;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !!this.value\n        }\n      }, [dayjs_1.default(this.value).format(dict instanceof Function ? dict(this.split1, this.split2) : dict), h(vue_fragment_1.Fragment, {\n        \"slot\": \"noMatch\"\n      }, [this.$slots.errorUI])]);\n    }\n  };\n});\n/**\n * DateDisplayFromNow\n * @constructor\n * @classdesc 返回现在到当前实例的相对时间\n */\n\nComponents[\"DateDisplayFromNow\"] = {\n  name: \"adv-datedisplay-fromnow\",\n  props: {\n    value: {\n      type: Object\n    },\n    locale: {\n      type: String,\n      default: 'zh-cn'\n    },\n    now: {\n      type: Boolean,\n      default: false\n    }\n  },\n  render: function render(h) {\n    return h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": !!this.value\n      }\n    }, [dayjs_1.default(this.value).locale(this.locale).fromNow(this.now)]);\n  }\n};\n/**\n * DateDisplayToNow\n * @constructor\n * @classdesc 返回当前实例到现在的相对时间\n */\n\nComponents[\"DateDisplayToNow\"] = {\n  name: \"adv-datedisplay-tonow\",\n  props: {\n    value: {\n      type: Object\n    },\n    locale: {\n      type: String,\n      default: 'zh-cn'\n    },\n    now: {\n      type: Boolean,\n      default: false\n    }\n  },\n  render: function render(h) {\n    return h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": !!this.value\n      }\n    }, [dayjs_1.default(this.value).locale(this.locale).toNow(this.now)]);\n  }\n};\n/**\n * DateDisplay\n * @constructor\n */\n\nComponents[\"DateDisplay\"] = {\n  name: \"adv-datedisplay\",\n  props: {\n    value: {\n      type: Object\n    },\n    locale: {\n      type: String,\n      default: 'zh-cn'\n    },\n    format: {\n      type: String\n    }\n  },\n  render: function render(h) {\n    return h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": !!this.value\n      }\n    }, [dayjs_1.default(this.value).locale(this.locale).format(this.format)]);\n  }\n}; // 本地\n\n['LT', 'LTS', 'L', 'LL', 'LLL', 'LLLL', 'l', 'll', 'lll', 'llll'].forEach(function (format) {\n  var options = {\n    name: \"adv-datadisplay-\" + format\n  };\n  var Com = Components['DateDisplay'];\n  Components[\"DateDisplay\" + format] = vue_hoc_1.createHOC(Com, options, {\n    props: function props(_props) {\n      return tslib_1.__assign(tslib_1.__assign({}, _props), {\n        format: format\n      });\n    }\n  });\n});\nexports.default = Components;"],"names":["require","Object","defineProperty","exports","value","tslib_1","dayjs_1","__importDefault","localizedFormat_1","relativeTime_1","vue_fragment_1","vue_hoc_1","adherev_ui_conditionalrender_1","adherev_util_resource_1","default","extend","keys","Dict","handlers","filter","dictName","startsWith","Components","dayjs","forEach","key","name","substring","length","props","type","split1","String","split2","render","h","dict","attrs","conditional","this","format","Function","Fragment","slot","$slots","errorUI","locale","now","Boolean","fromNow","toNow","Com","createHOC","_props","__assign"],"mappings":"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"}