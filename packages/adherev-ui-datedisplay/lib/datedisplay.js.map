{"version":3,"file":"datedisplay.js","sources":["datedisplay.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.string.starts-with.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar dayjs_1 = tslib_1.__importDefault(require(\"dayjs\"));\nrequire(\"dayjs/locale/en\");\nrequire(\"dayjs/locale/pt\");\nrequire(\"dayjs/locale/zh-cn\");\nvar localizedFormat_1 = tslib_1.__importDefault(require(\"dayjs/plugin/localizedFormat\"));\nvar relativeTime_1 = tslib_1.__importDefault(require(\"dayjs/plugin/relativeTime\"));\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_util_resource_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-resource\"));\ndayjs_1.default.extend(localizedFormat_1.default);\ndayjs_1.default.extend(relativeTime_1.default);\nvar keys = Object.keys(adherev_util_resource_1.default.Dict.handlers).filter(function (dictName) {\n  return dictName.startsWith('ResourceMomentFormat');\n});\nvar Components = {\n  dayjs: dayjs_1.default\n};\n// 字典的组件\nkeys.forEach(function (key) {\n  var name = key.substring('ResourceMomentFormat'.length);\n  Components[\"DateDisplay\".concat(name)] = {\n    name: \"adv-datedisplay-\".concat(name),\n    props: {\n      value: {\n        type: [Object, Number, String, Date]\n      },\n      split1: {\n        type: String,\n        default: '-'\n      },\n      split2: {\n        type: String,\n        default: ':'\n      }\n    },\n    setup: function setup(props, _a) {\n      var slots = _a.slots;\n      var dict = adherev_util_resource_1.default.Dict.value[key].value;\n      return function () {\n        return (// @ts-ignore\n          (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n            \"conditional\": !!props.value\n          }, {\n            default: function _default() {\n              (0, dayjs_1.default)(props.value).format(dict instanceof Function ? dict(props.split1, props.split2) : dict);\n            },\n            noMatch: function noMatch() {\n              var _a;\n              return (_a = slots === null || slots === void 0 ? void 0 : slots.errorUI) === null || _a === void 0 ? void 0 : _a.call(slots);\n            }\n          })\n        );\n      };\n    }\n  };\n});\n/**\n * DateDisplayFromNow\n * @constructor\n * @classdesc 返回现在到当前实例的相对时间\n */\nComponents[\"DateDisplayFromNow\"] = {\n  name: \"adv-datedisplay-fromnow\",\n  props: {\n    value: {\n      type: [Object, Number, String, Date]\n    },\n    locale: {\n      type: String,\n      default: 'zh-cn'\n    },\n    now: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup: function setup(props) {\n    return function () {\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": !!props.value\n        }, {\n          default: function _default() {\n            return (0, dayjs_1.default)(props.value).locale(props.locale).fromNow(props.now);\n          }\n        })\n      );\n    };\n  }\n};\n/**\n * DateDisplayToNow\n * @constructor\n * @classdesc 返回当前实例到现在的相对时间\n */\nComponents[\"DateDisplayToNow\"] = {\n  name: \"adv-datedisplay-tonow\",\n  props: {\n    value: {\n      type: [Object, Number, String, Date]\n    },\n    locale: {\n      type: String,\n      default: 'zh-cn'\n    },\n    now: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup: function setup(props) {\n    return function () {\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": !!props.value\n        }, {\n          default: function _default() {\n            return (0, dayjs_1.default)(props.value).locale(props.locale).toNow(props.now);\n          }\n        })\n      );\n    };\n  }\n};\n/**\n * DateDisplay\n * @constructor\n */\nComponents[\"DateDisplay\"] = {\n  name: \"adv-datedisplay\",\n  props: {\n    value: {\n      type: [Object, Number, String, Date]\n    },\n    locale: {\n      type: String,\n      default: 'zh-cn'\n    },\n    format: {\n      type: String\n    }\n  },\n  setup: function setup(props) {\n    return function () {\n      return (// @ts-ignore\n        (0, _vue.createVNode)(adherev_ui_conditionalrender_1.default, {\n          \"conditional\": !!props.value\n        }, {\n          default: function _default() {\n            return (0, dayjs_1.default)(props.value).locale(props.locale).format(props.format);\n          }\n        })\n      );\n    };\n  }\n};\n// 本地\n['LT', 'LTS', 'L', 'LL', 'LLL', 'LLLL', 'l', 'll', 'lll', 'llll'].forEach(function (format) {\n  var options = {\n    name: \"adv-datedisplay-\".concat(format)\n  };\n  var Com = Components['DateDisplay'];\n  Components[\"DateDisplay\".concat(format)] = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, Com), options), {\n    setup: function setup(props) {\n      return function () {\n        return (0, _vue.createVNode)(Com, (0, _vue.mergeProps)(props, {\n          \"format\": true\n        }), null);\n      };\n    }\n  });\n});\nexports.default = Components;"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","dayjs_1","__importDefault","localizedFormat_1","relativeTime_1","adherev_ui_conditionalrender_1","adherev_util_resource_1","keys","default","extend","Dict","handlers","filter","dictName","startsWith","Components","dayjs","forEach","key","name","substring","length","concat","props","type","Number","String","Date","split1","split2","setup","_a","slots","dict","createVNode","conditional","format","Function","noMatch","errorUI","call","locale","now","Boolean","fromNow","toNow","options","Com","__assign","mergeProps"],"mappings":"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"}