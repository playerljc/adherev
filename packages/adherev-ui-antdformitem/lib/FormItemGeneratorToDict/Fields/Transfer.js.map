{"version":3,"file":"Transfer.js","sources":["FormItemGeneratorToDict/Fields/Transfer.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.string.ends-with.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar ant_design_vue_1 = require(\"ant-design-vue\");\nvar adherev_util_dict_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-dict\"));\nvar TransferSelectFormItem_1 = tslib_1.__importDefault(require(\"../TransferSelectFormItem/TransferSelectFormItem\"));\nvar FormItemComponents = {};\nexports.default = function () {\n  // 名称以Transfer结尾的字典\n  var transferDictNames = Object.keys(adherev_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('Transfer');\n  });\n  // 名称以DynamicTransfer结尾的字典\n  var transferDynamicDictNames = Object.keys(adherev_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('DynamicTransfer');\n  });\n  // transferFormItem\n  FormItemComponents.TransferFormItem = {\n    name: 'TransferFormItem',\n    props: {\n      transferProps: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      dataSource: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      },\n      value: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    render: function render(h) {\n      return h(ant_design_vue_1.Transfer, {\n        props: tslib_1.__assign({\n          dataSource: this.dataSource.map(function (t) {\n            return {\n              key: \"\".concat(t.value),\n              title: t.label,\n              description: t.label,\n              disabled: 'disabled' in t ? t.disabled : false\n            };\n          }),\n          render: function render(item) {\n            return item.title;\n          },\n          targetKeys: this.value\n        }, this.transferProps),\n        attrs: this.$attrs,\n        on: this.$listeners,\n        scopedSlots: this.$scopedSlots\n      }, this.$slots.default);\n    }\n  };\n  // 静态的Transfer\n  transferDictNames.forEach(function (dictName) {\n    // transferFormItem\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = {\n      name: \"\".concat(dictName, \"FormItem\"),\n      props: {\n        cascadeParams: {\n          type: [String, Number]\n        },\n        transferProps: FormItemComponents.TransferFormItem.props.transferProps,\n        value: FormItemComponents.TransferFormItem.props.value\n      },\n      computed: {\n        dataSource: function dataSource() {\n          var handler = adherev_util_dict_1.default.value[dictName].value;\n          // 如果是函数(一般是级联)\n          if (handler instanceof Function) return handler(this.cascadeParams);\n          return handler;\n        }\n      },\n      render: function render(h) {\n        return h(FormItemComponents.TransferFormItem, {\n          props: {\n            transferProps: this.transferProps,\n            value: this.value,\n            dataSource: this.dataSource\n          },\n          attrs: this.$attrs,\n          scopedSlots: this.$scopedSlots,\n          on: this.$listeners\n        }, this.$slots.default);\n      }\n    };\n    // transferSelectFormItem\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = {\n      name: \"\".concat(dictName, \"SelectFormItem\"),\n      props: {\n        cascadeParams: {\n          type: [String, Number]\n        },\n        selectProps: TransferSelectFormItem_1.default.props.selectProps,\n        transferProps: TransferSelectFormItem_1.default.props.transferProps,\n        value: TransferSelectFormItem_1.default.props.value\n      },\n      computed: {\n        dataSource: function dataSource() {\n          var handler = adherev_util_dict_1.default.value[dictName].value;\n          // 如果是函数(一般是级联)\n          if (handler instanceof Function) return handler(this.cascadeParams);\n          return handler;\n        }\n      },\n      render: function render(h) {\n        return h(TransferSelectFormItem_1.default, {\n          props: {\n            selectProps: this.selectProps,\n            transferProps: this.transferProps,\n            value: this.value,\n            dataSource: this.dataSource\n          },\n          attrs: this.$attrs,\n          scopedSlots: this.$scopedSlots,\n          on: this.$listeners\n        }, this.$slots.default);\n      }\n    };\n  });\n  // 动态的transferFormItem\n  transferDynamicDictNames.forEach(function (dictName) {\n    // transferFormItem\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = {\n      name: \"\".concat(dictName, \"FormItem\"),\n      props: {\n        cascadeParams: {\n          type: [String, Number]\n        },\n        transferProps: FormItemComponents.TransferFormItem.props.transferProps,\n        value: FormItemComponents.TransferFormItem.props.value\n      },\n      data: function data() {\n        return {\n          dataSource: []\n        };\n      },\n      methods: {\n        $loadData: function $loadData(params) {\n          // 存放字典的返回值(可能是promise也可能是Function)\n          var handler = adherev_util_dict_1.default.value[dictName].value;\n          // 如果是函数(一般是级联)\n          if (handler instanceof Function) {\n            handler(params).then(function (res) {\n              this.dataSource = res;\n            });\n          }\n        }\n      },\n      watch: {\n        cascadeParams: function cascadeParams(val) {\n          this.$loadData(val);\n        }\n      },\n      mounted: function mounted() {\n        // 存放字典的返回值(可能是promise也可能是Function)\n        var handler = adherev_util_dict_1.default.value[dictName].value;\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            this.dataSource = res;\n          });\n        }\n      },\n      render: function render(h) {\n        return h(FormItemComponents.TransferFormItem, {\n          props: {\n            transferProps: this.transferProps,\n            value: this.value,\n            dataSource: this.dataSource\n          },\n          attrs: this.$attrs,\n          scopedSlots: this.$scopedSlots,\n          on: this.$listeners\n        }, this.$slots.default);\n      }\n    };\n    // transferSelectFormItem\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = {\n      name: \"\".concat(dictName, \"SelectFormItem\"),\n      props: {\n        cascadeParams: {\n          type: [String, Number]\n        },\n        selectProps: TransferSelectFormItem_1.default.props.selectProps,\n        transferProps: TransferSelectFormItem_1.default.props.transferProps,\n        value: TransferSelectFormItem_1.default.props.value\n      },\n      data: function data() {\n        return {\n          dataSource: []\n        };\n      },\n      methods: {\n        $loadData: function $loadData(params) {\n          // 存放字典的返回值(可能是promise也可能是Function)\n          var handler = adherev_util_dict_1.default.value[dictName].value;\n          // 如果是函数(一般是级联)\n          if (handler instanceof Function) {\n            handler(params).then(function (res) {\n              this.dataSource = res;\n            });\n          }\n        }\n      },\n      watch: {\n        cascadeParams: function cascadeParams(val) {\n          this.$loadData(val);\n        }\n      },\n      mounted: function mounted() {\n        // 存放字典的返回值(可能是promise也可能是Function)\n        var handler = adherev_util_dict_1.default.value[dictName].value;\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            this.dataSource = res;\n          });\n        }\n      },\n      render: function render(h) {\n        return h(TransferSelectFormItem_1.default, {\n          props: {\n            selectProps: this.selectProps,\n            transferProps: this.transferProps,\n            value: this.value,\n            dataSource: this.dataSource\n          },\n          attrs: this.$attrs,\n          scopedSlots: this.$scopedSlots,\n          on: this.$listeners\n        }, this.$slots.default);\n      }\n    };\n  });\n  return FormItemComponents;\n};"],"names":["require","Object","defineProperty","exports","value","tslib_1","ant_design_vue_1","adherev_util_dict_1","__importDefault","TransferSelectFormItem_1","FormItemComponents","default","transferDictNames","keys","handlers","filter","dictName","endsWith","transferDynamicDictNames","TransferFormItem","name","props","transferProps","type","dataSource","Array","render","h","Transfer","__assign","this","map","t","key","concat","title","label","description","disabled","item","targetKeys","attrs","$attrs","on","$listeners","scopedSlots","$scopedSlots","$slots","forEach","cascadeParams","String","Number","computed","handler","Function","selectProps","data","methods","$loadData","params","then","res","watch","val","mounted"],"mappings":"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"}