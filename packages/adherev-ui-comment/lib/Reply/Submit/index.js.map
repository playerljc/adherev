{"version":3,"file":"index.js","sources":["Reply/Submit/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\n\nrequire(\"core-js/modules/es.object.define-properties.js\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.string.trim.js\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar emoji_mart_vue_1 = require(\"emoji-mart-vue\");\n\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\")); // @ts-ignore\n\n\nvar data_1 = tslib_1.__importDefault(require(\"@emoji-mart/data\")); // @ts-ignore\n\n\nvar ar_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/ar.json\")); // @ts-ignore\n\n\nvar de_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/de.json\")); // @ts-ignore\n\n\nvar en_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/en.json\")); // @ts-ignore\n\n\nvar es_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/es.json\")); // @ts-ignore\n\n\nvar fa_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/fa.json\")); // @ts-ignore\n\n\nvar fr_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/fr.json\")); // @ts-ignore\n\n\nvar it_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/it.json\")); // @ts-ignore\n\n\nvar ja_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/ja.json\")); // @ts-ignore\n\n\nvar nl_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/nl.json\")); // @ts-ignore\n\n\nvar pl_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/pl.json\")); // @ts-ignore\n\n\nvar pt_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/pt.json\")); // @ts-ignore\n\n\nvar ru_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/ru.json\")); // @ts-ignore\n\n\nvar uk_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/uk.json\")); // @ts-ignore\n\n\nvar zh_json_1 = tslib_1.__importDefault(require(\"@emoji-mart/data/i18n/zh.json\"));\n\nvar Comment_1 = require(\"../../Comment\");\n\nvar emoji_1 = tslib_1.__importDefault(require(\"./emoji\"));\n\nvar TextArea = ant_design_vue_1.Input.TextArea;\nvar LOCAL_MAP = new Map([['ar', ar_json_1.default], ['de', de_json_1.default], ['en', en_json_1.default], ['es', es_json_1.default], ['fa', fa_json_1.default], ['fr', fr_json_1.default], ['it', it_json_1.default], ['ja', ja_json_1.default], ['nl', nl_json_1.default], ['pl', pl_json_1.default], ['pt', pt_json_1.default], ['ru', ru_json_1.default], ['uk', uk_json_1.default], ['zh', zh_json_1.default]]);\nvar Reply = {\n  name: Comment_1.selectorPrefix + \"-reply\",\n  props: {\n    local: {\n      type: String,\n      default: 'zh'\n    },\n    emojiPickerProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  emits: ['onResult', 'onCancel'],\n  data: function data() {\n    return {\n      value: '',\n      emojiIconWrapVisible: false\n    };\n  },\n  methods: {\n    onEmojiSelect: function onEmojiSelect(_a) {\n      var native = _a.native; // 获取textarea的dom\n\n      var textareaEl = this.$refs.textAreaRef.querySelector('textarea'); // 光标开始索引\n\n      var selectionStart = textareaEl.selectionStart; // (0) 1 (1) 2 (2) 3 (3)\n\n      this.value = \"\" + this.value.substring(0, selectionStart) + native + this.value.substring(selectionStart);\n      this.$nextTick(function () {\n        textareaEl.focus();\n        textareaEl.setSelectionRange(selectionStart + native.length, selectionStart + native.length);\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    return h(\"div\", {\n      \"class\": \"\" + Comment_1.selectorPrefix\n    }, [h(\"div\", {\n      \"class\": Comment_1.selectorPrefix + \"-textarea-wrap\",\n      \"ref\": \"textAreaRef\"\n    }, [h(TextArea, {\n      \"class\": Comment_1.selectorPrefix + \"-textarea\",\n      \"attrs\": {\n        \"placeholder\": adherev_util_intl_1.default.v('请输入回复内容'),\n        \"autoFocus\": true,\n        \"value\": this.value,\n        \"showCount\": true,\n        \"maxLength\": 100\n      },\n      \"on\": {\n        \"change\": function change(e) {\n          _this.value = e.target.value;\n        }\n      }\n    })]), h(\"div\", {\n      \"ref\": \"emojiWrapRef\",\n      \"class\": Comment_1.selectorPrefix + \"-emoji-wrap\"\n    }), h(\"div\", {\n      \"class\": Comment_1.selectorPrefix + \"-toolbar\"\n    }, [h(ant_design_vue_1.Popover, {\n      \"attrs\": {\n        \"placement\": \"bottomLeft\",\n        \"getPopupContainer\": function getPopupContainer() {\n          return _this.$refs.emojiWrapRef;\n        },\n        \"content\": h(emoji_mart_vue_1.Picker, {\n          \"attrs\": {\n            \"data\": data_1.default,\n            \"i18n\": LOCAL_MAP.get(this.local || 'zh'),\n            \"select\": this.onEmojiSelect\n          },\n          \"props\": _objectSpread({}, this.emojiPickerProps || {})\n        }),\n        \"visible\": this.emojiIconWrapVisible\n      }\n    }, [h(\"div\", {\n      \"on\": {\n        \"click\": function click(e) {\n          e.stopPropagation();\n          _this.emojiIconWrapVisible = !_this.emojiIconWrapVisible;\n        }\n      }\n    }, [h(emoji_1.default, {\n      \"class\": Comment_1.selectorPrefix + \"-toolbar-item-emoji\"\n    })])]), h(\"div\", {\n      \"class\": Comment_1.selectorPrefix + \"-toolbar-inner\"\n    }, [h(ant_design_vue_1.Button, {\n      \"attrs\": {\n        \"type\": \"primary\",\n        \"disabled\": !this.value\n      },\n      \"class\": Comment_1.selectorPrefix + \"-toolbar-item\",\n      \"on\": {\n        \"click\": function click() {\n          _this.$emit('onResult', _this.value.trim());\n        }\n      }\n    }, [adherev_util_intl_1.default.v('添加')]), h(ant_design_vue_1.Button, {\n      \"class\": Comment_1.selectorPrefix + \"-toolbar-item\",\n      \"on\": {\n        \"click\": function click() {\n          _this.$emit('onCancel');\n        }\n      }\n    }, [adherev_util_intl_1.default.v('取消')])])])]);\n  }\n};\nexports.default = Reply;"],"names":["require","_interopRequireDefault","_defineProperty2","ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","default","getOwnPropertyDescriptors","defineProperties","defineProperty","exports","value","tslib_1","ant_design_vue_1","emoji_mart_vue_1","adherev_util_intl_1","__importDefault","data_1","ar_json_1","de_json_1","en_json_1","es_json_1","fa_json_1","fr_json_1","it_json_1","ja_json_1","nl_json_1","pl_json_1","pt_json_1","ru_json_1","uk_json_1","zh_json_1","Comment_1","emoji_1","TextArea","Input","LOCAL_MAP","Map","Reply","name","selectorPrefix","props","local","type","String","emojiPickerProps","emits","data","emojiIconWrapVisible","methods","onEmojiSelect","_a","native","textareaEl","this","$refs","textAreaRef","querySelector","selectionStart","substring","$nextTick","focus","setSelectionRange","render","h","_this","class","ref","attrs","placeholder","v","autoFocus","showCount","maxLength","on","change","e","Popover","placement","getPopupContainer","emojiWrapRef","content","Picker","i18n","get","select","visible","click","stopPropagation","Button","disabled","$emit","trim"],"mappings":"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"}