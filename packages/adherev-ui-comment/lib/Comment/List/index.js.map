{"version":3,"file":"index.js","sources":["Comment/List/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\nrequire(\"core-js/modules/es.object.define-properties.js\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nrequire(\"core-js/modules/es.object.define-property.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar adherev_ui_backtopanimation_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-backtopanimation\"));\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_ui_scrollload_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-scrollload\"));\nvar adherev_ui_teleport_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-teleport\"));\nvar selectorPrefix = 'adherev-ui-comment-inner-list';\nvar List = {\n  name: \"adv-comment-list\",\n  props: {\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    hasMore: {\n      type: Boolean,\n      default: false\n    },\n    scrollLoadProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    getScrollWrapContainer: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderFirstLoading: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    }\n  },\n  slots: ['renderFirstLoading', 'default'],\n  emits: ['loadMore'],\n  data: function data() {\n    return {\n      $isFirst: true,\n      $isFirstLoading: true\n    };\n  },\n  methods: {\n    $renderDispatch: function $renderDispatch(h) {\n      var loading = this.isLoading;\n      if (this.$data.$isFirst && !this.$data.$isFirstLoading && loading) {\n        this.$data.$isFirstLoading = true;\n      }\n      if (this.$data.$isFirst && this.$data.$isFirstLoading && !loading) {\n        this.$data.$isFirst = false;\n        this.$data.$isFirstLoading = false;\n      }\n      if (this.$data.$isFirst) {\n        return this.$renderFirstLoading(h);\n      }\n      return this.$renderNormal(h);\n    },\n    $renderFirstLoading: function $renderFirstLoading(h) {\n      return h(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-first-loading-wrap\")\n      }, [this.$slots.renderFirstLoading ? this.$slots.renderFirstLoading : this.renderFirstLoading]);\n    },\n    $renderNormal: function $renderNormal(h) {\n      var _this = this;\n      var _a, _b;\n      var defaultScrollLoadProps = {\n        getScrollContainer: function getScrollContainer() {\n          var _a, _b;\n          return (_b = (_a = _this.getScrollWrapContainer) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.firstElementChild;\n        }\n      };\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": this.hasMore\n        }\n      }, [h(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-normal-wrap\")\n      }, [h(adherev_ui_scrollload_1.default, {\n        \"on\": {\n          \"scrollBottom\": function scrollBottom(callback) {\n            return _this.$emit('loadMore', callback);\n          }\n        },\n        \"props\": _objectSpread({}, tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, defaultScrollLoadProps), this.scrollLoadProps || {}), {\n          distance: ((_a = this.scrollLoadProps) === null || _a === void 0 ? void 0 : _a.distance) || 50\n        }))\n      }, [this.$slots.default]), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !!(this.getScrollWrapContainer ? this.getScrollWrapContainer() : null)\n        }\n      }, [h(adherev_ui_teleport_1.default, {\n        \"attrs\": {\n          \"to\": (_b = this.getScrollWrapContainer) === null || _b === void 0 ? void 0 : _b.call(this)\n        }\n      }, [h(adherev_ui_backtopanimation_1.default, {\n        \"on\": {\n          \"target\": function target(callback) {\n            var _a, _b;\n            return callback((_b = (_a = _this.getScrollWrapContainer) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.firstElementChild);\n          },\n          \"trigger\": function trigger(next) {\n            return next();\n          }\n        }\n      })]), h(adherev_ui_backtopanimation_1.default, {\n        \"slot\": \"noMatch\",\n        \"on\": {\n          \"target\": function target(callback) {\n            var _a, _b;\n            return callback((_b = (_a = _this.$refs.wrapRef) === null || _a === void 0 ? void 0 : _a.querySelector) === null || _b === void 0 ? void 0 : _b.call(_a, '.adherev-ui-scrollload'));\n          },\n          \"trigger\": function trigger(next) {\n            return next();\n          }\n        }\n      })])])]);\n    }\n  },\n  render: function render(h) {\n    return h(\"div\", {\n      \"class\": selectorPrefix,\n      \"ref\": \"wrapRef\"\n    }, [this.$renderDispatch(h)]);\n  }\n};\nexports.default = List;"],"names":["require","_interopRequireDefault","_defineProperty2","ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","default","getOwnPropertyDescriptors","defineProperties","defineProperty","exports","value","tslib_1","adherev_ui_backtopanimation_1","__importDefault","adherev_ui_conditionalrender_1","adherev_ui_scrollload_1","adherev_ui_teleport_1","selectorPrefix","List","name","props","isLoading","type","Boolean","hasMore","scrollLoadProps","getScrollWrapContainer","Function","renderFirstLoading","slots","emits","data","$isFirst","$isFirstLoading","methods","$renderDispatch","h","loading","this","$data","$renderFirstLoading","$renderNormal","class","concat","$slots","_this","defaultScrollLoadProps","getScrollContainer","_b","_a","call","firstElementChild","attrs","conditional","on","scrollBottom","callback","$emit","__assign","distance","to","trigger","next","slot","$refs","wrapRef","querySelector","render","ref"],"mappings":"AAAA,aAEAA,QAAQ,mCAAmC,EAC3CA,QAAQ,8BAA8B,EACtCA,QAAQ,oCAAoC,EAC5CA,QAAQ,wCAAwC,EAChDA,QAAQ,0DAA0D,EAClEA,QAAQ,iDAAiD,EACzDA,QAAQ,2DAA2D,EACnEA,QAAQ,gDAAgD,EACxD,IAAIC,uBAAyBD,QAAQ,8CAA8C,EAC/EE,iBAAmBD,uBAAuBD,QAAQ,uCAAuC,CAAC,EAE9F,SAASG,QAAQC,EAAQC,GAAkB,IAAwEC,EAApEC,EAAOC,OAAOD,KAAKH,CAAM,EAA+P,OAAxPI,OAAOC,wBAA6BH,EAAUE,OAAOC,sBAAsBL,CAAM,EAAGC,IAAmBC,EAAUA,EAAQI,OAAO,SAAUC,GAAO,OAAOH,OAAOI,yBAAyBR,EAAQO,CAAG,EAAEE,UAAY,CAAC,GAAIN,EAAKO,KAAKC,MAAMR,EAAMD,CAAO,GAAYC,CAAM,CACpV,SAASS,cAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,CAAC,GAAI,CAAE,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,GAAIA,EAAI,EAAIf,QAAQK,OAAOa,CAAM,EAAG,CAAA,CAAE,EAAEC,QAAQ,SAAUC,IAAO,EAAIrB,iBAAiBsB,SAASP,EAAQM,EAAKF,EAAOE,EAAI,CAAG,CAAC,EAAIf,OAAOiB,0BAA4BjB,OAAOkB,iBAAiBT,EAAQT,OAAOiB,0BAA0BJ,CAAM,CAAC,EAAIlB,QAAQK,OAAOa,CAAM,CAAC,EAAEC,QAAQ,SAAUC,GAAOf,OAAOmB,eAAeV,EAAQM,EAAKf,OAAOI,yBAAyBS,EAAQE,CAAG,CAAC,CAAG,CAAC,CAAG,CAAE,OAAON,CAAQ,CAFvgBjB,QAAQ,8CAA8C,EAGtDQ,OAAOmB,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACD,IAAIC,QAAU9B,QAAQ,OAAO,EACzB+B,8BAAgCD,QAAQE,gBAAgBhC,QAAQ,yCAAyC,CAAC,EAC1GiC,+BAAiCH,QAAQE,gBAAgBhC,QAAQ,0CAA0C,CAAC,EAC5GkC,wBAA0BJ,QAAQE,gBAAgBhC,QAAQ,mCAAmC,CAAC,EAC9FmC,sBAAwBL,QAAQE,gBAAgBhC,QAAQ,iCAAiC,CAAC,EAC1FoC,eAAiB,gCACjBC,KAAO,CACTC,KAAM,mBACNC,MAAO,CACLC,UAAW,CACTC,KAAMC,QACNlB,QAAS,CAAA,CACX,EACAmB,QAAS,CACPF,KAAMC,QACNlB,QAAS,CAAA,CACX,EACAoB,gBAAiB,CACfH,KAAMjC,OACNgB,QAAS,WACP,MAAO,EACT,CACF,EACAqB,uBAAwB,CACtBJ,KAAMK,SACNtB,QAAS,WACP,OAAO,IACT,CACF,EACAuB,mBAAoB,CAClBN,KAAMjC,OACNgB,QAAS,WACP,OAAO,IACT,CACF,CACF,EACAwB,MAAO,CAAC,qBAAsB,WAC9BC,MAAO,CAAC,YACRC,KAAM,WACJ,MAAO,CACLC,SAAU,CAAA,EACVC,gBAAiB,CAAA,CACnB,CACF,EACAC,QAAS,CACPC,gBAAiB,SAAyBC,GACxC,IAAIC,EAAUC,KAAKjB,UAQnB,OAPIiB,KAAKC,MAAMP,UAAY,CAACM,KAAKC,MAAMN,iBAAmBI,IACxDC,KAAKC,MAAMN,gBAAkB,CAAA,GAE3BK,KAAKC,MAAMP,UAAYM,KAAKC,MAAMN,iBAAmB,CAACI,IACxDC,KAAKC,MAAMP,SAAW,CAAA,EACtBM,KAAKC,MAAMN,gBAAkB,CAAA,GAE3BK,KAAKC,MAAMP,SACNM,KAAKE,oBAAoBJ,CAAC,EAE5BE,KAAKG,cAAcL,CAAC,CAC7B,EACAI,oBAAqB,SAA6BJ,GAChD,OAAOA,EAAE,MAAO,CACdM,MAAS,GAAGC,OAAO1B,eAAgB,qBAAqB,CAC1D,EAAG,CAACqB,KAAKM,OAAOhB,oBAAsDU,KAAKV,mBAAmB,CAChG,EACAa,cAAe,SAAuBL,GACpC,IAAIS,EAAQP,KAERQ,EAAyB,CAC3BC,mBAAoB,WAClB,IAAQC,EACR,OAAO,OAACA,EAAK,OAACC,EAAKJ,EAAMnB,wBAAoD,KAAA,EAASuB,EAAGC,KAAKL,CAAK,GAA+B,KAAA,EAASG,EAAGG,iBAChJ,CACF,EACA,OAAOf,EAAEtB,+BAA+BT,QAAS,CAC/C+C,MAAS,CACPC,YAAef,KAAKd,OACtB,CACF,EAAG,CAACY,EAAE,MAAO,CACXM,MAAS,GAAGC,OAAO1B,eAAgB,cAAc,CACnD,EAAG,CAACmB,EAAErB,wBAAwBV,QAAS,CACrCiD,GAAM,CACJC,aAAgB,SAAsBC,GACpC,OAAOX,EAAMY,MAAM,WAAYD,CAAQ,CACzC,CACF,EACApC,MAASvB,cAAc,GAAIc,QAAQ+C,SAAS/C,QAAQ+C,SAAS/C,QAAQ+C,SAAS,GAAIZ,CAAsB,EAAGR,KAAKb,iBAAmB,EAAE,EAAG,CACtIkC,UAAW,OAACV,EAAKX,KAAKb,iBAA6C,KAAA,EAASwB,EAAGU,WAAa,EAC9F,CAAC,CAAC,CACJ,EAAG,CAACrB,KAAKM,OAAOvC,QAAQ,EAAG+B,EAAEtB,+BAA+BT,QAAS,CACnE+C,MAAS,CACPC,YAAe,EAAGf,CAAAA,KAAKZ,wBAAyBY,CAAAA,KAAKZ,uBAAuB,EAC9E,CACF,EAAG,CAACU,EAAEpB,sBAAsBX,QAAS,CACnC+C,MAAS,CACPQ,GAAM,OAACZ,EAAKV,KAAKZ,wBAAoD,KAAA,EAASsB,EAAGE,KAAKZ,IAAI,CAC5F,CACF,EAAG,CAACF,EAAExB,8BAA8BP,QAAS,CAC3CiD,GAAM,CACJxD,OAAU,SAAgB0D,GAExB,OAAOA,EAAS,OAACR,EAAK,OAACC,EAAKJ,EAAMnB,wBAAoD,KAAA,EAASuB,EAAGC,KAAKL,CAAK,GAA+B,KAAA,EAASG,EAAGG,iBAAiB,CAC1K,EACAU,QAAW,SAAiBC,GAC1B,OAAOA,EAAK,CACd,CACF,CACF,CAAC,EAAE,EAAG1B,EAAExB,8BAA8BP,QAAS,CAC7C0D,KAAQ,UACRT,GAAM,CACJxD,OAAU,SAAgB0D,GACxB,IAAQR,EACR,OAAOQ,EAAS,OAACR,EAAK,OAACC,EAAKJ,EAAMmB,MAAMC,SAAqC,KAAA,EAAShB,EAAGiB,eAA2C,KAAA,EAASlB,EAAGE,KAAKD,EAAI,wBAAwB,CAAC,CACpL,EACAY,QAAW,SAAiBC,GAC1B,OAAOA,EAAK,CACd,CACF,CACF,CAAC,EAAE,EAAE,EAAE,CACT,CACF,EACAK,OAAQ,SAAgB/B,GACtB,OAAOA,EAAE,MAAO,CACdM,MAASzB,eACTmD,IAAO,SACT,EAAG,CAAC9B,KAAKH,gBAAgBC,CAAC,EAAE,CAC9B,CACF,EACA3B,QAAQJ,QAAUa"}