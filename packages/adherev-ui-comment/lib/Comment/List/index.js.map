{"version":3,"file":"index.js","sources":["Comment/List/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\n\nrequire(\"core-js/modules/es.object.define-properties.js\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar adherev_ui_backtopanimation_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-backtopanimation\"));\n\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\n\nvar adherev_ui_scrollload_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-scrollload\"));\n\nvar adherev_ui_teleport_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-teleport\"));\n\nvar index_1 = require(\"../index\");\n\nvar List = {\n  name: index_1.selectorPrefix + \"-list\",\n  props: {\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    hasMore: {\n      type: Boolean,\n      default: false\n    },\n    scrollLoadProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    getScrollWrapContainer: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    }\n  },\n  slots: ['renderFirstLoading', 'default'],\n  emits: ['load-more'],\n  data: function data() {\n    return {\n      $isFirst: true,\n      $isFirstLoading: true\n    };\n  },\n  methods: {\n    $renderDispatch: function $renderDispatch(h) {\n      var loading = this.isLoading;\n      var _a = this.$data,\n          $isFirst = _a.$isFirst,\n          $isFirstLoading = _a.$isFirstLoading;\n\n      if ($isFirst && !$isFirstLoading && loading) {\n        this.$data.$isFirstLoading = true;\n      }\n\n      if ($isFirst && $isFirstLoading && !loading) {\n        this.$isFirst = false;\n        this.$isFirstLoading = false;\n      }\n\n      if ($isFirst) {\n        return this.$renderFirstLoading(h);\n      }\n\n      return this.$renderNormal(h);\n    },\n    $renderFirstLoading: function $renderFirstLoading(h) {\n      if (this.$slots.renderFirstLoading) {\n        return this.$slots.renderFirstLoading;\n      }\n\n      var result = [];\n\n      for (var i = 0; i < 7; i++) {\n        // @ts-ignore\n        result.push(h(ant_design_vue_1.Skeleton, {\n          \"key\": i + 1,\n          \"attrs\": {\n            \"loading\": true,\n            \"avatar\": true\n          }\n        }));\n      }\n\n      return h(\"div\", {\n        \"class\": index_1.selectorPrefix + \"-first-loading-wrap\"\n      }, [result]);\n    },\n    $renderNormal: function $renderNormal(h) {\n      var _this = this;\n\n      var _a, _b;\n\n      var defaultScrollLoadProps = {\n        getScrollContainer: function getScrollContainer() {\n          var _a, _b;\n\n          return (_b = (_a = _this.getScrollWrapContainer) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.firstElementChild;\n        },\n        scrollBottom: function scrollBottom() {\n          return _this.$emit('load-more');\n        }\n      };\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": this.hasMore\n        }\n      }, [h(\"div\", {\n        \"class\": index_1.selectorPrefix + \"-normal-wrap\"\n      }, [h(adherev_ui_scrollload_1.default, {\n        \"props\": _objectSpread({}, tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, defaultScrollLoadProps), this.scrollLoadProps || {}), {\n          distance: ((_a = this.scrollLoadProps) === null || _a === void 0 ? void 0 : _a.distance) || 50\n        }))\n      }, [this.$slots.default]), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !!(this.getScrollWrapContainer ? this.getScrollWrapContainer() : null)\n        }\n      }, [h(adherev_ui_teleport_1.default, {\n        \"attrs\": {\n          \"to\": (_b = this.getScrollWrapContainer) === null || _b === void 0 ? void 0 : _b.call(this)\n        }\n      }, [h(adherev_ui_backtopanimation_1.default, {\n        \"attrs\": {\n          \"target\": function target(callback) {\n            var _a, _b;\n\n            return callback((_b = (_a = _this.getScrollWrapContainer) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.firstElementChild);\n          },\n          \"trigger\": function trigger(next) {\n            return next();\n          }\n        }\n      })]), h(adherev_ui_backtopanimation_1.default, {\n        \"slot\": \"noMatch\",\n        \"attrs\": {\n          \"target\": function target(callback) {\n            var _a, _b;\n\n            return callback((_b = (_a = _this.$refs.wrapRef) === null || _a === void 0 ? void 0 : _a.querySelector) === null || _b === void 0 ? void 0 : _b.call(_a, '.adherev-ui-scrollload'));\n          },\n          \"trigger\": function trigger(next) {\n            return next();\n          }\n        }\n      })])])]);\n    }\n  },\n  render: function render(h) {\n    return h(\"div\", {\n      \"class\": index_1.selectorPrefix,\n      \"ref\": \"wrapRef\"\n    }, [this.$renderDispatch(h)]);\n  }\n};\nexports.default = List;"],"names":["require","_interopRequireDefault","_defineProperty2","ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","default","getOwnPropertyDescriptors","defineProperties","defineProperty","exports","value","tslib_1","ant_design_vue_1","adherev_ui_backtopanimation_1","__importDefault","adherev_ui_conditionalrender_1","adherev_ui_scrollload_1","adherev_ui_teleport_1","index_1","List","name","selectorPrefix","props","isLoading","type","Boolean","hasMore","scrollLoadProps","getScrollWrapContainer","Function","slots","emits","data","$isFirst","$isFirstLoading","methods","$renderDispatch","h","loading","this","_a","$data","$renderFirstLoading","$renderNormal","$slots","renderFirstLoading","result","Skeleton","attrs","avatar","class","_b","_this","conditional","__assign","getScrollContainer","call","firstElementChild","scrollBottom","$emit","distance","to","callback","trigger","next","slot","$refs","wrapRef","querySelector","render","ref"],"mappings":"aAEAA,QAAQ,qCAERA,QAAQ,gCAERA,QAAQ,sCAERA,QAAQ,0CAERA,QAAQ,4DAERA,QAAQ,mDAERA,QAAQ,6DAERA,QAAQ,kDAER,IAAIC,uBAAyBD,QAAQ,gDAEjCE,iBAAmBD,uBAAuBD,QAAQ,0CAItD,SAASG,QAAQC,EAAQC,GAAkB,IAAwEC,EAApEC,EAAOC,OAAOD,KAAKH,GAAqQ,OAAxPI,OAAOC,wBAA6BH,EAAUE,OAAOC,sBAAsBL,GAASC,IAAmBC,EAAUA,EAAQI,OAAO,SAAUC,GAAO,OAAOH,OAAOI,yBAAyBR,EAAQO,GAAKE,cAAiBN,EAAKO,KAAKC,MAAMR,EAAMD,IAAmBC,EAE9U,SAASS,cAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,GAAIA,EAAI,EAAIf,QAAQK,OAAOa,IAAS,GAAIC,QAAQ,SAAUC,IAAO,EAAIrB,iBAAiBsB,SAASP,EAAQM,EAAKF,EAAOE,MAAYf,OAAOiB,0BAA4BjB,OAAOkB,iBAAiBT,EAAQT,OAAOiB,0BAA0BJ,IAAWlB,QAAQK,OAAOa,IAASC,QAAQ,SAAUC,GAAOf,OAAOmB,eAAeV,EAAQM,EAAKf,OAAOI,yBAAyBS,EAAQE,MAAa,OAAON,EAJ/fjB,QAAQ,gDAMRQ,OAAOmB,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIC,QAAU9B,QAAQ,SAElB+B,iBAAmB/B,QAAQ,kBAE3BgC,8BAAgCF,QAAQG,gBAAgBjC,QAAQ,4CAEhEkC,+BAAiCJ,QAAQG,gBAAgBjC,QAAQ,6CAEjEmC,wBAA0BL,QAAQG,gBAAgBjC,QAAQ,sCAE1DoC,sBAAwBN,QAAQG,gBAAgBjC,QAAQ,oCAExDqC,QAAUrC,QAAQ,YAElBsC,KAAO,CACTC,KAAMF,QAAQG,eAAiB,QAC/BC,MAAO,CACLC,UAAW,CACTC,KAAMC,QACNpB,SAAS,GAEXqB,QAAS,CACPF,KAAMC,QACNpB,SAAS,GAEXsB,gBAAiB,CACfH,KAAMnC,OACNgB,QAAS,WACP,MAAO,KAGXuB,uBAAwB,CACtBJ,KAAMK,SACNxB,QAAS,WACP,OAAO,QAIbyB,MAAO,CAAC,qBAAsB,WAC9BC,MAAO,CAAC,aACRC,KAAM,WACJ,MAAO,CACLC,UAAU,EACVC,iBAAiB,IAGrBC,QAAS,CACPC,gBAAiB,SAAyBC,GACxC,IAAIC,EAAUC,KAAKhB,UACfiB,EAAKD,KAAKE,MACVR,EAAWO,EAAGP,SACdC,EAAkBM,EAAGN,gBAWzB,OATID,IAAaC,GAAmBI,IAClCC,KAAKE,MAAMP,iBAAkB,GAG3BD,GAAYC,IAAoBI,IAClCC,KAAKN,UAAW,EAChBM,KAAKL,iBAAkB,GAGrBD,EACKM,KAAKG,oBAAoBL,GAG3BE,KAAKI,cAAcN,IAE5BK,oBAAqB,SAA6BL,GAChD,GAAIE,KAAKK,OAAOC,mBACd,OAAON,KAAKK,OAAOC,mBAKrB,IAFA,IAAIC,EAAS,GAEJ/C,EAAI,EAAGA,EAAI,EAAGA,IAErB+C,EAAOnD,KAAK0C,EAAEzB,iBAAiBmC,SAAU,CACvC3C,IAAOL,EAAI,EACXiD,MAAS,CACPV,SAAW,EACXW,QAAU,MAKhB,OAAOZ,EAAE,MAAO,CACda,MAAShC,QAAQG,eAAiB,uBACjC,CAACyB,KAENH,cAAe,SAAuBN,GACpC,IAEQc,EAFJC,EAAQb,KAcZ,OAAOF,EAAEtB,+BAA+BV,QAAS,CAC/C2C,MAAS,CACPK,YAAed,KAAKb,UAErB,CAACW,EAAE,MAAO,CACXa,MAAShC,QAAQG,eAAiB,gBACjC,CAACgB,EAAErB,wBAAwBX,QAAS,CACrCiB,MAASzB,cAAc,GAAIc,QAAQ2C,SAAS3C,QAAQ2C,SAAS3C,QAAQ2C,SAAS,GAjBnD,CAC3BC,mBAAoB,WAClB,IAAQJ,EAER,OAA0G,QAAlGA,EAA6C,QAAvCX,EAAKY,EAAMxB,8BAA2C,IAAPY,OAAgB,EAASA,EAAGgB,KAAKJ,UAA2B,IAAPD,OAAgB,EAASA,EAAGM,mBAEhJC,aAAc,WACZ,OAAON,EAAMO,MAAM,gBAUsFpB,KAAKZ,iBAAmB,IAAK,CACtIiC,UAA2C,QAA/BpB,EAAKD,KAAKZ,uBAAoC,IAAPa,OAAgB,EAASA,EAAGoB,WAAa,OAE7F,CAACrB,KAAKK,OAAOvC,UAAWgC,EAAEtB,+BAA+BV,QAAS,CACnE2C,MAAS,CACPK,eAAkBd,KAAKX,yBAAyBW,KAAKX,4BAEtD,CAACS,EAAEpB,sBAAsBZ,QAAS,CACnC2C,MAAS,CACPa,GAA6C,QAAtCV,EAAKZ,KAAKX,8BAA2C,IAAPuB,OAAgB,EAASA,EAAGK,KAAKjB,QAEvF,CAACF,EAAExB,8BAA8BR,QAAS,CAC3C2C,MAAS,CACPlD,OAAU,SAAgBgE,GAGxB,OAAOA,EAA4G,QAAlGX,EAA6C,QAAvCX,EAAKY,EAAMxB,8BAA2C,IAAPY,OAAgB,EAASA,EAAGgB,KAAKJ,UAA2B,IAAPD,OAAgB,EAASA,EAAGM,oBAEzJM,QAAW,SAAiBC,GAC1B,OAAOA,UAGP3B,EAAExB,8BAA8BR,QAAS,CAC7C4D,KAAQ,UACRjB,MAAS,CACPlD,OAAU,SAAgBgE,GACxB,IAAItB,EAEJ,OAAOsB,EAAqG,QAA3FX,EAAoC,QAA9BX,EAAKY,EAAMc,MAAMC,eAA4B,IAAP3B,OAAgB,EAASA,EAAG4B,qBAAkC,IAAPjB,OAAgB,EAASA,EAAGK,KAAKhB,EAAI,4BAE3JuB,QAAW,SAAiBC,GAC1B,OAAOA,gBAMjBK,OAAQ,SAAgBhC,GACtB,OAAOA,EAAE,MAAO,CACda,MAAShC,QAAQG,eACjBiD,IAAO,WACN,CAAC/B,KAAKH,gBAAgBC,OAG7B5B,QAAQJ,QAAUc"}