{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar vue_fragment_1 = require(\"vue-fragment\");\n\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"../Reply/Info\"));\n\nvar Info_2 = tslib_1.__importDefault(require(\"./Info\"));\n\nvar ListStandard_1 = tslib_1.__importDefault(require(\"./ListStandard\"));\n\nexports.selectorPrefix = 'adherev-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\n\nvar Comment = {\n  name: exports.selectorPrefix,\n  props: {\n    getScrollWrapContainer: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    fetchCommentData: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    commentDataKeys: {\n      type: Object,\n      default: function _default() {\n        return {\n          current: 'current',\n          totalPage: 'totalPage',\n          list: 'list',\n          totalCount: 'totalCount'\n        };\n      }\n    },\n    commentLimit: {\n      type: Number,\n      default: 10\n    },\n    commentKeyProp: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    fetchReplyData: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    replyDataKeys: {\n      type: Object,\n      default: function _default() {\n        return {\n          current: 'current',\n          totalPage: 'totalPage',\n          list: 'list',\n          totalCount: 'totalCount'\n        };\n      }\n    },\n    replyLimit: {\n      type: Number,\n      default: 10\n    },\n    replyKeyProp: {\n      type: String,\n      default: 'id'\n    },\n    fetchReply: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    listProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    isMoreProp: {\n      type: String,\n      default: 'isMore'\n    },\n    flexLayoutProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    local: {\n      type: String,\n      default: 'zh'\n    },\n    emojiPickerProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  slots: [],\n  scopedSlots: [],\n  emits: [],\n  data: function data() {\n    return {};\n  },\n  methods: {\n    $renderList: function $renderList(h, data) {\n      var _this = this;\n\n      var _a, _b;\n\n      var showReplyText = this.$slots.showReplyText || adherev_util_intl_1.default.v('显示回复内容');\n      var hideReplyText = this.$slots.hideReplyText || adherev_util_intl_1.default.v('收起回复');\n      var loadMoreReplyText = this.$slots.loadMoreReplyText || adherev_util_intl_1.default.v('加载更多回复'); // @ts-ignore\n\n      var showReplyTextIcon = this.$slots.showReplyTextIcon || h(ant_design_vue_1.Icon, {\n        \"attrs\": {\n          \"type\": \"caret-down\"\n        }\n      }); // @ts-ignore\n\n      var hideReplyTextIcon = this.$slots.hideReplyTextIcon || h(ant_design_vue_1.Icon, {\n        \"attrs\": {\n          \"type\": \"caret-up\"\n        }\n      });\n      var loadMoreCollapseTextIcon = this.$slots.loadMoreCollapseTextIcon || // @ts-ignore\n      h(ant_design_vue_1.Icon, {\n        \"attrs\": {\n          \"type\": \"enter\"\n        },\n        \"class\": \"reply-icon\"\n      });\n      var scopedSlots = {\n        default: function _default(record) {\n          return h(Info_1.default, {\n            \"attrs\": {\n              \"data\": record,\n              \"dataKeys\": _this.replyDataKeys,\n              \"limit\": _this.replyLimit,\n              \"keyProp\": _this.replyKeyProp,\n              \"isMoreProp\": _this.isMoreProp,\n              \"fetchData\": _this.fetchReplyData,\n              \"fetchReply\": _this.fetchReply,\n              \"local\": _this.local,\n              \"emojiPickerProps\": _this.emojiPickerProps\n            }\n          }, [h(vue_fragment_1.Fragment, {\n            \"slot\": \"renderActions\"\n          }, [_this.$slots.renderReplyActions]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"renderAuthor\"\n          }, [_this.$slots.renderReplyAuthor]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"renderAvatar\"\n          }, [_this.$slots.renderReplyAvatar]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"renderContent\"\n          }, [_this.$slots.renderReplyContent]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"renderDateTime\"\n          }, [_this.$slots.renderReplyDateTime]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"renderLoading\"\n          }, [_this.$slots.renderReplyLoading || _this.$renderLoading(h)]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"showReplyText\"\n          }, [showReplyText]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"hideReplyText\"\n          }, [hideReplyText]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"loadMoreReplyText\"\n          }, [loadMoreReplyText]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"showReplyTextIcon\"\n          }, [showReplyTextIcon]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"hideReplyTextIcon\"\n          }, [hideReplyTextIcon]), h(vue_fragment_1.Fragment, {\n            \"slot\": \"loadMoreCollapseTextIcon\"\n          }, [loadMoreCollapseTextIcon])]);\n        }\n      };\n      return h(\"ul\", {\n        \"class\": exports.selectorPrefix + \"-list\"\n      }, [(_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n        return h(\"li\", {\n          \"class\": exports.selectorPrefix + \"-list-item\",\n          \"key\": record[_this.commentKeyProp]\n        }, [h(Info_2.default, {\n          \"attrs\": {\n            \"data\": record,\n            \"dataKeys\": _this.replyDataKeys,\n            \"limit\": _this.replyLimit,\n            \"keyProp\": _this.replyKeyProp,\n            \"isMoreProp\": _this.isMoreProp,\n            \"fetchData\": _this.fetchReplyData,\n            \"fetchReply\": _this.fetchReply,\n            \"local\": _this.local,\n            \"emojiPickerProps\": _this.emojiPickerProps\n          },\n          \"scopedSlots\": scopedSlots\n        }, [h(vue_fragment_1.Fragment, {\n          \"slot\": \"renderActions\"\n        }, [_this.$slots.renderCommentActions]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"renderAuthor\"\n        }, [_this.$slots.renderCommentAuthor]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"renderAvatar\"\n        }, [_this.$slots.renderCommentAvatar]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"renderContent\"\n        }, [_this.$slots.renderCommentContent]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"renderDateTime\"\n        }, [_this.$slots.renderCommentDateTime]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"renderLoading\"\n        }, [_this.$slots.renderCommentLoading || _this.$renderLoading(h)]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"showReplyText\"\n        }, [showReplyText]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"hideReplyText\"\n        }, [hideReplyText]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"loadMoreReplyText\"\n        }, [loadMoreReplyText]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"showReplyTextIcon\"\n        }, [showReplyTextIcon]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"hideReplyTextIcon\"\n        }, [hideReplyTextIcon]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"loadMoreCollapseTextIcon\"\n        }, [loadMoreCollapseTextIcon])])]);\n      })]);\n    },\n    $renderLoading: function $renderLoading(h) {\n      return h(\"div\", {\n        \"class\": exports.selectorPrefix + \"-loading\"\n      }, [h(ant_design_vue_1.Spin, {\n        \"attrs\": {\n          \"indicator\": h(ant_design_vue_1.Icon, {\n            \"attrs\": {\n              \"type\": \"loading\"\n            },\n            \"style\": \"font-size: 24px\"\n          })\n        }\n      })]);\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var scopedSlots = {\n      renderList: function renderList(data) {\n        return _this.$renderList(h, data);\n      }\n    };\n    return h(ListStandard_1.default, {\n      \"attrs\": {\n        \"getScrollWrapContainer\": this.getScrollWrapContainer,\n        \"listProps\": this.listProps,\n        \"dataKeys\": this.commentDataKeys,\n        \"limit\": this.commentLimit,\n        \"fetchData\": this.fetchCommentData,\n        \"flexLayoutProps\": this.flexLayoutProps\n      },\n      \"scopedSlots\": scopedSlots\n    });\n  }\n};\nexports.default = Comment;"],"names":["require","Object","defineProperty","exports","value","selectorPrefix","tslib_1","ant_design_vue_1","vue_fragment_1","adherev_util_intl_1","__importDefault","Info_1","Info_2","ListStandard_1","Comment","name","props","getScrollWrapContainer","type","Function","default","fetchCommentData","commentDataKeys","current","totalPage","list","totalCount","commentLimit","Number","commentKeyProp","fetchReplyData","replyDataKeys","replyLimit","replyKeyProp","String","fetchReply","listProps","isMoreProp","flexLayoutProps","local","emojiPickerProps","slots","scopedSlots","emits","data","methods","$renderList","h","_a","_this","this","showReplyText","$slots","v","hideReplyText","loadMoreReplyText","showReplyTextIcon","Icon","attrs","hideReplyTextIcon","loadMoreCollapseTextIcon","class","record","dataKeys","limit","keyProp","fetchData","Fragment","slot","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","$renderLoading","_b","map","call","key","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","renderCommentLoading","Spin","indicator","style","render","renderList"],"mappings":"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"}