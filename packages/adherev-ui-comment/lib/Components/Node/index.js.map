{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.string.ends-with.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar vue_fragment_1 = require(\"vue-fragment\");\nvar adherev_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-conditionalrender\"));\nvar adherev_ui_flexlayout_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-ui-flexlayout\"));\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\nvar Info_1 = tslib_1.__importDefault(require(\"../../Reply/Info\"));\nvar Submit_1 = tslib_1.__importDefault(require(\"../../Reply/Submit\"));\nvar selectorPrefix = 'adherev-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n * @classdesc 节点(评论 | 回复)\n */\nvar Node = {\n  name: \"adv-comment-reply-node\",\n  props: {\n    isReply: {\n      type: Boolean,\n      default: false\n    },\n    defaultData: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    dataKeys: {\n      type: Object,\n      default: function _default() {\n        return {\n          current: 'current',\n          totalPage: 'totalPage',\n          list: 'list',\n          totalCount: 'totalCount'\n        };\n      }\n    },\n    limit: {\n      type: Number,\n      default: 10\n    },\n    fetchData: {\n      type: Function\n    },\n    fetchReply: {\n      type: Function\n    },\n    keyProp: {\n      type: String,\n      default: ''\n    },\n    isMoreProp: {\n      type: String,\n      default: ''\n    },\n    local: {\n      type: String,\n      default: 'zh'\n    },\n    emojiPickerProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    comId: {\n      type: [String, Number],\n      default: ''\n    },\n    renderLoading: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    loadMoreCollapseTextIcon: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    loadMoreReplyText: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    showReplyTextIcon: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    showReplyText: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    hideReplyTextIcon: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    hideReplyText: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderActions: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderAuthor: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderAvatar: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderContent: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    renderDateTime: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    }\n  },\n  scopedSlots: ['renderActions', 'renderAuthor', 'renderAvatar', 'renderContent', 'renderDateTime'],\n  slots: ['renderLoading', 'loadMoreCollapseTextIcon', 'loadMoreReplyText', 'showReplyTextIcon', 'showReplyText', 'hideReplyTextIcon', 'hideReplyText'],\n  data: function data() {\n    var _a;\n    return {\n      listData: (_a = {}, _a[this.dataKeys.current] = 1, _a[this.dataKeys.list] = [], _a[this.dataKeys.totalCount] = 0, _a[this.dataKeys.totalPage] = 0, _a),\n      data: this.defaultData,\n      collapse: false,\n      loading: false,\n      showReply: false,\n      $paging: {\n        page: 1,\n        limit: this.limit\n      }\n    };\n  },\n  watch: {\n    defaultData: function defaultData(data) {\n      this.data = data;\n    }\n  },\n  computed: {\n    hasMore: function hasMore() {\n      return this.listData[this.dataKeys.list].length <= this.listData[this.dataKeys.totalCount];\n    }\n  },\n  methods: {\n    $renderActions: function $renderActions(h) {\n      var _this = this;\n      var _a, _b, _c;\n      var actions = ((_c = (_b = ((_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.renderActions) || this.renderActions) === null || _b === void 0 ? void 0 : _b({\n        record: tslib_1.__assign({}, this.data),\n        callback: function callback(_data) {\n          _this.data = _data;\n        }\n      })) === null || _c === void 0 ? void 0 : _c.map(function (node, index) {\n        var _a, _b, _c;\n        return adherev_ui_conditionalrender_1.default.conditionalRender({\n          conditional: !((_c = (_b = (_a = node === null || node === void 0 ? void 0 : node.data) === null || _a === void 0 ? void 0 : _a.class) === null || _b === void 0 ? void 0 : _b.endsWith) === null || _c === void 0 ? void 0 : _c.call(_b, '-actions-action')),\n          noMatch: node,\n          match: h(\"li\", {\n            \"key\": index,\n            \"class\": \"\".concat(selectorPrefix, \"-actions-action\")\n          }, [node])\n        });\n      })) || [];\n      if (!actions.find(function (node) {\n        return (node === null || node === void 0 ? void 0 : node.key) === 'reply';\n      })) {\n        actions.push(h(\"li\", {\n          \"key\": \"reply\",\n          \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n          \"on\": {\n            \"click\": function click() {\n              return _this.showReply = true;\n            }\n          }\n        }, [adherev_util_intl_1.default.tv('回复')]));\n      }\n      return actions;\n    },\n    $renderChildren: function $renderChildren(h) {\n      var _this = this;\n      var _a, _b;\n      var scopedSlots = {\n        renderActions: function renderActions(params) {\n          var _a, _b, _c;\n          return ((_b = (_a = _this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.renderActions) === null || _b === void 0 ? void 0 : _b.call(_a, params)) || ((_c = _this === null || _this === void 0 ? void 0 : _this.renderActions) === null || _c === void 0 ? void 0 : _c.call(_this, params));\n        },\n        renderAuthor: function renderAuthor(params) {\n          var _a, _b, _c;\n          return ((_b = (_a = _this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.renderAuthor) === null || _b === void 0 ? void 0 : _b.call(_a, params)) || ((_c = _this === null || _this === void 0 ? void 0 : _this.renderAuthor) === null || _c === void 0 ? void 0 : _c.call(_this, params));\n        },\n        renderAvatar: function renderAvatar(params) {\n          var _a, _b, _c;\n          return ((_b = (_a = _this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.renderAvatar) === null || _b === void 0 ? void 0 : _b.call(_a, params)) || ((_c = _this === null || _this === void 0 ? void 0 : _this.renderAvatar) === null || _c === void 0 ? void 0 : _c.call(_this, params));\n        },\n        renderContent: function renderContent(params) {\n          var _a, _b, _c;\n          return ((_b = (_a = _this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.renderContent) === null || _b === void 0 ? void 0 : _b.call(_a, params)) || ((_c = _this === null || _this === void 0 ? void 0 : _this.renderContent) === null || _c === void 0 ? void 0 : _c.call(_this, params));\n        },\n        renderDateTime: function renderDateTime(params) {\n          var _a, _b, _c;\n          return ((_b = (_a = _this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.renderDateTime) === null || _b === void 0 ? void 0 : _b.call(_a, params)) || ((_c = _this === null || _this === void 0 ? void 0 : _this.renderDateTime) === null || _c === void 0 ? void 0 : _c.call(_this, params));\n        }\n      };\n      return h(\"ul\", {\n        \"class\": \"\".concat(selectorPrefix, \"-children\")\n      }, [(_b = (_a = this.listData[this.dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n        var _a, _b, _c;\n        return h(\"li\", {\n          \"class\": \"\".concat(selectorPrefix, \"-children-item\"),\n          \"key\": record[_this.keyProp],\n          \"attrs\": {\n            \"id\": record[_this.keyProp]\n          }\n        }, [h(adherev_ui_conditionalrender_1.default, {\n          \"attrs\": {\n            \"conditional\": !((_a = _this === null || _this === void 0 ? void 0 : _this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.default)\n          }\n        }, [h(Info_1.default, {\n          \"attrs\": {\n            \"comId\": record[_this.keyProp],\n            \"isReply\": true,\n            \"defaultData\": record,\n            \"dataKeys\": _this.dataKeys,\n            \"limit\": _this.limit,\n            \"keyProp\": _this.keyProp,\n            \"isMoreProp\": _this.isMoreProp,\n            \"fetchData\": _this.fetchData,\n            \"fetchReply\": _this.fetchReply,\n            \"local\": _this.local,\n            \"emojiPickerProps\": _this.emojiPickerProps\n          },\n          \"scopedSlots\": scopedSlots\n        }, [h(\"div\", {\n          \"slot\": \"renderLoading\"\n        }, [_this.$slots.renderLoading || _this.renderLoading]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"showReplyText\"\n        }, [_this.$slots.showReplyText || _this.showReplyText]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"hideReplyText\"\n        }, [_this.$slots.hideReplyText || _this.hideReplyText]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"loadMoreReplyText\"\n        }, [_this.$slots.loadMoreReplyText || _this.loadMoreReplyText]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"showReplyTextIcon\"\n        }, [_this.$slots.showReplyTextIcon || _this.showReplyTextIcon]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"hideReplyTextIcon\"\n        }, [_this.$slots.hideReplyTextIcon || _this.hideReplyTextIcon]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"loadMoreCollapseTextIcon\"\n        }, [_this.$slots.loadMoreCollapseTextIcon || _this.loadMoreCollapseTextIcon])]), h(vue_fragment_1.Fragment, {\n          \"slot\": \"noMatch\"\n        }, [(_c = (_b = _this === null || _this === void 0 ? void 0 : _this.$scopedSlots) === null || _b === void 0 ? void 0 : _b.default) === null || _c === void 0 ? void 0 : _c.call(_b, record)])])]);\n      }), h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !this.loading && this.hasMore\n        }\n      }, [h(\"li\", {\n        \"class\": (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, [h(\"a\", {\n        \"on\": {\n          \"click\": this.$appendData\n        }\n      }, [h(\"span\", [this.$slots.loadMoreCollapseTextIcon || this.loadMoreCollapseTextIcon]), h(\"span\", [this.$slots.loadMoreReplyText || this.loadMoreReplyText])])])])]);\n    },\n    $renderMore: function $renderMore(h) {\n      var _this = this;\n      return h(adherev_ui_conditionalrender_1.default, {\n        \"attrs\": {\n          \"conditional\": !this.collapse\n        }\n      }, [h(\"a\", {\n        \"class\": \"\".concat(selectorPrefix, \"-collapse\"),\n        \"on\": {\n          \"click\": function click() {\n            var _a;\n            if (!!_this.listData[_this.dataKeys.list].length) {\n              _this.collapse = true;\n              return;\n            }\n            (_a = _this.$loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n              return _this.collapse = true;\n            });\n          }\n        }\n      }, [h(\"span\", [this.$slots.showReplyTextIcon || this.showReplyTextIcon]), h(\"span\", [this.$slots.showReplyText || this.showReplyText])]), h(\"a\", {\n        \"slot\": \"noMatch\",\n        \"class\": \"\".concat(selectorPrefix, \"-collapse\"),\n        \"on\": {\n          \"click\": function click() {\n            return _this.collapse = false;\n          }\n        }\n      }, [h(\"span\", [this.$slots.hideReplyTextIcon || this.hideReplyTextIcon]), h(\"span\", [this.$slots.hideReplyText || this.hideReplyText])])]);\n    },\n    $loadData: function $loadData() {\n      var _this = this;\n      this.loading = true;\n      this.$data.$paging = {\n        page: 1,\n        limit: this.limit\n      };\n      return this.$fetchData().then(function (res) {\n        _this.listData = res;\n      });\n    },\n    $appendData: function $appendData() {\n      var _this = this;\n      this.loading = true;\n      this.$data.$paging.page = this.$data.$paging.page + 1;\n      var list = this.dataKeys.list;\n      return this.$fetchData().then(function (res) {\n        var _a;\n        _this.listData = tslib_1.__assign(tslib_1.__assign({}, res), (_a = {}, _a[_this.dataKeys.list] = tslib_1.__spreadArray(tslib_1.__spreadArray([], _this.listData[list], true), res[list], true), _a));\n      });\n    },\n    $fetchData: function $fetchData() {\n      // console.log('$fetchData', '页码:' + this.$data.$paging.page, 'comId:' + this.comId);\n      var _this = this;\n      var _a, _b, _c;\n      return (_c = (_b = (_a = this === null || this === void 0 ? void 0 : this.fetchData) === null || _a === void 0 ? void 0 : _a.call(this, tslib_1.__assign(tslib_1.__assign({}, this.$data.$paging), {\n        record: tslib_1.__assign({}, this.data)\n      }))) === null || _b === void 0 ? void 0 : _b.then(function (data) {\n        _this.loading = false;\n        return data;\n      })) === null || _c === void 0 ? void 0 : _c.catch(function (error) {\n        _this.loading = false;\n        return error;\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    return h(adherev_ui_flexlayout_1.default, {\n      \"attrs\": {\n        \"direction\": \"horizontal\"\n      },\n      \"class\": (0, classnames_1.default)(selectorPrefix, this.isReply ? \"\".concat(selectorPrefix, \"-reply\") : '')\n    }, [h(adherev_ui_flexlayout_1.default.Fixed, {\n      \"class\": \"\".concat(selectorPrefix, \"-avatar-wrap\")\n    }, [(_b = ((_a = this.$scopedSlots) === null || _a === void 0 ? void 0 : _a.renderAvatar) || (this === null || this === void 0 ? void 0 : this.renderAvatar)) === null || _b === void 0 ? void 0 : _b(tslib_1.__assign({}, this.data))]), h(adherev_ui_flexlayout_1.default.Auto, {\n      \"attrs\": {\n        \"autoFixed\": true,\n        \"fit\": true\n      }\n    }, [h(adherev_ui_flexlayout_1.default, {\n      \"attrs\": {\n        \"direction\": \"vertical\"\n      }\n    }, [h(adherev_ui_flexlayout_1.default.Fixed, {\n      \"class\": \"\".concat(selectorPrefix, \"-title-row\"),\n      \"attrs\": {\n        \"fit\": false\n      }\n    }, [h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-title-row-author\")\n    }, [(_d = ((_c = this.$scopedSlots) === null || _c === void 0 ? void 0 : _c.renderAuthor) || (this === null || this === void 0 ? void 0 : this.renderAuthor)) === null || _d === void 0 ? void 0 : _d(tslib_1.__assign({}, this.data))]), h(\"div\", {\n      \"class\": \"\".concat(selectorPrefix, \"-title-row-date-time\")\n    }, [(_f = ((_e = this.$scopedSlots) === null || _e === void 0 ? void 0 : _e.renderDateTime) || (this === null || this === void 0 ? void 0 : this.renderDateTime)) === null || _f === void 0 ? void 0 : _f(tslib_1.__assign({}, this.data))])]), h(adherev_ui_flexlayout_1.default.Auto, {\n      \"class\": \"\".concat(selectorPrefix, \"-content-wrap\")\n    }, [(_h = ((_g = this.$scopedSlots) === null || _g === void 0 ? void 0 : _g.renderContent) || (this === null || this === void 0 ? void 0 : this.renderContent)) === null || _h === void 0 ? void 0 : _h(tslib_1.__assign({}, this.data))]), h(adherev_ui_flexlayout_1.default.Fixed, [h(\"ul\", {\n      \"class\": \"\".concat(selectorPrefix, \"-actions\")\n    }, [this.$renderActions(h)])]), h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": this.showReply\n      }\n    }, [h(adherev_ui_flexlayout_1.default.Fixed, {\n      \"style\": \"margin-top:15px;\"\n    }, [h(Submit_1.default, {\n      \"on\": {\n        \"cancel\": function cancel() {\n          return _this.showReply = false;\n        },\n        \"result\": function result(reply) {\n          var _a, _b, _c;\n          (_c = (_a = _this.fetchReply) === null || _a === void 0 ? void 0 : _a.call(_this, {\n            id: (_b = _this.data) === null || _b === void 0 ? void 0 : _b[_this.keyProp],\n            record: tslib_1.__assign({}, _this.data),\n            reply: reply\n          })) === null || _c === void 0 ? void 0 : _c.then(function () {\n            _this.showReply = false;\n            _this.$loadData();\n          });\n        }\n      },\n      \"attrs\": {\n        \"local\": this.local,\n        \"emojiPickerProps\": this.emojiPickerProps\n      }\n    })])]), h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": (_j = this.data) === null || _j === void 0 ? void 0 : _j[this.isMoreProp]\n      }\n    }, [h(\"div\", [h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": !this.loading\n      }\n    }, [this.$renderMore(h)]), h(adherev_ui_conditionalrender_1.default.Show, {\n      \"attrs\": {\n        \"conditional\": this.collapse\n      }\n    }, [this.$renderChildren(h)]), h(adherev_ui_conditionalrender_1.default, {\n      \"attrs\": {\n        \"conditional\": this.loading\n      }\n    }, [this.$slots.renderLoading || this.renderLoading])])])])])]);\n  }\n};\nexports.default = Node;"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","vue_fragment_1","adherev_ui_conditionalrender_1","adherev_ui_flexlayout_1","adherev_util_intl_1","Info_1","Submit_1","selectorPrefix","Node","name","props","isReply","type","Boolean","default","defaultData","dataKeys","current","totalPage","list","totalCount","limit","Number","fetchData","Function","fetchReply","keyProp","String","isMoreProp","local","emojiPickerProps","comId","renderLoading","loadMoreCollapseTextIcon","loadMoreReplyText","showReplyTextIcon","showReplyText","hideReplyTextIcon","hideReplyText","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","scopedSlots","slots","data","_a","listData","this","collapse","loading","showReply","$paging","page","watch","computed","hasMore","length","methods","$renderActions","h","_this","actions","_c","_b","$scopedSlots","record","__assign","callback","_data","map","node","index","conditionalRender","conditional","class","endsWith","call","noMatch","match","key","concat","find","push","on","click","tv","$renderChildren","params","attrs","id","slot","$slots","Fragment","$appendData","$renderMore","$loadData","then","$data","$fetchData","res","__spreadArray","catch","error","render","_j","direction","Fixed","Auto","autoFixed","fit","_d","_f","_e","_h","_g","style","cancel","result","reply","Show"],"mappings":"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"}