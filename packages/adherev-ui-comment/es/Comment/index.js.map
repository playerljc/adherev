{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { Icon, Spin } from 'ant-design-vue';\nimport { Fragment } from 'vue-fragment';\nimport Intl from '@baifendian/adherev-util-intl';\nimport ReplyInfo from '../Reply/Info';\nimport CommentInfo from './Info';\nimport ListStandard from './ListStandard';\nexport var selectorPrefix = 'adherev-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\n\nvar Comment = {\n  name: 'adv-comment',\n  props: {\n    getScrollWrapContainer: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    fetchCommentData: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    commentDataKeys: {\n      type: Object,\n      default: function _default() {\n        return {\n          current: 'current',\n          totalPage: 'totalPage',\n          list: 'list',\n          totalCount: 'totalCount'\n        };\n      }\n    },\n    commentLimit: {\n      type: Number,\n      default: 10\n    },\n    commentKeyProp: {\n      type: String,\n      default: 'id'\n    },\n    fetchReplyData: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    replyDataKeys: {\n      type: Object,\n      default: function _default() {\n        return {\n          current: 'current',\n          totalPage: 'totalPage',\n          list: 'list',\n          totalCount: 'totalCount'\n        };\n      }\n    },\n    replyLimit: {\n      type: Number,\n      default: 10\n    },\n    replyKeyProp: {\n      type: String,\n      default: 'id'\n    },\n    fetchReply: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    },\n    listProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    isMoreProp: {\n      type: String,\n      default: 'isMore'\n    },\n    flexLayoutProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    local: {\n      type: String,\n      default: 'zh'\n    },\n    emojiPickerProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  slots: ['renderReplyLoading', 'renderCommentLoading', 'showReplyText', 'showReplyTextIcon', 'hideReplyText', 'hideReplyTextIcon', 'loadMoreReplyText', 'loadMoreCollapseTextIcon'],\n  scopedSlots: ['renderCommentActions', 'renderCommentAuthor', 'renderCommentAvatar', 'renderCommentContent', 'renderCommentDateTime', 'renderReplyActions', 'renderReplyAuthor', 'renderReplyAvatar', 'renderReplyContent', 'renderReplyDateTime'],\n  emits: [],\n  data: function data() {\n    return {};\n  },\n  methods: {\n    $renderList: function $renderList(h, data) {\n      var _this = this;\n\n      var _a, _b;\n\n      var showReplyText = this.$slots.showReplyText || Intl.v('显示回复内容');\n      var hideReplyText = this.$slots.hideReplyText || Intl.v('收起回复');\n      var loadMoreReplyText = this.$slots.loadMoreReplyText || Intl.v('加载更多回复'); // @ts-ignore\n\n      var showReplyTextIcon = this.$slots.showReplyTextIcon || h(Icon, {\n        \"attrs\": {\n          \"type\": \"caret-down\"\n        }\n      }); // @ts-ignore\n\n      var hideReplyTextIcon = this.$slots.hideReplyTextIcon || h(Icon, {\n        \"attrs\": {\n          \"type\": \"caret-up\"\n        }\n      });\n      var loadMoreCollapseTextIcon = this.$slots.loadMoreCollapseTextIcon || // @ts-ignore\n      h(Icon, {\n        \"attrs\": {\n          \"type\": \"enter\"\n        },\n        \"class\": \"reply-icon\"\n      });\n      var scopedSlots = {\n        default: function _default(record) {\n          var scopedSlots = {\n            renderActions: function renderActions(params) {\n              return _this.$scopedSlots.renderReplyActions(params);\n            },\n            renderAuthor: function renderAuthor(params) {\n              return _this.$scopedSlots.renderReplyAuthor(params);\n            },\n            renderAvatar: function renderAvatar(params) {\n              return _this.$scopedSlots.renderReplyAvatar(params);\n            },\n            renderContent: function renderContent(params) {\n              return _this.$scopedSlots.renderReplyContent(params);\n            },\n            renderDateTime: function renderDateTime(params) {\n              return _this.$scopedSlots.renderReplyDateTime(params);\n            }\n          };\n          return h(ReplyInfo, {\n            \"attrs\": {\n              \"defaultData\": record,\n              \"dataKeys\": _this.replyDataKeys,\n              \"limit\": _this.replyLimit,\n              \"keyProp\": _this.replyKeyProp,\n              \"isMoreProp\": _this.isMoreProp,\n              \"fetchData\": _this.fetchReplyData,\n              \"fetchReply\": _this.fetchReply,\n              \"local\": _this.local,\n              \"emojiPickerProps\": _this.emojiPickerProps\n            },\n            \"scopedSlots\": scopedSlots\n          }, [h(\"div\", {\n            \"slot\": \"renderLoading\"\n          }, [_this.$slots.renderReplyLoading || _this.$renderLoading(h)]), h(Fragment, {\n            \"slot\": \"showReplyText\"\n          }, [showReplyText]), h(Fragment, {\n            \"slot\": \"hideReplyText\"\n          }, [hideReplyText]), h(Fragment, {\n            \"slot\": \"loadMoreReplyText\"\n          }, [loadMoreReplyText]), h(Fragment, {\n            \"slot\": \"showReplyTextIcon\"\n          }, [showReplyTextIcon]), h(Fragment, {\n            \"slot\": \"hideReplyTextIcon\"\n          }, [hideReplyTextIcon]), h(Fragment, {\n            \"slot\": \"loadMoreCollapseTextIcon\"\n          }, [loadMoreCollapseTextIcon])]);\n        },\n        renderActions: function renderActions(params) {\n          return _this.$scopedSlots.renderCommentActions(params);\n        },\n        renderAuthor: function renderAuthor(params) {\n          return _this.$scopedSlots.renderCommentAuthor(params);\n        },\n        renderAvatar: function renderAvatar(params) {\n          return _this.$scopedSlots.renderCommentAvatar(params);\n        },\n        renderContent: function renderContent(params) {\n          return _this.$scopedSlots.renderCommentContent(params);\n        },\n        renderDateTime: function renderDateTime(params) {\n          return _this.$scopedSlots.renderCommentDateTime(params);\n        }\n      };\n      return h(\"ul\", {\n        \"class\": selectorPrefix + \"-list\"\n      }, [(_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n        return h(\"li\", {\n          \"class\": selectorPrefix + \"-list-item\",\n          \"key\": record[_this.commentKeyProp]\n        }, [h(CommentInfo, {\n          \"attrs\": {\n            \"defaultData\": record,\n            \"dataKeys\": _this.replyDataKeys,\n            \"limit\": _this.replyLimit,\n            \"keyProp\": _this.replyKeyProp,\n            \"isMoreProp\": _this.isMoreProp,\n            \"fetchData\": _this.fetchReplyData,\n            \"fetchReply\": _this.fetchReply,\n            \"local\": _this.local,\n            \"emojiPickerProps\": _this.emojiPickerProps\n          },\n          \"scopedSlots\": scopedSlots\n        }, [h(\"div\", {\n          \"slot\": \"renderLoading\"\n        }, [_this.$slots.renderCommentLoading || _this.$renderLoading(h)]), h(Fragment, {\n          \"slot\": \"showReplyText\"\n        }, [showReplyText]), h(Fragment, {\n          \"slot\": \"hideReplyText\"\n        }, [hideReplyText]), h(Fragment, {\n          \"slot\": \"loadMoreReplyText\"\n        }, [loadMoreReplyText]), h(Fragment, {\n          \"slot\": \"showReplyTextIcon\"\n        }, [showReplyTextIcon]), h(Fragment, {\n          \"slot\": \"hideReplyTextIcon\"\n        }, [hideReplyTextIcon]), h(Fragment, {\n          \"slot\": \"loadMoreCollapseTextIcon\"\n        }, [loadMoreCollapseTextIcon])])]);\n      })]);\n    },\n    $renderLoading: function $renderLoading(h) {\n      return h(\"div\", {\n        \"class\": selectorPrefix + \"-loading\"\n      }, [h(Spin, [h(Icon, {\n        \"slot\": \"indicator\",\n        \"attrs\": {\n          \"type\": \"loading\"\n        },\n        \"style\": \"font-size: 24px;\"\n      })])]);\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var scopedSlots = {\n      renderList: function renderList(data) {\n        return _this.$renderList(h, data);\n      }\n    };\n    return h(ListStandard, {\n      \"attrs\": {\n        \"getScrollWrapContainer\": this.getScrollWrapContainer,\n        \"listProps\": this.listProps,\n        \"dataKeys\": this.commentDataKeys,\n        \"limit\": this.commentLimit,\n        \"fetchData\": this.fetchCommentData,\n        \"flexLayoutProps\": this.flexLayoutProps\n      },\n      \"scopedSlots\": scopedSlots\n    });\n  }\n};\nexport default Comment;"],"names":["Icon","Spin","Fragment","Intl","ReplyInfo","CommentInfo","ListStandard","selectorPrefix","Comment","name","props","getScrollWrapContainer","type","Function","default","fetchCommentData","commentDataKeys","Object","current","totalPage","list","totalCount","commentLimit","Number","commentKeyProp","String","fetchReplyData","replyDataKeys","replyLimit","replyKeyProp","fetchReply","listProps","isMoreProp","flexLayoutProps","local","emojiPickerProps","slots","scopedSlots","emits","data","methods","$renderList","h","_a","_this","this","showReplyText","$slots","v","hideReplyText","loadMoreReplyText","showReplyTextIcon","attrs","hideReplyTextIcon","loadMoreCollapseTextIcon","class","record","renderActions","params","$scopedSlots","renderReplyActions","renderAuthor","renderReplyAuthor","renderAvatar","renderReplyAvatar","renderContent","renderReplyContent","renderDateTime","renderReplyDateTime","defaultData","dataKeys","limit","keyProp","fetchData","slot","renderReplyLoading","$renderLoading","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","_b","map","call","key","renderCommentLoading","style","render","renderList"],"mappings":"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"}