{"version":3,"file":"index.js","sources":["Comment/List/index.js"],"sourcesContent":["import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.object.define-properties.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { __assign } from \"tslib\";\nimport BackTopAnimation from '@baifendian/adherev-ui-backtopanimation';\nimport ConditionalRender from '@baifendian/adherev-ui-conditionalrender';\nimport ScrollLoad from '@baifendian/adherev-ui-scrollload';\nimport Teleport from '@baifendian/adherev-ui-teleport';\nvar selectorPrefix = 'adherev-ui-comment-inner-list';\nvar List = {\n  name: \"adv-comment-list\",\n  props: {\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    hasMore: {\n      type: Boolean,\n      default: false\n    },\n    scrollLoadProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    getScrollWrapContainer: {\n      type: Function,\n      default: function _default() {\n        return null;\n      }\n    }\n  },\n  slots: ['renderFirstLoading', 'default'],\n  emits: ['load-more'],\n  data: function data() {\n    return {\n      $isFirst: true,\n      $isFirstLoading: true\n    };\n  },\n  methods: {\n    $renderDispatch: function $renderDispatch(h) {\n      var loading = this.isLoading;\n\n      if (this.$data.$isFirst && !this.$data.$isFirstLoading && loading) {\n        this.$data.$isFirstLoading = true;\n      }\n\n      if (this.$data.$isFirst && this.$data.$isFirstLoading && !loading) {\n        this.$data.$isFirst = false;\n        this.$data.$isFirstLoading = false;\n      }\n\n      if (this.$data.$isFirst) {\n        return this.$renderFirstLoading(h);\n      }\n\n      return this.$renderNormal(h);\n    },\n    $renderFirstLoading: function $renderFirstLoading(h) {\n      return h(\"div\", {\n        \"class\": selectorPrefix + \"-first-loading-wrap\"\n      }, [this.$slots.renderFirstLoading]);\n    },\n    $renderNormal: function $renderNormal(h) {\n      var _this = this;\n\n      var _a, _b;\n\n      var defaultScrollLoadProps = {\n        getScrollContainer: function getScrollContainer() {\n          var _a, _b;\n\n          return (_b = (_a = _this.getScrollWrapContainer) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.firstElementChild;\n        }\n      };\n      return h(ConditionalRender, {\n        \"attrs\": {\n          \"conditional\": this.hasMore\n        }\n      }, [h(\"div\", {\n        \"class\": selectorPrefix + \"-normal-wrap\"\n      }, [h(ScrollLoad, {\n        \"on\": {\n          \"scrollBottom\": function scrollBottom(callback) {\n            return _this.$emit('loadMore', callback);\n          }\n        },\n        \"props\": _objectSpread({}, __assign(__assign(__assign({}, defaultScrollLoadProps), this.scrollLoadProps || {}), {\n          distance: ((_a = this.scrollLoadProps) === null || _a === void 0 ? void 0 : _a.distance) || 50\n        }))\n      }, [this.$slots.default]), h(ConditionalRender, {\n        \"attrs\": {\n          \"conditional\": !!(this.getScrollWrapContainer ? this.getScrollWrapContainer() : null)\n        }\n      }, [h(Teleport, {\n        \"attrs\": {\n          \"to\": (_b = this.getScrollWrapContainer) === null || _b === void 0 ? void 0 : _b.call(this)\n        }\n      }, [h(BackTopAnimation, {\n        \"on\": {\n          \"target\": function target(callback) {\n            var _a, _b;\n\n            return callback((_b = (_a = _this.getScrollWrapContainer) === null || _a === void 0 ? void 0 : _a.call(_this)) === null || _b === void 0 ? void 0 : _b.firstElementChild);\n          },\n          \"trigger\": function trigger(next) {\n            return next();\n          }\n        }\n      })]), h(BackTopAnimation, {\n        \"slot\": \"noMatch\",\n        \"on\": {\n          \"target\": function target(callback) {\n            var _a, _b;\n\n            return callback((_b = (_a = _this.$refs.wrapRef) === null || _a === void 0 ? void 0 : _a.querySelector) === null || _b === void 0 ? void 0 : _b.call(_a, '.adherev-ui-scrollload'));\n          },\n          \"trigger\": function trigger(next) {\n            return next();\n          }\n        }\n      })])])]);\n    }\n  },\n  render: function render(h) {\n    return h(\"div\", {\n      \"class\": selectorPrefix,\n      \"ref\": \"wrapRef\"\n    }, [this.$renderDispatch(h)]);\n  }\n};\nexport default List;"],"names":["_defineProperty","ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","__assign","BackTopAnimation","ConditionalRender","ScrollLoad","Teleport","selectorPrefix","List","name","props","isLoading","type","Boolean","default","hasMore","scrollLoadProps","getScrollWrapContainer","Function","slots","emits","data","$isFirst","$isFirstLoading","methods","$renderDispatch","h","loading","this","$data","$renderFirstLoading","$renderNormal","class","$slots","renderFirstLoading","_this","defaultScrollLoadProps","getScrollContainer","_b","_a","call","firstElementChild","attrs","conditional","on","scrollBottom","callback","$emit","distance","to","trigger","next","slot","$refs","wrapRef","querySelector","render","ref"],"mappings":"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"}