import"core-js/modules/es.object.keys.js";import"core-js/modules/es.symbol.js";import"core-js/modules/es.array.filter.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.object.get-own-property-descriptor.js";import"core-js/modules/web.dom-collections.for-each.js";import"core-js/modules/es.object.get-own-property-descriptors.js";import"core-js/modules/es.object.define-properties.js";import"core-js/modules/es.object.define-property.js";import _defineProperty from"@babel/runtime/helpers/defineProperty";function ownKeys(e,r){var t,o=Object.keys(e);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(e),r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,t)),o}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}import{__assign}from"tslib";import{Skeleton}from"ant-design-vue";import BackTopAnimation from"@baifendian/adherev-ui-backtopanimation";import ConditionalRender from"@baifendian/adherev-ui-conditionalrender";import ScrollLoad from"@baifendian/adherev-ui-scrollload";import Teleport from"@baifendian/adherev-ui-teleport";import{selectorPrefix}from"../index";var List={name:selectorPrefix+"-list",props:{isLoading:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},scrollLoadProps:{type:Object,default:function(){return{}}},getScrollWrapContainer:{type:Function,default:function(){return null}}},slots:["renderFirstLoading","default"],emits:["load-more"],data:function(){return{$isFirst:!0,$isFirstLoading:!0}},methods:{$renderDispatch:function(r){var e=this.isLoading,t=this.$data,o=t.$isFirst,t=t.$isFirstLoading;return o&&!t&&e&&(this.$data.$isFirstLoading=!0),o&&t&&!e&&(this.$isFirst=!1,this.$isFirstLoading=!1),o?this.$renderFirstLoading(r):this.$renderNormal(r)},$renderFirstLoading:function(r){if(this.$slots.renderFirstLoading)return this.$slots.renderFirstLoading;for(var e=[],t=0;t<7;t++)e.push(r(Skeleton,{key:t+1,attrs:{loading:!0,avatar:!0}}));return r("div",{class:selectorPrefix+"-first-loading-wrap"},[e])},$renderNormal:function(r){var t=this,e={getScrollContainer:function(){var r;return null===(r=null===(r=t.getScrollWrapContainer)||void 0===r?void 0:r.call(t))||void 0===r?void 0:r.firstElementChild},scrollBottom:function(){return t.$emit("load-more")}};return r(ConditionalRender,{attrs:{conditional:this.hasMore}},[r("div",{class:selectorPrefix+"-normal-wrap"},[r(ScrollLoad,{props:_objectSpread({},__assign(__assign(__assign({},e),this.scrollLoadProps||{}),{distance:(null===(e=this.scrollLoadProps)||void 0===e?void 0:e.distance)||50}))},[this.$slots.default]),r(ConditionalRender,{attrs:{conditional:!(!this.getScrollWrapContainer||!this.getScrollWrapContainer())}},[r(Teleport,{attrs:{to:null===(e=this.getScrollWrapContainer)||void 0===e?void 0:e.call(this)}},[r(BackTopAnimation,{attrs:{target:function(r){return r(null===(r=null===(r=t.getScrollWrapContainer)||void 0===r?void 0:r.call(t))||void 0===r?void 0:r.firstElementChild)},trigger:function(r){return r()}}})]),r(BackTopAnimation,{slot:"noMatch",attrs:{target:function(r){var e;return r(null===(r=null===(e=t.$refs.wrapRef)||void 0===e?void 0:e.querySelector)||void 0===r?void 0:r.call(e,".adherev-ui-scrollload"))},trigger:function(r){return r()}}})])])])}},render:function(r){return r("div",{class:selectorPrefix,ref:"wrapRef"},[this.$renderDispatch(r)])}};export default List;
//# sourceMappingURL=index.js.map
