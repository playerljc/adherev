import"core-js/modules/es.object.keys.js";import"core-js/modules/es.symbol.js";import"core-js/modules/es.array.filter.js";import"core-js/modules/es.object.get-own-property-descriptor.js";import"core-js/modules/web.dom-collections.for-each.js";import"core-js/modules/es.object.get-own-property-descriptors.js";import"core-js/modules/es.object.define-properties.js";import"core-js/modules/es.object.define-property.js";import _defineProperty from"@babel/runtime/helpers/defineProperty";function ownKeys(t,e){var o,r=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}import"core-js/modules/es.array.iterator.js";import"core-js/modules/es.map.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.string.iterator.js";import"core-js/modules/esnext.map.delete-all.js";import"core-js/modules/esnext.map.every.js";import"core-js/modules/esnext.map.filter.js";import"core-js/modules/esnext.map.find.js";import"core-js/modules/esnext.map.find-key.js";import"core-js/modules/esnext.map.includes.js";import"core-js/modules/esnext.map.key-of.js";import"core-js/modules/esnext.map.map-keys.js";import"core-js/modules/esnext.map.map-values.js";import"core-js/modules/esnext.map.merge.js";import"core-js/modules/esnext.map.reduce.js";import"core-js/modules/esnext.map.some.js";import"core-js/modules/esnext.map.update.js";import"core-js/modules/web.dom-collections.iterator.js";import"core-js/modules/es.string.trim.js";import{Button,Input,Popover}from"ant-design-vue";import{Picker}from"emoji-mart-vue";import Intl from"@baifendian/adherev-util-intl";import data from"@emoji-mart/data";import ar from"@emoji-mart/data/i18n/ar.json";import de from"@emoji-mart/data/i18n/de.json";import en from"@emoji-mart/data/i18n/en.json";import es from"@emoji-mart/data/i18n/es.json";import fa from"@emoji-mart/data/i18n/fa.json";import fr from"@emoji-mart/data/i18n/fr.json";import it from"@emoji-mart/data/i18n/it.json";import ja from"@emoji-mart/data/i18n/ja.json";import nl from"@emoji-mart/data/i18n/nl.json";import pl from"@emoji-mart/data/i18n/pl.json";import pt from"@emoji-mart/data/i18n/pt.json";import ru from"@emoji-mart/data/i18n/ru.json";import uk from"@emoji-mart/data/i18n/uk.json";import zh from"@emoji-mart/data/i18n/zh.json";import{selectorPrefix}from"../../Comment";import EmojiIcon from"./emoji";var TextArea=Input.TextArea,LOCAL_MAP=new Map([["ar",ar],["de",de],["en",en],["es",es],["fa",fa],["fr",fr],["it",it],["ja",ja],["nl",nl],["pl",pl],["pt",pt],["ru",ru],["uk",uk],["zh",zh]]),Reply={name:selectorPrefix+"-reply",props:{local:{type:String,default:"zh"},emojiPickerProps:{type:Object,default:function(){return{}}}},emits:["onResult","onCancel"],data:function(){return{value:"",emojiIconWrapVisible:!1}},methods:{onEmojiSelect:function(e){var t=e.native,o=this.$refs.textAreaRef.querySelector("textarea"),r=o.selectionStart;this.value=""+this.value.substring(0,r)+t+this.value.substring(r),this.$nextTick(function(){o.focus(),o.setSelectionRange(r+t.length,r+t.length)})}},render:function(e){var t=this;return e("div",{class:""+selectorPrefix},[e("div",{class:selectorPrefix+"-textarea-wrap",ref:"textAreaRef"},[e(TextArea,{class:selectorPrefix+"-textarea",attrs:{placeholder:Intl.v("请输入回复内容"),autoFocus:!0,value:this.value,showCount:!0,maxLength:100},on:{change:function(e){t.value=e.target.value}}})]),e("div",{ref:"emojiWrapRef",class:selectorPrefix+"-emoji-wrap"}),e("div",{class:selectorPrefix+"-toolbar"},[e(Popover,{attrs:{placement:"bottomLeft",getPopupContainer:function(){return t.$refs.emojiWrapRef},content:e(Picker,{attrs:{data:data,i18n:LOCAL_MAP.get(this.local||"zh"),select:this.onEmojiSelect},props:_objectSpread({},this.emojiPickerProps||{})}),visible:this.emojiIconWrapVisible}},[e("div",{on:{click:function(e){e.stopPropagation(),t.emojiIconWrapVisible=!t.emojiIconWrapVisible}}},[e(EmojiIcon,{class:selectorPrefix+"-toolbar-item-emoji"})])]),e("div",{class:selectorPrefix+"-toolbar-inner"},[e(Button,{attrs:{type:"primary",disabled:!this.value},class:selectorPrefix+"-toolbar-item",on:{click:function(){t.$emit("onResult",t.value.trim())}}},[Intl.v("添加")]),e(Button,{class:selectorPrefix+"-toolbar-item",on:{click:function(){t.$emit("onCancel")}}},[Intl.v("取消")])])])])}};export default Reply;
//# sourceMappingURL=index.js.map
