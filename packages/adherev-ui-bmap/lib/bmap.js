"use strict";require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.number.constructor.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),adherev_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-conditionalrender")),selectorPrefix="adhere-ui-bmap",loadGridIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUdJREFUeNrs2sENwyAQRcE4ckf0RBv04Z7ck30wFXBi/4wU5bScXhQk9hhj9B+xzu/7WjijvZ/b/Jbz/e83kE0AAkAACAABIAAEgAAQAAJAAAgAAVDYfA5ui+eY33R+BuA9PXO++QtwB0AACAABIAAEgAAQAAJAAAgAASAAqrIPED5vH8A+AO4ACAABIAAEgAAQAAJAAAgAASAABEBJ9gHC5+0D2AfAHQABIAAEgAAQAAJAAAgAASAABIAAKMk+QPi8fQD7ALgDIAAEgAAQAAJAAAgAASAABIAAEAAl2QcIn7cPYB8AdwAEgAAQAAJAAAgAASAABIAAEAACoCT7AOHz9gHsA+AOgAAQAAJAAAgAASAABIAAEAACQACUZB8gfN4+gH0A3AEQAAJAAAgAASAABIAAEAACQABUNV8D++I5nmM3nX8EGADa0U/2xPbBVwAAAABJRU5ErkJggg==",BMap={name:"adv-bmap",props:{ak:{type:String,default:"bxFuXXDt1oKdlgu6mXCCnK51cDgDGBLp"},zoom:{type:Number,default:5},center:{type:Object,default:function(){return{lon:116.404,lat:39.915}}},config:{type:Object,default:function(){return{minZoom:2,maxZoom:20,enableHighResolution:!0,enableAutoResize:!0,enableMapClick:!1}}},externalImportBMapScript:{type:Boolean,default:!1}},emits:["bMapInitReady"],data:function(){return{isReady:!1,$BMap:null,$map:null,$isLoad:!1}},methods:{initMap:function(){var t=this,A=this.$data.$BMap,e=this,a=e.config,i=e.zoom,e=e.center;this.$data.$map=new A.Map(this.$refs.ref,tslib_1.__assign({enableMapClick:!1},a)),this.initMapControl(),this.$data.$map.centerAndZoom(new A.Point(null==e?void 0:e.lon,null==e?void 0:e.lat),i),this.$data.$map.addEventListener("tilesloaded",function(){var A,e;t.$data.$isLoad||(t.$data.$isLoad=!0,(e=document.querySelector(".anchorBL"))&&null!==(A=null==e?void 0:e.parentElement)&&void 0!==A&&A.removeChild(e),setTimeout(function(){t.$refs.ref.style.background='url("'+loadGridIcon+'") repeat #fff;'},2e3))}),this.$emit("bMapInitReady")},initMapControl:function(){var A=this.$data,e=A.$BMap,A=A.$map;A.addControl(new e.NavigationControl),A.enableScrollWheelZoom(!0)},getMap:function(){return this.$data.$map}},mounted:function(){var A=this;this.$data.$BMap=window.BMap,this.isReady=!0,this.$nextTick(function(){A.initMap()})},render:function(A){var e=this.isReady;return A(adherev_ui_conditionalrender_1.default,{attrs:{conditional:e}},[A("div",{class:selectorPrefix,ref:"ref"}),A("div",{slot:"noMatch"},["loading"])])}};exports.default=BMap;
//# sourceMappingURL=bmap.js.map
