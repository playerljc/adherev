"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),vue_1=require("vue"),vue_types_1=require("vue-types"),adherev_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-conditionalrender")),selectorPrefix="adhere-ui-bmap",loadGridIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUdJREFUeNrs2sENwyAQRcE4ckf0RBv04Z7ck30wFXBi/4wU5bScXhQk9hhj9B+xzu/7WjijvZ/b/Jbz/e83kE0AAkAACAABIAAEgAAQAAJAAAgAAVDYfA5ui+eY33R+BuA9PXO++QtwB0AACAABIAAEgAAQAAJAAAgAASAAqrIPED5vH8A+AO4ACAABIAAEgAAQAAJAAAgAASAABEBJ9gHC5+0D2AfAHQABIAAEgAAQAAJAAAgAASAABIAAKMk+QPi8fQD7ALgDIAAEgAAQAAJAAAgAASAABIAAEAAl2QcIn7cPYB8AdwAEgAAQAAJAAAgAASAABIAAEAACoCT7AOHz9gHsA+AOgAAQAAJAAAgAASAABIAAEAACQACUZB8gfN4+gH0A3AEQAAJAAAgAASAABIAAEAACQABUNV8D++I5nmM3nX8EGADa0U/2xPbBVwAAAABJRU5ErkJggg==",props={ak:(0,vue_types_1.string)().def("bxFuXXDt1oKdlgu6mXCCnK51cDgDGBLp"),zoom:(0,vue_types_1.number)().def(5),center:(0,vue_types_1.object)().def(function(){return{lon:116.404,lat:39.915}}).isRequired,config:(0,vue_types_1.object)().def(function(){return{minZoom:2,maxZoom:20,enableHighResolution:!0,enableAutoResize:!0,enableMapClick:!1}}),externalImportBMapScript:(0,vue_types_1.bool)().def(!1)};exports.default=(0,vue_1.defineComponent)({name:"adv-bmap",props:props,emits:["bMapInitReady"],setup:function(A,e){function n(){o.addControl(new t.NavigationControl),o.enableScrollWheelZoom(!0)}var t,o,r=e.emit,e=e.expose,i=(0,vue_1.ref)(null),u=!1,a=!1;return e({getMap:function(){return o}}),(0,vue_1.onMounted)(function(){t=window.BMap,u=!0,(0,vue_1.nextTick)(function(){var e;o=new t.Map(i.value,tslib_1.__assign(tslib_1.__assign({},A.config),{enableMapClick:!1})),n(),o.centerAndZoom(new t.Point(null==(e=A.center)?void 0:e.lon,null==(e=A.center)?void 0:e.lat),A.zoom),o.addEventListener("tilesloaded",function(){var e,A;a||(a=!0,(A=document.querySelector(".anchorBL"))&&null!=(e=null==A?void 0:A.parentElement)&&e.removeChild(A),setTimeout(function(){i.value.style.background='url("'.concat(loadGridIcon,'") repeat #fff;')},2e3))}),r("bMapInitReady")})}),function(){return(0,_vue.createVNode)(adherev_ui_conditionalrender_1.default,{conditional:u},{default:function(){return(0,_vue.createVNode)("div",{class:selectorPrefix,ref:i},null)},noMatch:function(){return(0,_vue.createVNode)("div",null,[(0,_vue.createTextVNode)("loading")])}})}}});
//# sourceMappingURL=bmap.js.map
