module.exports=function(n){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}return a.m=n,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=3)}([function(t,e){t.exports=require("@baifendian/adhere-ui-bmap")},function(t,e){t.exports=require("@baifendian/adherev-ui-conditionalrender")},function(t,e){t.exports=require("@baifendian/adherev-util")},function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),i=n(1),r=n.n(i),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},A={name:"adv-bmap",props:{ak:{type:String,default:"bxFuXXDt1oKdlgu6mXCCnK51cDgDGBLp"},zoom:{type:Number,default:5},center:{type:Object,default:function(){return{lon:116.404,lat:39.915}}},config:{type:Object,default:function(){return{minZoom:2,maxZoom:20,enableHighResolution:!0,enableAutoResize:!0,enableMapClick:!1}}},externalImportBMapScript:{type:Boolean,default:!1}},data:function(){return{isReady:!1,$BMap:null,$map:null,$isLoad:!1}},methods:{importBMapJS:function(){var n=this;return new Promise(function(a){var t,r=document.write;document.write=function(t){var e=document.createElement("div");e.innerHTML=t;var n,i=e.firstElementChild;"script"===(null==i?void 0:i.tagName.toLowerCase())&&-1!==(null===(e=null==i?void 0:i.getAttribute("src"))||void 0===e?void 0:e.indexOf("http://api.map.baidu.com"))?(n=i.getAttribute("src"),new Promise(function(t){var e=document.createElement("script");e.onload=function(){t(window.BMap)},e.src=n,document.querySelector("head").appendChild(e)}).then(function(t){a(t)})):r(t)};var e=document.createElement("script");e.src="http://api.map.baidu.com/api?v=3.0&ak="+n.props.ak,null===(t=null===document||void 0===document?void 0:document.querySelector("head"))||void 0===t||t.appendChild(e)})},initMap:function(){var n=this,t=this.$data.$BMap,e=this.config,i=this.zoom,a=this.center;this.$data.$map=new t.Map(this.$refs.ref,o({enableMapClick:!1},e)),this.initMapControl(),this.$data.$map.centerAndZoom(new t.Point(null==a?void 0:a.lon,null==a?void 0:a.lat),i),this.$data.$map.addEventListener("tilesloaded",function(){var t,e;n.$data.$isLoad||(n.$data.$isLoad=!0,(e=document.querySelector(".anchorBL"))&&(null===(t=null==e?void 0:e.parentElement)||void 0===t||t.removeChild(e)),setTimeout(function(){var t;null===(t=null===(t=null===(t=null==n?void 0:n.$refs)||void 0===t?void 0:t.ref)||void 0===t?void 0:t.style)||void 0===t||(t.background='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUdJREFUeNrs2sENwyAQRcE4ckf0RBv04Z7ck30wFXBi/4wU5bScXhQk9hhj9B+xzu/7WjijvZ/b/Jbz/e83kE0AAkAACAABIAAEgAAQAAJAAAgAAVDYfA5ui+eY33R+BuA9PXO++QtwB0AACAABIAAEgAAQAAJAAAgAASAAqrIPED5vH8A+AO4ACAABIAAEgAAQAAJAAAgAASAABEBJ9gHC5+0D2AfAHQABIAAEgAAQAAJAAAgAASAABIAAKMk+QPi8fQD7ALgDIAAEgAAQAAJAAAgAASAABIAAEAAl2QcIn7cPYB8AdwAEgAAQAAJAAAgAASAABIAAEAACoCT7AOHz9gHsA+AOgAAQAAJAAAgAASAABIAAEAACQACUZB8gfN4+gH0A3AEQAAJAAAgAASAABIAAEAACQABUNV8D++I5nmM3nX8EGADa0U/2xPbBVwAAAABJRU5ErkJggg==") repeat #fff;')},2e3))}),this.$emit("onBMapInitReady")},initMapControl:function(){var t=this.$data,e=t.$BMap,t=t.$map;t.addControl(new e.NavigationControl),t.enableScrollWheelZoom(!0)},getMap:function(){return this.$data.$map}},mounted:function(){var e=this;this.externalImportBMapScript?(this.$data.$BMap=window.BMap,this.isReady=!0,this.$nextTick(function(){e.initMap()})):this.importBMapJS().then(function(t){e.$data.$BMap=t,window.BMap=t,e.$emit("onBMapScriptReady"),e.isReady=!0,e.$nextTick(function(){e.initMap()})})},render:function(t){var e=this.isReady;return t(r.a,{attrs:{conditional:e}},[t("div",{class:"adhere-ui-bmap",ref:"ref"}),t("div",{slot:"noMatch"},["loading"])])}},i=n(2),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},n=n.n(i).a._util,i=n.withInstall,l=n.withVue,d=u(u({},a.a),{BMap:A});d.isUse=function(){return!0},d.use=function(t){t.use(A),l(t,"BMap",d)},i(A),e.default=d}]).default;
//# sourceMappingURL=index.js.map
