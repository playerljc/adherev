import"core-js/modules/es.number.constructor.js";import{__assign}from"tslib";import ConditionalRender from"@baifendian/adherev-ui-conditionalrender";var selectorPrefix="adhere-ui-bmap",loadGridIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUdJREFUeNrs2sENwyAQRcE4ckf0RBv04Z7ck30wFXBi/4wU5bScXhQk9hhj9B+xzu/7WjijvZ/b/Jbz/e83kE0AAkAACAABIAAEgAAQAAJAAAgAAVDYfA5ui+eY33R+BuA9PXO++QtwB0AACAABIAAEgAAQAAJAAAgAASAAqrIPED5vH8A+AO4ACAABIAAEgAAQAAJAAAgAASAABEBJ9gHC5+0D2AfAHQABIAAEgAAQAAJAAAgAASAABIAAKMk+QPi8fQD7ALgDIAAEgAAQAAJAAAgAASAABIAAEAAl2QcIn7cPYB8AdwAEgAAQAAJAAAgAASAABIAAEAACoCT7AOHz9gHsA+AOgAAQAAJAAAgAASAABIAAEAACQACUZB8gfN4+gH0A3AEQAAJAAAgAASAABIAAEAACQABUNV8D++I5nmM3nX8EGADa0U/2xPbBVwAAAABJRU5ErkJggg==",BMap={name:"adv-bmap",props:{ak:{type:String,default:"bxFuXXDt1oKdlgu6mXCCnK51cDgDGBLp"},zoom:{type:Number,default:5},center:{type:Object,default:function(){return{lon:116.404,lat:39.915}}},config:{type:Object,default:function(){return{minZoom:2,maxZoom:20,enableHighResolution:!0,enableAutoResize:!0,enableMapClick:!1}}},externalImportBMapScript:{type:Boolean,default:!1}},emits:["bMapInitReady"],data:function(){return{isReady:!1,$BMap:null,$map:null,$isLoad:!1}},methods:{initMap:function(){var e=this,A=this.$data.$BMap,t=this,a=t.config,n=t.zoom,t=t.center;this.$data.$map=new A.Map(this.$refs.ref,__assign({enableMapClick:!1},a)),this.initMapControl(),this.$data.$map.centerAndZoom(new A.Point(null==t?void 0:t.lon,null==t?void 0:t.lat),n),this.$data.$map.addEventListener("tilesloaded",function(){var A,t;e.$data.$isLoad||(e.$data.$isLoad=!0,(t=document.querySelector(".anchorBL"))&&null!=(A=null==t?void 0:t.parentElement)&&A.removeChild(t),setTimeout(function(){e.$refs.ref.style.background='url("'.concat(loadGridIcon,'") repeat #fff;')},2e3))}),this.$emit("bMapInitReady")},initMapControl:function(){var A=this.$data,t=A.$BMap,A=A.$map;A.addControl(new t.NavigationControl),A.enableScrollWheelZoom(!0)},getMap:function(){return this.$data.$map}},mounted:function(){var A=this;this.$data.$BMap=window.BMap,this.isReady=!0,this.$nextTick(function(){A.initMap()})},render:function(A){var t=this.isReady;return A(ConditionalRender,{attrs:{conditional:t}},[A("div",{class:selectorPrefix,ref:"ref"}),A("div",{slot:"noMatch"},["loading"])])}};export default BMap;
//# sourceMappingURL=bmap.js.map
