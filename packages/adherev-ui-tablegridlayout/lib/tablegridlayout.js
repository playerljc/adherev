"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_vue=require("vue"),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),tslib_1=(require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.fill.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/esnext.map.delete-all.js"),require("core-js/modules/esnext.map.every.js"),require("core-js/modules/esnext.map.filter.js"),require("core-js/modules/esnext.map.find.js"),require("core-js/modules/esnext.map.find-key.js"),require("core-js/modules/esnext.map.includes.js"),require("core-js/modules/esnext.map.key-of.js"),require("core-js/modules/esnext.map.map-keys.js"),require("core-js/modules/esnext.map.map-values.js"),require("core-js/modules/esnext.map.merge.js"),require("core-js/modules/esnext.map.reduce.js"),require("core-js/modules/esnext.map.some.js"),require("core-js/modules/esnext.map.update.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.map.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Value=exports.Label=exports.getRenderDetail=exports.renderGridSearchFormGroup=exports.TableGridLayout=void 0,require("tslib")),classnames_1=tslib_1.__importDefault(require("classnames")),vue_1=require("vue"),adherev_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-conditionalrender")),types_1=require("./types"),selectorPrefix="adherev-ui-tablegridlayout",renderHorizontal=function(t,e){var r=e.data,a=r.columnCount,r=r.data,s=e.rowCountRef;var n=[],u=2*a,i=[],d=((r||[]).forEach(function(e){var r=null==(r=t[e.label])?void 0:r.call(t),a=null==(a=t[e.value])?void 0:a.call(t),r=Array.isArray(r)&&r.length?r[0]:r,a=Array.isArray(a)&&a.length?a[0]:a;"require"in e&&e.require&&r&&(r.props||(r.props={}),r.props.class=(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-label"),"require",(null==(e=null==r?void 0:r.props)?void 0:e.class)||"")),i.push(r),i.push(a)}),0),c=[];return function e(){for(var r=d,a=[],t=0;d<i.length;){var o=i[d];if(t===u)break;o&&o.props&&"colspan"in o.props&&["number","string"].includes((0,_typeof2.default)(o.props.colspan))?t+=parseInt("".concat(o.props.colspan)):t+=1,a.push(o),d++}t<u&&Array.from({length:u-t}).fill(0).forEach(function(){a.push((0,_vue.createVNode)("td",{class:"".concat(selectorPrefix,"-table-noborder")},null))});var l=(0,_vue.createVNode)("tr",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row"),s.current%2==0?"odd":"even")},[a]),l=(s.current++,c.push(l),d-1);n.push({startIndex:r/2,endIndex:(l-1)/2}),d<i.length&&e()}(),{element:c,detail:n}},renderVertical=function(i,e,d){var r=e.columnCount,c=e.data;var p=[],f=r,m=((c||[]).forEach(function(e){var r,a=null==(a=i[e.label])?void 0:a.call(i),a=Array.isArray(a)&&a.length?a[0]:a;"require"in e&&e.require&&a&&(a.props||(a.props={}),a.props.class=(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-label"),"require",(null==(r=null==a?void 0:a.props)?void 0:r.class)||""),e.label=a)}),0),v=[];return function e(){for(var r=[],a=[],t=0,o=m;m<(c||[]).length;){var l="string"==typeof(s=(c||[])[m]).label?null==(l=i[s.label])?void 0:l.call(i):s.label,s=null==(s=i[s.value])?void 0:s.call(i),l=Array.isArray(l)&&l.length?l[0]:l,s=Array.isArray(s)&&s.length?s[0]:s;if(t===f)break;s&&"props"in s&&s.props&&"colspan"in s.props&&["number","string"].includes((0,_typeof2.default)(s.props.colspan))?t+=parseInt("".concat(s.props.colspan)):t+=1,r.push(l),a.push(s),m++}t<f&&Array.from({length:f-t}).fill(0).forEach(function(){r.push((0,_vue.createVNode)("td",{class:"".concat(selectorPrefix,"-table-noborder")},null)),a.push((0,_vue.createVNode)("td",{class:"".concat(selectorPrefix,"-table-noborder")},null))});var n=(0,_vue.createVNode)("tr",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row"),"even")},[r]),u=(0,_vue.createVNode)("tr",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row"),"odd")},[a]),n=(v.push(n,u),d.current+=2,m-1);p.push({startIndex:o,endIndex:n}),m<(c||[]).length&&e()}(),{element:v,detail:p}},renderGridSearchForm=function(e,r){for(var a=r.data,t=a.className,o=a.style,l=a.width,s=a.colgroup,a=a.defaultLabelWidth,n=void 0===a?120:a,a=r.layout,u=r.density,i=r.parity,i=void 0!==i&&i,d=r.rowCountRef,c=new Map([["default","densitydefault"],["middle","densitymiddle"],["small","densitysmall"]]),p=[],f=0;f<(s||[]).length;f++)!function(e){var r=(s||[])[e];p.push((0,_vue.createVNode)(adherev_ui_conditionalrender_1.default,{key:e,conditional:"auto"!==r},{default:function(){return(0,_vue.createVNode)("col",{width:r||n},null)},noMatch:function(){return(0,_vue.createVNode)("col",null,null)}}))}(f);return(0,_vue.createVNode)("table",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table"),c.get(u||"default"),i?"parity":"",t||""),style:tslib_1.__assign({width:l||"100%"},o||{})},[(0,_vue.createVNode)("colgroup",null,[p]),(0,_vue.createVNode)(adherev_ui_conditionalrender_1.default,{conditional:"horizontal"===a},{default:function(){return renderHorizontal(e,r).element},noMatch:function(){return renderVertical(e,r.data,d).element}})])},TableGridLayout=(0,vue_1.defineComponent)({name:"adv-tablegridlayout",props:types_1.tableGridLayoutProps,setup:function(e,r){var a=r.slots,r=(0,vue_1.toRaw)(e),t=r.data,o=tslib_1.__rest(r,["data"]);return function(){return(0,_vue.createVNode)("div",{class:(0,classnames_1.default)(selectorPrefix,e.className||""),style:e.style||{}},[renderGridSearchFormGroup(a,t,o)])}}}),Label=(exports.TableGridLayout=TableGridLayout,(0,vue_1.defineComponent)({name:"adv-tablegridlayout-label",setup:function(e,r){var a=r.slots;return function(){var e;return(0,_vue.createVNode)("td",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-label"))},[null==(e=a.default)?void 0:e.call(a)])}}})),Value=(exports.Label=Label,(0,vue_1.defineComponent)({name:"adv-tablegridlayout-value",setup:function(e,r){var a=r.slots;return function(){var e;return(0,_vue.createVNode)("td",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-value"))},[null==(e=a.default)?void 0:e.call(a)])}}})),renderGridSearchFormGroup=(exports.Value=Value,function(a,e,r){var t={current:0},r=r||{},o=r.bordered,o=void 0!==o&&o,l=r.innerClassName,s=r.innerStyle,n=tslib_1.__rest(r,["bordered","innerClassName","innerStyle"]);return(0,_vue.createVNode)("div",{class:(0,classnames_1.default)(o?"".concat(selectorPrefix,"-border"):null,"".concat(selectorPrefix,"-inner-wrap"),l||""),style:s||{}},[(e||[]).map(function(e,r){return(0,_vue.createVNode)(adherev_ui_conditionalrender_1.default,{key:e.name||r,conditional:0!==r},{default:function(){return(0,_vue.createVNode)("div",null,[renderGridSearchForm(a,tslib_1.__assign({data:e,rowCountRef:t},n))])},noMatch:function(){return renderGridSearchForm(a,tslib_1.__assign({data:e,rowCountRef:t},n))}})})])}),getRenderDetail=(exports.renderGridSearchFormGroup=renderGridSearchFormGroup,function(o,e,l){var r=l||{},s=(r.bordered,r.innerClassName,r.innerStyle,tslib_1.__rest(r,["bordered","innerClassName","innerStyle"])),n={rowCount:0,layout:l.layout,detail:[]};return e.forEach(function(e){var r={current:0},a=tslib_1.__assign({data:e,rowCountRef:r},s),t=[],t=("horizontal"===l.layout?renderHorizontal(o,a):renderVertical(o,a.data,r)).detail;n.rowCount+=r.current,n.detail.push({name:e.name,rowCount:"horizontal"===l.layout?r.current:r.current/2,detail:t})}),n});exports.getRenderDetail=getRenderDetail;
//# sourceMappingURL=tablegridlayout.js.map
