"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),tslib_1=(require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.fill.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/esnext.map.delete-all.js"),require("core-js/modules/esnext.map.every.js"),require("core-js/modules/esnext.map.filter.js"),require("core-js/modules/esnext.map.find.js"),require("core-js/modules/esnext.map.find-key.js"),require("core-js/modules/esnext.map.includes.js"),require("core-js/modules/esnext.map.key-of.js"),require("core-js/modules/esnext.map.map-keys.js"),require("core-js/modules/esnext.map.map-values.js"),require("core-js/modules/esnext.map.merge.js"),require("core-js/modules/esnext.map.reduce.js"),require("core-js/modules/esnext.map.some.js"),require("core-js/modules/esnext.map.update.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.concat.js"),require("core-js/modules/es.array.map.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Value=exports.Label=exports.getRenderDetail=exports.renderGridSearchFormGroup=exports.TableGridLayout=void 0,require("tslib")),classnames_1=tslib_1.__importDefault(require("classnames")),vue_fragment_1=require("vue-fragment"),adherev_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-conditionalrender")),selectorPrefix="adherev-ui-tablegridlayout",renderHorizontal=function(o,a,e){var r=e.data,t=r.columnCount,r=r.data,n=e.rowCountRef;var i=[],u=2*t,d=[],c=((r||[]).forEach(function(e){var r="string"==typeof e.label?a.$slots[e.label]:e.label,t="string"==typeof e.value?a.$slots[e.value]:e.value,r=Array.isArray(r)&&r.length?r[0]:r,t=Array.isArray(t)&&t.length?t[0]:t;"require"in e&&e.require&&r&&(r.data.class=(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-label"),"require",(null==(e=null==r?void 0:r.data)?void 0:e.class)||"")),d.push(r),d.push(t)}),0),f=[];return function e(){for(var r=c,t=[],a=0;c<d.length;){var s=d[c];if(a===u)break;s&&s.data&&s.data.attrs&&"colspan"in s.data.attrs&&["number","string"].includes((0,_typeof2.default)(s.data.attrs.colspan))?a+=parseInt("".concat(s.data.attrs.colspan)):a+=1,t.push(s),c++}a<u&&Array.from({length:u-a}).fill(0).forEach(function(){t.push(o("td",{class:"".concat(selectorPrefix,"-table-noborder")}))});var l=o("tr",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row"),n.current%2==0?"odd":"even")},[t]),l=(n.current++,f.push(l),c-1);i.push({startIndex:r/2,endIndex:(l-1)/2}),c<d.length&&e()}(),{element:o(vue_fragment_1.Fragment,[f]),detail:i}},renderVertical=function(d,c,e,f){var r=e.columnCount,m=e.data;var p=[],y=r,b=((m||[]).forEach(function(e){var r,t="string"==typeof e.label?c.$slots[e.label]:e.label,t=Array.isArray(t)&&t.length?t[0]:t;"require"in e&&e.require&&t&&(t.data.class=(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-label"),"require",(null==(r=null==t?void 0:t.data)?void 0:r.class)||""),e.label=t)}),0),h=[];return function e(){for(var r,t=[],a=[],s=0,l=b;b<(m||[]).length;){var o="string"==typeof(n=(m||[])[b]).label?c.$slots[n.label]:n.label,n="string"==typeof n.value?c.$slots[n.value]:n.value,o=Array.isArray(o)&&o.length?o[0]:o,n=Array.isArray(n)&&n.length?n[0]:n;if(s===y)break;"colspan"in((null==(r=null==n?void 0:n.data)?void 0:r.attrs)||{})&&["number","string"].includes((0,_typeof2.default)(null==(r=null==(r=null==n?void 0:n.data)?void 0:r.attrs)?void 0:r.colspan))?s+=parseInt("".concat(null==(r=null==(r=null==n?void 0:n.data)?void 0:r.attrs)?void 0:r.colspan)):s+=1,t.push(o),a.push(n),b++}s<y&&Array.from({length:y-s}).fill(0).forEach(function(){t.push(d("td",{class:"".concat(selectorPrefix,"-table-noborder")})),a.push(d("td",{class:"".concat(selectorPrefix,"-table-noborder")}))});var i=d("tr",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row"),"even")},[t]),u=d("tr",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row"),"odd")},[a]),i=(h.push(i,u),f.current+=2,b-1);p.push({startIndex:l,endIndex:i}),b<(m||[]).length&&e()}(),{element:d(vue_fragment_1.Fragment,[h]),detail:p}},renderGridSearchForm=function(e,r,t){for(var a=t.data,s=a.className,l=a.style,o=a.width,n=a.colgroup,a=a.defaultLabelWidth,i=void 0===a?120:a,a=t.layout,u=t.density,d=t.parity,d=void 0!==d&&d,c=t.rowCountRef,f=new Map([["default","densitydefault"],["middle","densitymiddle"],["small","densitysmall"]]),m=[],p=0;p<(n||[]).length;p++){var y=(n||[])[p];m.push(e(adherev_ui_conditionalrender_1.default,{key:p,attrs:{conditional:"auto"!==y}},[e("col",{attrs:{width:y||i}}),e("col",{slot:"noMatch"})]))}return e("table",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table"),f.get(u||"default"),d?"parity":"",s||""),style:"width:".concat(o||"100%").concat(";"+l||"")},[e("colgroup",[m]),e(adherev_ui_conditionalrender_1.default,{attrs:{conditional:"horizontal"===a}},[renderHorizontal(e,r,t).element,e(vue_fragment_1.Fragment,{slot:"noMatch"},[renderVertical(e,r,t.data,c).element])])])},renderGridSearchFormGroup=function(t,a,e,r){var s={current:0},r=r||{},l=r.bordered,l=void 0!==l&&l,o=r.innerClassName,n=r.innerStyle,i=tslib_1.__rest(r,["bordered","innerClassName","innerStyle"]);return t("div",{class:(0,classnames_1.default)(l?"".concat(selectorPrefix,"-border"):null,"".concat(selectorPrefix,"-inner-wrap"),o||""),style:n||""},[(e||[]).map(function(e,r){return t(adherev_ui_conditionalrender_1.default,{key:e.name||r,attrs:{conditional:0!==r}},[t("div",[renderGridSearchForm(t,a,tslib_1.__assign({data:e,rowCountRef:s},i))]),t(vue_fragment_1.Fragment,{slot:"noMatch"},[renderGridSearchForm(t,a,tslib_1.__assign({data:e,rowCountRef:s},i))])])})])},getRenderDetail=(exports.renderGridSearchFormGroup=renderGridSearchFormGroup,function(s,l,e,o){var r=o||{},n=(r.bordered,r.innerClassName,r.innerStyle,tslib_1.__rest(r,["bordered","innerClassName","innerStyle"])),i={rowCount:0,layout:o.layout,detail:[]};return e.forEach(function(e){var r={current:0},t=tslib_1.__assign({data:e,rowCountRef:r},n),a=[],a=("horizontal"===o.layout?renderHorizontal(s,l,t):renderVertical(s,l,t.data,r)).detail;i.rowCount+=r.current,i.detail.push({name:e.name,rowCount:"horizontal"===o.layout?r.current:r.current/2,detail:a})}),i}),Label=(exports.getRenderDetail=getRenderDetail,{name:"adv-tablegridlayout-label",render:function(e){return e("td",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-label"))},[this.$slots.default])}}),Value=(exports.Label=Label,{name:"adv-tablegridlayout-value",render:function(e){return e("td",{class:(0,classnames_1.default)("".concat(selectorPrefix,"-table-row-value"))},[this.$slots.default])}}),TableGridLayout=(exports.Value=Value,{name:"adv-tablegridlayout",props:{bordered:{type:Boolean,default:!1},innerClassName:{type:String,default:""},innerStyle:{type:String,default:""},layout:{type:String,default:"horizontal"},density:{type:String,default:"default"},parity:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}}},computed:{otherProps:function(){var e,r={};for(e in this.$props)"data"!==e&&(r[e]=this[e]);return r}},render:function(e){var r=this.data;return e("div",{class:(0,classnames_1.default)(selectorPrefix)},[renderGridSearchFormGroup(e,{$slots:this.$slots},r,this.otherProps)])}});exports.TableGridLayout=TableGridLayout;
//# sourceMappingURL=tablegridlayout.js.map
