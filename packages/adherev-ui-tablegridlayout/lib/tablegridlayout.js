"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof"));require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.fill.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/esnext.map.delete-all.js"),require("core-js/modules/esnext.map.every.js"),require("core-js/modules/esnext.map.filter.js"),require("core-js/modules/esnext.map.find.js"),require("core-js/modules/esnext.map.find-key.js"),require("core-js/modules/esnext.map.includes.js"),require("core-js/modules/esnext.map.key-of.js"),require("core-js/modules/esnext.map.map-keys.js"),require("core-js/modules/esnext.map.map-values.js"),require("core-js/modules/esnext.map.merge.js"),require("core-js/modules/esnext.map.reduce.js"),require("core-js/modules/esnext.map.some.js"),require("core-js/modules/esnext.map.update.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.function.name.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Value=exports.Label=exports.getRenderDetail=exports.renderGridSearchFormGroup=exports.TableGridLayout=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),vue_fragment_1=require("vue-fragment"),adherev_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adherev-ui-conditionalrender")),selectorPrefix="adherev-ui-tablegridlayout",renderHorizontal=function(o,t,e){var r=e.data,a=r.columnCount,r=r.data,n=e.rowCountRef;var i=[],u=2*a,d=[];(r||[]).forEach(function(e){var r="string"==typeof e.label?t.$slots[e.label]:e.label,a="string"==typeof e.value?t.$slots[e.value]:e.value,r=Array.isArray(r)&&r.length?r[0]:r,a=Array.isArray(a)&&a.length?a[0]:a;"require"in e&&e.require&&r&&(r.data.class=classnames_1.default(selectorPrefix+"-table-row-label","require",(null===(e=null==r?void 0:r.data)||void 0===e?void 0:e.class)||"")),d.push(r),d.push(a)});var c=0,f=[];return function e(){for(var r=c,a=[],t=0;c<d.length;){var s=d[c];if(t===u)break;s&&s.data&&s.data.attrs&&"colspan"in s.data.attrs&&["number","string"].includes((0,_typeof2.default)(s.data.attrs.colspan))?t+=parseInt(""+s.data.attrs.colspan):t+=1,a.push(s),c++}t<u&&Array.from({length:u-t}).fill(0).forEach(function(){a.push(o("td",{class:selectorPrefix+"-table-noborder"}))});var l=o("tr",{class:classnames_1.default(selectorPrefix+"-table-row",n.current%2==0?"odd":"even")},[a]);n.current++,f.push(l);l=c-1;i.push({startIndex:r/2,endIndex:(l-1)/2}),c<d.length&&e()}(),{element:o(vue_fragment_1.Fragment,[f]),detail:i}},renderVertical=function(c,f,e,m){var r=e.columnCount,p=e.data;var v=[],y=r;(p||[]).forEach(function(e){var r,a="string"==typeof e.label?f.$slots[e.label]:e.label,a=Array.isArray(a)&&a.length?a[0]:a;"require"in e&&e.require&&a&&(a.data.class=classnames_1.default(selectorPrefix+"-table-row-label","require",(null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.class)||""),e.label=a)});var b=0,h=[];return function e(){for(var r,a=[],t=[],s=0,l=b;b<(p||[]).length;){var o=(p||[])[b],n="string"==typeof o.label?f.$slots[o.label]:o.label,i="string"==typeof o.value?f.$slots[o.value]:o.value,n=Array.isArray(n)&&n.length?n[0]:n,i=Array.isArray(i)&&i.length?i[0]:i;if(s===y)break;"colspan"in((null===(o=null==i?void 0:i.data)||void 0===o?void 0:o.attrs)||{})&&["number","string"].includes((0,_typeof2.default)(null===(r=null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.attrs)||void 0===r?void 0:r.colspan))?s+=parseInt(""+(null===(r=null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.attrs)||void 0===r?void 0:r.colspan)):s+=1,a.push(n),t.push(i),b++}s<y&&Array.from({length:y-s}).fill(0).forEach(function(){a.push(c("td",{class:selectorPrefix+"-table-noborder"})),t.push(c("td",{class:selectorPrefix+"-table-noborder"}))});var u=c("tr",{class:classnames_1.default(selectorPrefix+"-table-row","even")},[a]),d=c("tr",{class:classnames_1.default(selectorPrefix+"-table-row","odd")},[t]);h.push(u,d),m.current+=2;d=b-1;v.push({startIndex:l,endIndex:d}),b<(p||[]).length&&e()}(),{element:c(vue_fragment_1.Fragment,[h]),detail:v}},renderGridSearchForm=function(e,r,a){for(var t=a.data,s=t.className,l=t.style,o=t.width,n=t.colgroup,i=t.defaultLabelWidth,u=void 0===i?120:i,d=a.layout,c=a.density,f=a.parity,t=void 0!==f&&f,i=a.rowCountRef,f=new Map([["default","densitydefault"],["middle","densitymiddle"],["small","densitysmall"]]),m=[],p=0;p<(n||[]).length;p++){var v=(n||[])[p];m.push(e(adherev_ui_conditionalrender_1.default,{key:p,attrs:{conditional:"auto"!==v}},[e("col",{attrs:{width:v||u}}),e("col",{slot:"noMatch"})]))}return e("table",{class:classnames_1.default(selectorPrefix+"-table",f.get(c||"default"),t?"parity":"",s||""),style:"width:"+(o||"100%")+(";"+l||"")},[e("colgroup",[m]),e(adherev_ui_conditionalrender_1.default,{attrs:{conditional:"horizontal"===d}},[renderHorizontal(e,r,a).element,e(vue_fragment_1.Fragment,{slot:"noMatch"},[renderVertical(e,r,a.data,i).element])])])},renderGridSearchFormGroup=function(a,t,e,r){var s={current:0},l=r||{},o=l.bordered,n=void 0!==o&&o,r=l.innerClassName,o=l.innerStyle,i=tslib_1.__rest(l,["bordered","innerClassName","innerStyle"]);return a("div",{class:classnames_1.default(n?selectorPrefix+"-border":null,selectorPrefix+"-inner-wrap",r||""),style:o||""},[(e||[]).map(function(e,r){return a(adherev_ui_conditionalrender_1.default,{key:e.name||r,attrs:{conditional:0!==r}},[a("div",[renderGridSearchForm(a,t,tslib_1.__assign({data:e,rowCountRef:s},i))]),a(vue_fragment_1.Fragment,{slot:"noMatch"},[renderGridSearchForm(a,t,tslib_1.__assign({data:e,rowCountRef:s},i))])])})])};exports.renderGridSearchFormGroup=renderGridSearchFormGroup;var getRenderDetail=function(s,l,e,o){var r=o||{},n=(r.bordered,r.innerClassName,r.innerStyle,tslib_1.__rest(r,["bordered","innerClassName","innerStyle"])),i={rowCount:0,layout:o.layout,detail:[]};return e.forEach(function(e){var r={current:0},a=tslib_1.__assign({data:e,rowCountRef:r},n),t=[],t=("horizontal"===o.layout?renderHorizontal(s,l,a):renderVertical(s,l,a.data,r)).detail;i.rowCount+=r.current,i.detail.push({name:e.name,rowCount:"horizontal"===o.layout?r.current:r.current/2,detail:t})}),i};exports.getRenderDetail=getRenderDetail;var Label={name:"adv-tablegridlayout-label",render:function(e){return e("td",{class:classnames_1.default(selectorPrefix+"-table-row-label")},[this.$slots.default])}};exports.Label=Label;var Value={name:"adv-tablegridlayout-value",render:function(e){return e("td",{class:classnames_1.default(selectorPrefix+"-table-row-value")},[this.$slots.default])}};exports.Value=Value;var TableGridLayout={name:"adv-tablegridlayout",props:{bordered:{type:Boolean,default:!1},innerClassName:{type:String,default:""},innerStyle:{type:String,default:""},layout:{type:String,default:"horizontal"},density:{type:String,default:"default"},parity:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}}},computed:{otherProps:function(){var e,r={};for(e in this.$props)"data"!==e&&(r[e]=this[e]);return r}},render:function(e){var r=this.data;return e("div",{class:classnames_1.default(selectorPrefix)},[renderGridSearchFormGroup(e,{$slots:this.$slots},r,this.otherProps)])}};exports.TableGridLayout=TableGridLayout;
//# sourceMappingURL=tablegridlayout.js.map
