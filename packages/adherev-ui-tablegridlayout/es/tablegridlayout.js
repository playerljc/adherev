import"core-js/modules/es.object.to-string.js";import"core-js/modules/web.dom-collections.for-each.js";import"core-js/modules/es.array.fill.js";import"core-js/modules/es.array.from.js";import"core-js/modules/es.string.iterator.js";import"core-js/modules/es.array.iterator.js";import"core-js/modules/es.map.js";import"core-js/modules/esnext.map.delete-all.js";import"core-js/modules/esnext.map.every.js";import"core-js/modules/esnext.map.filter.js";import"core-js/modules/esnext.map.find.js";import"core-js/modules/esnext.map.find-key.js";import"core-js/modules/esnext.map.includes.js";import"core-js/modules/esnext.map.key-of.js";import"core-js/modules/esnext.map.map-keys.js";import"core-js/modules/esnext.map.map-values.js";import"core-js/modules/esnext.map.merge.js";import"core-js/modules/esnext.map.reduce.js";import"core-js/modules/esnext.map.some.js";import"core-js/modules/esnext.map.update.js";import"core-js/modules/web.dom-collections.iterator.js";import"core-js/modules/es.array.map.js";import"core-js/modules/es.function.name.js";import{__assign,__rest}from"tslib";import classNames from"classnames";import{Fragment}from"vue-fragment";import{createHOC}from"vue-hoc";import ConditionalRender from"@baifendian/adherev-ui-conditionalrender";var selectorPrefix="adherev-ui-tablegridlayout",renderHorizontal=function(n,e){var r=e.data,t=r.columnCount,r=r.data,l=e.rowCountRef;var i=[],d=2*t,u=[];(r||[]).forEach(function(e){var r=e.label;"require"in e&&e.require&&(r=createHOC(r,null,{class:function(e){return classNames(selectorPrefix+"-table-row-label","require",e||"")}})),u.push(r),u.push(e.value)});var c=0,m=[];return function e(){for(var r=c,t=[],a=0;c<u.length;){var o=u[c];if(a===d)break;o.data&&o.data.props&&"colSpan"in o.data.props&&"number"==typeof o.data.props.colSpan?a+=o.data.props.colSpan:a+=1,t.push(o),c++}a<d&&Array.from({length:d-a}).fill(0).forEach(function(){t.push(n("td",{class:selectorPrefix+"-table-noborder"}))});var s=n("tr",{class:classNames(selectorPrefix+"-table-row",l.current%2==0?"odd":"even")},[t]);l.current++,m.push(s);s=c-1;i.push({startIndex:r/2,endIndex:(s-1)/2}),c<u.length&&e()}(),{element:m,detail:i}},renderVertical=function(i,e,d){var r=e.columnCount,u=e.data;var c=[],m=r;(u||[]).forEach(function(e){var r=e.label;"require"in e&&e.require&&(e.label=createHOC(r,null,{class:function(e){return classNames(selectorPrefix+"-table-row-label","require",e)}}))});var p=0,f=[];return function e(){for(var r=[],t=[],a=0,o=p;p<(u||[]).length;){var s=(u||[])[p];if(a===m)break;"colSpan"in s.value.props&&"number"==typeof s.value.props.colSpan?a+=s.value.props.colSpan:a+=1,r.push(s.label),t.push(s.value),p++}a<m&&Array.from({length:m-a}).fill(0).forEach(function(){r.push(i("td",{class:selectorPrefix+"-table-noborder"})),t.push(i("td",{class:selectorPrefix+"-table-noborder"}))});var n=i("tr",{class:classNames(selectorPrefix+"-table-row","even")},[r]),l=i("tr",{class:classNames(selectorPrefix+"-table-row","odd")},[t]);f.push(n,l),d.current+=2;l=p-1;c.push({startIndex:o,endIndex:l}),p<(u||[]).length&&e()}(),{element:f,detail:c}},renderGridSearchForm=function(e,r){for(var t=r.data,a=t.className,o=t.style,s=t.width,n=t.colgroup,l=t.defaultLabelWidth,i=void 0===l?120:l,d=r.layout,u=r.density,c=r.parity,t=void 0!==c&&c,l=r.rowCountRef,c=new Map([["default","densitydefault"],["middle","densitymiddle"],["small","densitysmall"]]),m=[],p=0;p<(n||[]).length;p++){var f=(n||[])[p];m.push(e(ConditionalRender,{key:p,attrs:{conditional:"auto"!==f}},[e("col",{attrs:{width:f||i}}),e("col",{slot:"noMatch"})]))}return e("table",{class:classNames(selectorPrefix+"-table",c.get(u||"default"),t?"parity":"",a||""),style:"width:"+s+"px"+(";"+o||"")},[e("colgroup",[m]),e(ConditionalRender,{attrs:{conditional:"horizontal"===d}},[renderHorizontal(e,r).element,e(Fragment,{slot:"noMatch"},[renderVertical(e,r.data,l).element])])])},renderGridSearchFormGroup=function(t,e,r){var a={current:0},o=r||{},s=o.bordered,n=void 0!==s&&s,r=o.innerClassName,s=o.innerStyle,l=__rest(o,["bordered","innerClassName","innerStyle"]);return t("div",{class:classNames(n?selectorPrefix+"-border":null,selectorPrefix+"-inner-wrap",r||""),style:s||""},[(e||[]).map(function(e,r){return t(ConditionalRender,{key:e.name||r,attrs:{conditional:0!==r}},[t("div",[renderGridSearchForm(t,__assign({data:e,rowCountRef:a},l))]),t(Fragment,{slot:"noMatch"},[renderGridSearchForm(t,__assign({data:e,rowCountRef:a},l))])])})])},getRenderDetail=function(o,e,s){var r=s||{},n=(r.bordered,r.innerClassName,r.innerStyle,__rest(r,["bordered","innerClassName","innerStyle"])),l={rowCount:0,layout:s.layout,detail:[]};return e.forEach(function(e){var r={current:0},t=__assign({data:e,rowCountRef:r},n),a=[],a=("horizontal"===s.layout?renderHorizontal(o,t):renderVertical(o,t.data,r)).detail;l.rowCount+=r.current,l.detail.push({name:e.name,rowCount:"horizontal"===s.layout?r.current:r.current/2,detail:a})}),l},Label={name:"adv-tablegridlayout-label",render:function(e){return e("td",{class:classNames(selectorPrefix+"-table-row-label")},[this.$slots.default])}},Value={name:"adv-tablegridlayout-value",render:function(e){return e("td",{class:classNames(selectorPrefix+"-table-row-value")},[this.$slots.default])}},TableGridLayout={name:"adv-tablegridlayout",props:{bordered:{type:Boolean,default:!1},innerClassName:{type:String,default:""},innerStyle:{type:String,default:""},layout:{type:String,default:"horizontal"},density:{type:String,default:"default"},parity:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}}},computed:{otherProps:function(){var e,r={};for(e in this.$props)"data"!==e&&(r[e]=this[e]);return r}},render:function(e){var r=this.data;return e("div",{class:classNames(selectorPrefix)},[renderGridSearchFormGroup(e,r,this.otherProps)])}};export{TableGridLayout,renderGridSearchFormGroup,getRenderDetail,Label,Value};
//# sourceMappingURL=tablegridlayout.js.map
