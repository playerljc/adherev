{"version":3,"file":"intl.js","sources":["intl.js"],"sourcesContent":["\"use strict\";\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.extend = void 0;\r\n// import VueI18n from 'vue-i18n';\r\n// import { I18nOptions, IVueI18n, Locale, Path, TranslateResult } from 'vue-i18n/types';\r\n//\r\n// import Intl from '@baifendian/adhere-util-intl';\r\n//\r\n// import en_US from './locales/en_US';\r\n// import pt_PT from './locales/pt_PT';\r\n// import zh_CN from './locales/zh_CN';\r\n//\r\n// // 组件的国际化文件\r\n// const finallyLocales = {\r\n//   en_US,\r\n//   zh_CN,\r\n//   pt_PT,\r\n// };\r\n//\r\n// const intlMap = {};\r\n//\r\n// const mainLocales = {};\r\n//\r\n// let i18n: IVueI18n | null = null;\r\n//\r\n// interface I18nFactoryFunction {\r\n//   (config: { I18nOptions: I18nOptions; prefix: string }): any;\r\n//   tv: (zh: Path, values?: VueI18n.Values) => VueI18n.TranslateResult | undefined;\r\n//   v: (zh: Path, values?: VueI18n.Values) => VueI18n.TranslateResult | undefined;\r\n//   tcv: (zh: Path, choice?: VueI18n.Choice, values?: VueI18n.Values) => string | undefined;\r\n//   tev: (zh: Path, locale?: VueI18n.Locale) => boolean | undefined;\r\n//   isUse?: () => void;\r\n//   use?: (Vue) => void;\r\n//   install?: (Vue) => void;\r\n//   getLocal?: (prefix: string, data: string[]) => object;\r\n// }\r\n//\r\n// /**\r\n//  * initIntlMap - 初始化以中文为key,intl.get()为值的Map\r\n//  * @param zh_CN\r\n//  */\r\n// function initIntlMap(zh_CN) {\r\n//   const propertys = Object.getOwnPropertyNames(zh_CN);\r\n//\r\n//   propertys.forEach((p) => {\r\n//     // 中文key 国际化值为值\r\n//     intlMap[zh_CN[p]] = p;\r\n//   });\r\n// }\r\n//\r\n// /**\r\n//  * getLocal\r\n//  * @param prefix\r\n//  * @param data\r\n//  * @return object\r\n//  */\r\n// export function getLocal(prefix = 'local', data: Array<string>): object {\r\n//   const result = [...Array.from(new Set(data))];\r\n//\r\n//   const local = {};\r\n//\r\n//   for (let i = 0; i < result.length; i++) {\r\n//     local[`${prefix}${i + 1}`] = result[i];\r\n//   }\r\n//\r\n//   return local;\r\n// }\r\n//\r\n// /**\r\n//  * extend\r\n//  * @param Vue\r\n//  */\r\n// export function extend(Vue: any): void {\r\n//   if (!Vue.prototype.hasOwnProperty('$i18n')) {\r\n//     // $FlowFixMe\r\n//     Object.defineProperty(Vue.prototype, '$i18n', {\r\n//       get() {\r\n//         return this._i18n;\r\n//       },\r\n//     });\r\n//   }\r\n//\r\n//   Vue.prototype.$tv = function (zh: Path, ...values: any): TranslateResult {\r\n//     const i18n = this.$i18n;\r\n//     const key = intlMap[zh];\r\n//     return i18n.t(key, i18n.locale, i18n._getMessages(), this, ...values);\r\n//   };\r\n//\r\n//   Vue.prototype.$tcv = function (zh: Path, choice?: number, ...values: any): TranslateResult {\r\n//     const i18n = this.$i18n;\r\n//     const key = intlMap[zh];\r\n//     return i18n._tc(key, i18n.locale, i18n._getMessages(), this, choice, ...values);\r\n//   };\r\n//\r\n//   Vue.prototype.$tev = function (zh: Path, locale?: Locale): boolean {\r\n//     const i18n = this.$i18n;\r\n//     const key = intlMap[zh];\r\n//     return i18n._te(key, i18n.locale, i18n._getMessages(), locale);\r\n//   };\r\n// }\r\n//\r\n// /**\r\n//  * I18nFactory\r\n//  * @param config\r\n//  * @constructor\r\n//  */\r\n// const I18nFactory: I18nFactoryFunction = function (config) {\r\n//   const { I18nOptions, prefix = 'local' } = config;\r\n//\r\n//   const { messages: locales = {}, locale } = I18nOptions;\r\n//\r\n//   const finallyLocalesKeys = Object.keys(finallyLocales);\r\n//   const localesKeys = Object.keys(locales || {});\r\n//\r\n//   let masterLocales;\r\n//   let slaveLocales;\r\n//\r\n//   if (finallyLocalesKeys.length > localesKeys.length) {\r\n//     masterLocales = finallyLocales;\r\n//     slaveLocales = locales || {};\r\n//   } else if (finallyLocalesKeys.length <= localesKeys.length) {\r\n//     masterLocales = locales || {};\r\n//     slaveLocales = finallyLocales;\r\n//   }\r\n//\r\n//   // 整合用户的locales\r\n//   for (const p in masterLocales) {\r\n//     mainLocales[p] = getLocal(\r\n//       prefix,\r\n//       Array.from(new Set([...masterLocales[p], ...(slaveLocales[p] || [])])),\r\n//     );\r\n//   }\r\n//\r\n//   // 反转资源文件\r\n//   // @ts-ignore\r\n//   initIntlMap(mainLocales.zh_CN);\r\n//\r\n//   // i18n实例\r\n//   i18n = new VueI18n({\r\n//     ...I18nOptions,\r\n//     ...{ messages: mainLocales },\r\n//   });\r\n//\r\n//   // 初始化@baifendian/adhere-util-intl\r\n//   Intl.init({\r\n//     // @ts-ignore\r\n//     currentLocale: locale,\r\n//     locales,\r\n//   });\r\n//\r\n//   return i18n;\r\n// };\r\n//\r\n// /**\r\n//  * tv\r\n//  * @param zh\r\n//  * @param values\r\n//  */\r\n// I18nFactory.tv = I18nFactory.v = function (zh: Path, ...values: []) {\r\n//   const key = intlMap[zh];\r\n//\r\n//   // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n//   // @ts-ignore\r\n//   return i18n?.t.apply(i18n, [key, ...(values || [])]);\r\n// };\r\n//\r\n// /**\r\n//  * tcv\r\n//  * @param zh\r\n//  * @param values\r\n//  */\r\n// I18nFactory.tcv = function (zh: Path, ...values: []) {\r\n//   const key = intlMap[zh];\r\n//\r\n//   // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n//   // @ts-ignore\r\n//   return i18n?.tc.apply(i18n, [key, ...(values || [])]);\r\n// };\r\n//\r\n// /**\r\n//  * tev\r\n//  * @param zh\r\n//  * @param values\r\n//  */\r\n// I18nFactory.tev = function (zh: Path, ...values: []) {\r\n//   const key = intlMap[zh];\r\n//\r\n//   return i18n?.te.apply(i18n, [key, ...values]);\r\n// };\r\n//\r\n// /**\r\n//  * vue-i18n Factory\r\n//  * @param config\r\n//  */\r\n// export default I18nFactory;\r\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\r\nvar en_US_1 = __importDefault(require(\"./locales/en_US\"));\r\nvar pt_PT_1 = __importDefault(require(\"./locales/pt_PT\"));\r\nvar zh_CN_1 = __importDefault(require(\"./locales/zh_CN\"));\r\n/**\r\n * extend\r\n * @param Vue\r\n */\r\nfunction extend(Vue) {\r\n    if (!Vue.prototype.hasOwnProperty('$i18n')) {\r\n        // $FlowFixMe\r\n        Object.defineProperty(Vue.prototype, '$i18n', {\r\n            get: function () {\r\n                return this._i18n;\r\n            },\r\n        });\r\n    }\r\n    Vue.prototype.$tv = function (key, variables) {\r\n        return IntlV.v(key, variables);\r\n    };\r\n    Vue.prototype.$tvHtml = function (key, options) {\r\n        return IntlV.vHtml(key, options);\r\n    };\r\n}\r\nexports.extend = extend;\r\nvar IntlV = adhere_util_intl_1.default;\r\nvar init = IntlV.init;\r\nIntlV.init = function () {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    var _params = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        _params[_i] = arguments[_i];\r\n    }\r\n    var params = _params;\r\n    if (!!params.length) {\r\n        if ('locales' in params[0] && typeof params[0] === 'object') {\r\n            params[0].locales = {\r\n                en_US: __spreadArray([], Array.from(new Set(__spreadArray(__spreadArray([], (en_US_1.default || []), true), (((_b = (_a = params[0]) === null || _a === void 0 ? void 0 : _a.locales) === null || _b === void 0 ? void 0 : _b.en_US) || []), true))), true),\r\n                zh_CN: __spreadArray([], Array.from(new Set(__spreadArray(__spreadArray([], (zh_CN_1.default || []), true), (((_d = (_c = params[0]) === null || _c === void 0 ? void 0 : _c.locales) === null || _d === void 0 ? void 0 : _d.zh_CN) || []), true))), true),\r\n                pt_PT: __spreadArray([], Array.from(new Set(__spreadArray(__spreadArray([], (pt_PT_1.default || []), true), (((_f = (_e = params[0]) === null || _e === void 0 ? void 0 : _e.locales) === null || _f === void 0 ? void 0 : _f.pt_PT) || []), true))), true),\r\n            };\r\n        }\r\n        else {\r\n            params[0].locales = {\r\n                en_US: en_US_1.default,\r\n                zh_CN: zh_CN_1.default,\r\n                pt_PT: pt_PT_1.default,\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        params = [\r\n            {\r\n                prefix: 'local',\r\n                currentLocale: 'zh_CN',\r\n                locales: {\r\n                    en_US: en_US_1.default,\r\n                    zh_CN: zh_CN_1.default,\r\n                    pt_PT: pt_PT_1.default,\r\n                },\r\n            },\r\n            false,\r\n        ];\r\n    }\r\n    return init.apply(this, params);\r\n};\r\nIntlV.tv = function () {\r\n    var _params = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        _params[_i] = arguments[_i];\r\n    }\r\n    return IntlV.v.apply(this, _params);\r\n};\r\nIntlV.tvHtml = function () {\r\n    var _params = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        _params[_i] = arguments[_i];\r\n    }\r\n    return IntlV.vHtml.apply(this, _params);\r\n};\r\nexports.default = IntlV;\r\n"],"names":["__spreadArray","this","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__importDefault","mod","__esModule","default","Object","defineProperty","exports","value","extend","adhere_util_intl_1","require","en_US_1","pt_PT_1","zh_CN_1","Vue","hasOwnProperty","get","_i18n","$tv","key","variables","IntlV","v","$tvHtml","options","vHtml","init","_f","_params","_i","params","locales","en_US","Set","_b","_a","zh_CN","_d","_c","pt_PT","_e","prefix","currentLocale","apply","tv","tvHtml"],"mappings":"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"}