{"version":3,"file":"intl.js","sources":["intl.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.extend = exports.getLocal = void 0;\r\nvar vue_i18n_1 = __importDefault(require(\"vue-i18n\"));\r\nvar en_US_1 = __importDefault(require(\"./locales/en_US\"));\r\nvar zh_CN_1 = __importDefault(require(\"./locales/zh_CN\"));\r\nvar pt_PT_1 = __importDefault(require(\"./locales/pt_PT\"));\r\n// 组件的国际化文件\r\nvar finallyLocales = {\r\n    en_US: en_US_1.default,\r\n    zh_CN: zh_CN_1.default,\r\n    pt_PT: pt_PT_1.default,\r\n};\r\nvar intlMap = {};\r\nvar mainLocales = {};\r\nvar i18n = null;\r\n/**\r\n * initIntlMap - 初始化以中文为key,intl.get()为值的Map\r\n * @param zh_CN\r\n */\r\nfunction initIntlMap(zh_CN) {\r\n    var propertys = Object.getOwnPropertyNames(zh_CN);\r\n    propertys.forEach(function (p) {\r\n        // 中文key 国际化值为值\r\n        intlMap[zh_CN[p]] = p;\r\n    });\r\n}\r\n/**\r\n * getLocal\r\n * @param prefix\r\n * @param data\r\n * @return object\r\n */\r\nfunction getLocal(prefix, data) {\r\n    if (prefix === void 0) { prefix = 'local'; }\r\n    var result = __spreadArrays(Array.from(new Set(data)));\r\n    var local = {};\r\n    for (var i = 0; i < result.length; i++) {\r\n        local[\"\" + prefix + (i + 1)] = result[i];\r\n    }\r\n    return local;\r\n}\r\nexports.getLocal = getLocal;\r\n/**\r\n * extend\r\n * @param Vue\r\n */\r\nfunction extend(Vue) {\r\n    if (!Vue.prototype.hasOwnProperty('$i18n')) {\r\n        // $FlowFixMe\r\n        Object.defineProperty(Vue.prototype, '$i18n', {\r\n            get: function () {\r\n                return this._i18n;\r\n            },\r\n        });\r\n    }\r\n    Vue.prototype.$tv = function (zh) {\r\n        var values = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            values[_i - 1] = arguments[_i];\r\n        }\r\n        var i18n = this.$i18n;\r\n        var key = intlMap[zh];\r\n        return i18n.t.apply(i18n, __spreadArrays([key, i18n.locale, i18n._getMessages(), this], values));\r\n    };\r\n    Vue.prototype.$tcv = function (zh, choice) {\r\n        var values = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            values[_i - 2] = arguments[_i];\r\n        }\r\n        var i18n = this.$i18n;\r\n        var key = intlMap[zh];\r\n        return i18n._tc.apply(i18n, __spreadArrays([key, i18n.locale, i18n._getMessages(), this, choice], values));\r\n    };\r\n    Vue.prototype.$tev = function (zh, locale) {\r\n        var i18n = this.$i18n;\r\n        var key = intlMap[zh];\r\n        return i18n._te(key, i18n.locale, i18n._getMessages(), locale);\r\n    };\r\n}\r\nexports.extend = extend;\r\n/**\r\n * I18nFactory\r\n * @param config\r\n * @constructor\r\n */\r\nvar I18nFactory = function (config) {\r\n    var I18nOptions = config.I18nOptions, _a = config.prefix, prefix = _a === void 0 ? 'local' : _a;\r\n    var _b = I18nOptions.messages, locales = _b === void 0 ? {} : _b;\r\n    var finallyLocalesKeys = Object.keys(finallyLocales);\r\n    var localesKeys = Object.keys(locales || {});\r\n    var masterLocales;\r\n    var slaveLocales;\r\n    if (finallyLocalesKeys.length > localesKeys.length) {\r\n        masterLocales = finallyLocales;\r\n        slaveLocales = locales || {};\r\n    }\r\n    else if (finallyLocalesKeys.length <= localesKeys.length) {\r\n        masterLocales = locales || {};\r\n        slaveLocales = finallyLocales;\r\n    }\r\n    // 整合用户的locales\r\n    for (var p in masterLocales) {\r\n        mainLocales[p] = getLocal(prefix, \r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        Array.from(new Set(__spreadArrays(masterLocales[p], (slaveLocales[p] || [])))));\r\n    }\r\n    // 反转资源文件\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    initIntlMap(mainLocales.zh_CN);\r\n    // i18n实例\r\n    i18n = new vue_i18n_1.default(__assign(__assign({}, I18nOptions), { messages: mainLocales }));\r\n    return i18n;\r\n};\r\n/**\r\n * tv\r\n * @param zh\r\n * @param values\r\n */\r\nI18nFactory.tv = I18nFactory.v = function (zh) {\r\n    var values = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        values[_i - 1] = arguments[_i];\r\n    }\r\n    var key = intlMap[zh];\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    return i18n === null || i18n === void 0 ? void 0 : i18n.t.apply(i18n, __spreadArrays([key], (values || [])));\r\n};\r\n/**\r\n * tcv\r\n * @param zh\r\n * @param values\r\n */\r\nI18nFactory.tcv = function (zh) {\r\n    var values = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        values[_i - 1] = arguments[_i];\r\n    }\r\n    var key = intlMap[zh];\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    return i18n === null || i18n === void 0 ? void 0 : i18n.tc.apply(i18n, __spreadArrays([key], (values || [])));\r\n};\r\n/**\r\n * tev\r\n * @param zh\r\n * @param values\r\n */\r\nI18nFactory.tev = function (zh) {\r\n    var values = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        values[_i - 1] = arguments[_i];\r\n    }\r\n    var key = intlMap[zh];\r\n    return i18n === null || i18n === void 0 ? void 0 : i18n.te.apply(i18n, __spreadArrays([key], values));\r\n};\r\n/**\r\n * vue-i18n Factory\r\n * @param config\r\n */\r\nexports.default = I18nFactory;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArrays","il","r","Array","k","a","j","jl","__importDefault","mod","__esModule","default","defineProperty","exports","value","extend","getLocal","vue_i18n_1","require","en_US_1","zh_CN_1","pt_PT_1","finallyLocales","en_US","zh_CN","pt_PT","intlMap","mainLocales","i18n","initIntlMap","getOwnPropertyNames","forEach","prefix","data","result","from","Set","local","Vue","get","_i18n","$tv","zh","values","_i","$i18n","key","locale","_getMessages","$tcv","choice","_tc","$tev","_te","I18nFactory","config","masterLocales","slaveLocales","I18nOptions","_a","_b","messages","locales","finallyLocalesKeys","keys","localesKeys","tv","v","tcv","tc","tev","te"],"mappings":"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"}