var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(n){for(var r,t=1,a=arguments.length;t<a;t++)for(var l in r=arguments[t])Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l]);return n}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(n,r,t){if(t||2===arguments.length)for(var a,l=0,o=r.length;l<o;l++)!a&&l in r||((a=a||Array.prototype.slice.call(r,0,l))[l]=r[l]);return n.concat(a||Array.prototype.slice.call(r))};import Intl from"@baifendian/adhere-util-intl";import{createI18n}from"vue-i18n";import en_US from"./locales/en_US";import pt_PT from"./locales/pt_PT";import zh_CN from"./locales/zh_CN";var finallyLocales={en_US:en_US,zh_CN:zh_CN,pt_PT:pt_PT},intlMap={},mainLocales={},i18n=null;function initIntlMap(r){Object.getOwnPropertyNames(r).forEach(function(n){intlMap[r[n]]=n})}function getLocal(n,r){void 0===n&&(n="local");for(var t=__spreadArray([],Array.from(new Set(r)),!0),a={},l=0;l<t.length;l++)a["".concat(n).concat(l+1)]=t[l];return a}function extend(n){n.config.globalProperties.$tv=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return I18nFactory.tv.apply(this,__spreadArray([n],r,!0))},n.config.globalProperties.$tcv=function(n,r){for(var t=[],a=2;a<arguments.length;a++)t[a-2]=arguments[a];return I18nFactory.tcv.apply(this,__spreadArray([n],t,!0))},n.config.globalProperties.$tev=function(n,r){return I18nFactory.tv.apply(this,[n,r])}}var I18nFactory=function(n){var r,t,a,l=n.I18nOptions,n=n.prefix,o=void 0===n?"local":n,n=l.messages,n=void 0===n?{}:n,i=l.locale,e=Object.keys(finallyLocales),c=Object.keys(n||{});for(a in e.length>c.length?(r=finallyLocales,t=n||{}):e.length<=c.length&&(r=n||{},t=finallyLocales),r)mainLocales[a]=getLocal(o,Array.from(new Set(__spreadArray(__spreadArray([],r[a],!0),t[a]||[],!0))));return initIntlMap(mainLocales.zh_CN),i18n=createI18n(__assign(__assign({},l),{messages:mainLocales})),Intl.init({currentLocale:i,locales:n}),i18n};I18nFactory.tv=I18nFactory.v=function(n){for(var r,t,a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];var o=intlMap[n];return null===(t=null===(r=null===(r=null==i18n?void 0:i18n.global)||void 0===r?void 0:r.t)||void 0===r?void 0:r.apply)||void 0===t?void 0:t.call(r,i18n,__spreadArray([o],a||[],!0))},I18nFactory.tcv=function(n){for(var r,t,a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];var o=intlMap[n];return null===(t=null===(r=null===(r=null==i18n?void 0:i18n.global)||void 0===r?void 0:r.tc)||void 0===r?void 0:r.apply)||void 0===t?void 0:t.call(r,i18n,__spreadArray([o],a||[],!0))},I18nFactory.tev=function(n){for(var r,t,a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];var o=intlMap[n];return null===(t=null===(r=null===(r=null==i18n?void 0:i18n.global)||void 0===r?void 0:r.te)||void 0===r?void 0:r.apply)||void 0===t?void 0:t.call(r,i18n,__spreadArray([o],a,!0))};export default I18nFactory;export{getLocal,extend};
//# sourceMappingURL=intl.js.map
