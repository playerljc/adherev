var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var e,a=0,o=n.length;a<o;a++)!e&&a in n||((e=e||Array.prototype.slice.call(n,0,a))[a]=n[a]);return t.concat(e||Array.prototype.slice.call(n))};import VueI18n from"vue-i18n";import Intl from"@baifendian/adhere-util-intl";import en_US from"./locales/en_US";import pt_PT from"./locales/pt_PT";import zh_CN from"./locales/zh_CN";var finallyLocales={en_US:en_US,zh_CN:zh_CN,pt_PT:pt_PT},intlMap={},mainLocales={},i18n=null;function initIntlMap(n){Object.getOwnPropertyNames(n).forEach(function(t){intlMap[n[t]]=t})}function getLocal(t,n){void 0===t&&(t="local");for(var r=__spreadArray([],Array.from(new Set(n)),!0),e={},a=0;a<r.length;a++)e["".concat(t).concat(a+1)]=r[a];return e}function extend(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$tv=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var e=this.$i18n,a=intlMap[t];return e.t.apply(e,__spreadArray([a,e.locale,e._getMessages(),this],n,!1))},t.prototype.$tcv=function(t,n){for(var r=[],e=2;e<arguments.length;e++)r[e-2]=arguments[e];var a=this.$i18n,o=intlMap[t];return a._tc.apply(a,__spreadArray([o,a.locale,a._getMessages(),this,n],r,!1))},t.prototype.$tev=function(t,n){var r=this.$i18n,t=intlMap[t];return r._te(t,r.locale,r._getMessages(),n)}}var I18nFactory=function(t){var n,r,e,a=t.I18nOptions,o=t.prefix,i=void 0===o?"local":o,l=a.messages,s=void 0===l?{}:l,t=a.locale,o=Object.keys(finallyLocales),l=Object.keys(s||{});for(e in o.length>l.length?(n=finallyLocales,r=s||{}):o.length<=l.length&&(n=s||{},r=finallyLocales),n)mainLocales[e]=getLocal(i,Array.from(new Set(__spreadArray(__spreadArray([],n[e],!0),r[e]||[],!0))));return initIntlMap(mainLocales.zh_CN),i18n=new VueI18n(__assign(__assign({},a),{messages:mainLocales})),Intl.init({currentLocale:t,locales:s}),i18n};I18nFactory.tv=I18nFactory.v=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var e=intlMap[t];return null==i18n?void 0:i18n.t.apply(i18n,__spreadArray([e],n||[],!0))},I18nFactory.tcv=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var e=intlMap[t];return null==i18n?void 0:i18n.tc.apply(i18n,__spreadArray([e],n||[],!0))},I18nFactory.tev=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var e=intlMap[t];return null==i18n?void 0:i18n.te.apply(i18n,__spreadArray([e],n,!0))};export default I18nFactory;export{getLocal,extend};
//# sourceMappingURL=intl.js.map
