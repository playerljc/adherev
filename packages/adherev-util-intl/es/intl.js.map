{"version":3,"file":"intl.js","sources":["intl.js"],"sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\n// import { I18nOptions, Locale, Path, TranslateResult, createI18n } from 'vue-i18n';\r\n//\r\n// import Intl from '@baifendian/adhere-util-intl';\r\n//\r\n// import en_US from './locales/en_US';\r\n// import pt_PT from './locales/pt_PT';\r\n// import zh_CN from './locales/zh_CN';\r\n//\r\n// // 组件的国际化文件\r\n// const finallyLocales = {\r\n//   en_US,\r\n//   zh_CN,\r\n//   pt_PT,\r\n// };\r\n//\r\n// const intlMap = {};\r\n//\r\n// const mainLocales = {};\r\n//\r\n// let i18n: any = null;\r\n//\r\n// /**\r\n//  * initIntlMap - 初始化以中文为key,intl.get()为值的Map\r\n//  * @param zh_CN\r\n//  */\r\n// function initIntlMap(zh_CN) {\r\n//   const propertys = Object.getOwnPropertyNames(zh_CN);\r\n//\r\n//   propertys.forEach((p) => {\r\n//     // 中文key 国际化值为值\r\n//     intlMap[zh_CN[p]] = p;\r\n//   });\r\n// }\r\n//\r\n// /**\r\n//  * getLocal\r\n//  * @param prefix\r\n//  * @param data\r\n//  * @return object\r\n//  */\r\n// export function getLocal(prefix = 'local', data: Array<string>): object {\r\n//   const result = [...Array.from(new Set(data))];\r\n//\r\n//   const local = {};\r\n//\r\n//   for (let i = 0; i < result.length; i++) {\r\n//     local[`${prefix}${i + 1}`] = result[i];\r\n//   }\r\n//\r\n//   return local;\r\n// }\r\n//\r\n// /**\r\n//  * extend\r\n//  * @param app\r\n//  */\r\n// export function extend(app: any): void {\r\n//   // if (!app.config.globalProperties.hasOwnProperty('$i18n')) {\r\n//   //   // $FlowFixMe\r\n//   //   Object.defineProperty(app.config.globalProperties, '$i18n', {\r\n//   //     get() {\r\n//   //       return i18n /*this._i18n*/;\r\n//   //     },\r\n//   //   });\r\n//   // }\r\n//\r\n//   app.config.globalProperties.$tv = function (zh: Path, ...values: []): TranslateResult {\r\n//     // const i18n = this.$i18n;\r\n//     // const key = intlMap[zh];\r\n//     return I18nFactory.tv.apply(this, [zh, ...values]); // i18n.t(key, i18n.locale, i18n._getMessages(), this, ...values);\r\n//   };\r\n//\r\n//   app.config.globalProperties.$tcv = function (\r\n//     zh: Path,\r\n//     choice?: number,\r\n//     ...values: any\r\n//   ): TranslateResult {\r\n//     // const i18n = this.$i18n;\r\n//     // const key = intlMap[zh];\r\n//     // @ts-ignore\r\n//     return I18nFactory.tcv.apply(this, [zh, ...values]); // i18n._tc(key, i18n.locale, i18n._getMessages(), this, choice, ...values);\r\n//   };\r\n//\r\n//   app.config.globalProperties.$tev = function (zh: Path, locale?: Locale): boolean {\r\n//     // const i18n = this.$i18n;\r\n//     // const key = intlMap[zh];\r\n//     // @ts-ignore\r\n//     return I18nFactory.tv.apply(this, [zh, locale]); //i18n._te(key, i18n.locale, i18n._getMessages(), locale);\r\n//   };\r\n// }\r\n//\r\n// /**\r\n//  * I18nFactory\r\n//  * @param config\r\n//  * @constructor\r\n//  */\r\n// const I18nFactory = function (config: { I18nOptions: I18nOptions; prefix }) {\r\n//   const { I18nOptions, prefix = 'local' } = config;\r\n//\r\n//   const { messages: locales = {}, locale } = I18nOptions;\r\n//\r\n//   const finallyLocalesKeys = Object.keys(finallyLocales);\r\n//   const localesKeys = Object.keys(locales || {});\r\n//\r\n//   let masterLocales;\r\n//   let slaveLocales;\r\n//\r\n//   if (finallyLocalesKeys.length > localesKeys.length) {\r\n//     masterLocales = finallyLocales;\r\n//     slaveLocales = locales || {};\r\n//   } else if (finallyLocalesKeys.length <= localesKeys.length) {\r\n//     masterLocales = locales || {};\r\n//     slaveLocales = finallyLocales;\r\n//   }\r\n//\r\n//   // 整合用户的locales\r\n//   for (const p in masterLocales) {\r\n//     mainLocales[p] = getLocal(\r\n//       prefix,\r\n//       // @ts-ignore\r\n//       Array.from(new Set([...masterLocales[p], ...(slaveLocales[p] || [])])),\r\n//     );\r\n//   }\r\n//\r\n//   // 反转资源文件\r\n//   // @ts-ignore\r\n//   initIntlMap(mainLocales.zh_CN);\r\n//\r\n//   // i18n实例\r\n//   i18n = createI18n({\r\n//     ...I18nOptions,\r\n//     ...{ messages: mainLocales },\r\n//   });\r\n//\r\n//   // 初始化@baifendian/adhere-util-intl\r\n//   Intl.init({\r\n//     // @ts-ignore\r\n//     currentLocale: locale,\r\n//     locales,\r\n//   });\r\n//\r\n//   return i18n;\r\n// };\r\n//\r\n// /**\r\n//  * tv\r\n//  * @param zh\r\n//  * @param values\r\n//  */\r\n// I18nFactory.tv = I18nFactory.v = function (zh: Path, ...values: []) {\r\n//   const key = intlMap[zh];\r\n//\r\n//   return i18n?.global?.t?.apply?.(i18n, [key, ...(values || [])]);\r\n// };\r\n//\r\n// /**\r\n//  * tcv\r\n//  * @param zh\r\n//  * @param values\r\n//  */\r\n// I18nFactory.tcv = function (zh: Path, ...values: []) {\r\n//   const key = intlMap[zh];\r\n//\r\n//   return i18n?.global?.tc?.apply?.(i18n, [key, ...(values || [])]);\r\n// };\r\n//\r\n// /**\r\n//  * tev\r\n//  * @param zh\r\n//  * @param values\r\n//  */\r\n// I18nFactory.tev = function (zh: Path, ...values: []) {\r\n//   const key = intlMap[zh];\r\n//\r\n//   return i18n?.global?.te?.apply?.(i18n, [key, ...values]);\r\n// };\r\n//\r\n// /**\r\n//  * vue-i18n Factory\r\n//  * @param config\r\n//  */\r\n// export default I18nFactory;\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport en_US from './locales/en_US';\r\nimport pt_PT from './locales/pt_PT';\r\nimport zh_CN from './locales/zh_CN';\r\n/**\r\n * extend\r\n * @param Vue\r\n */\r\nexport function extend(Vue) {\r\n    // if (!Vue.prototype.hasOwnProperty('$i18n')) {\r\n    //   // $FlowFixMe\r\n    //   Object.defineProperty(Vue.prototype, '$i18n', {\r\n    //     get() {\r\n    //       return this._i18n;\r\n    //     },\r\n    //   });\r\n    // }\r\n    Vue.config.globalProperties.$tv = function (key, variables) {\r\n        return IntlV.v(key, variables);\r\n    };\r\n    Vue.config.globalProperties.$tvHtml = function (key, options) {\r\n        return IntlV.vHtml(key, options);\r\n    };\r\n}\r\nvar IntlV = Intl;\r\nvar init = IntlV.init;\r\nIntlV.init = function () {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    var _params = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        _params[_i] = arguments[_i];\r\n    }\r\n    var params = _params;\r\n    if (!!params.length) {\r\n        if ('locales' in params[0] && typeof params[0] === 'object') {\r\n            params[0].locales = {\r\n                en_US: __spreadArray([], Array.from(new Set(__spreadArray(__spreadArray([], (en_US || []), true), (((_b = (_a = params[0]) === null || _a === void 0 ? void 0 : _a.locales) === null || _b === void 0 ? void 0 : _b.en_US) || []), true))), true),\r\n                zh_CN: __spreadArray([], Array.from(new Set(__spreadArray(__spreadArray([], (zh_CN || []), true), (((_d = (_c = params[0]) === null || _c === void 0 ? void 0 : _c.locales) === null || _d === void 0 ? void 0 : _d.zh_CN) || []), true))), true),\r\n                pt_PT: __spreadArray([], Array.from(new Set(__spreadArray(__spreadArray([], (pt_PT || []), true), (((_f = (_e = params[0]) === null || _e === void 0 ? void 0 : _e.locales) === null || _f === void 0 ? void 0 : _f.pt_PT) || []), true))), true),\r\n            };\r\n        }\r\n        else {\r\n            params[0].locales = {\r\n                en_US: en_US,\r\n                zh_CN: zh_CN,\r\n                pt_PT: pt_PT,\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        params = [\r\n            {\r\n                prefix: 'local',\r\n                currentLocale: 'zh_CN',\r\n                locales: {\r\n                    en_US: en_US,\r\n                    zh_CN: zh_CN,\r\n                    pt_PT: pt_PT,\r\n                },\r\n            },\r\n            false,\r\n        ];\r\n    }\r\n    return init.apply(this, params);\r\n};\r\nIntlV.tv = function () {\r\n    var _params = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        _params[_i] = arguments[_i];\r\n    }\r\n    return IntlV.v.apply(this, _params);\r\n};\r\nIntlV.tvHtml = function () {\r\n    var _params = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        _params[_i] = arguments[_i];\r\n    }\r\n    return IntlV.vHtml.apply(this, _params);\r\n};\r\nexport default IntlV;\r\n"],"names":["__spreadArray","this","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","Intl","en_US","pt_PT","zh_CN","extend","Vue","config","globalProperties","$tv","key","variables","IntlV","v","$tvHtml","options","vHtml","init","_f","_params","_i","params","locales","Set","_b","_a","_d","_c","_e","prefix","currentLocale","apply","tv","tvHtml"],"mappings":"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"}