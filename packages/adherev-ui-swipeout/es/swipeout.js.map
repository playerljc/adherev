{"version":3,"file":"swipeout.js","sources":["swipeout.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport classNames from 'classnames'; // @ts-ignore\n\nimport Swiper from 'swiper';\nimport { computed, defineComponent, onMounted, ref, watch } from 'vue';\nimport { bool, number, object, string } from 'vue-types';\nvar selectorPrefix = 'adherev-ui-swipeout';\nvar swiperOutProps = {\n  beforeClassName: string().def(''),\n  beforeStyle: object().def({}),\n  afterClassName: string().def(''),\n  afterStyle: object().def({}),\n  contentClassName: string().def(''),\n  contentStyle: object().def({}),\n  beforeShow: bool().def(false),\n  afterShow: bool().def(false),\n  direction: string().def('horizontal'),\n  duration: number().def(0)\n};\nexport default defineComponent({\n  name: 'adv-swipeout',\n  props: swiperOutProps,\n  slots: ['before', 'after'],\n  emits: ['init', 'slide-change-transition-start', 'slide-change-transition-end'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots,\n        emit = _a.emit;\n    var root = ref();\n    var swiper = null;\n    var map = new Map([[[true, true].toString(), 1], [[false, false].toString(), 1], [[true, false].toString(), 0], [[false, true].toString(), 2]]);\n    var getContainerClassName = computed(function () {\n      return classNames(selectorPrefix, 'swiper-container');\n    });\n    var getBeforeClassName = computed(function () {\n      return classNames('swiper-slide', \"\".concat(selectorPrefix, \"-before\"), props.beforeClassName.split(/\\s+/));\n    });\n    var getContentClassName = computed(function () {\n      return classNames('swiper-slide', \"\".concat(selectorPrefix, \"-content\"), props.contentClassName.split(/\\s+/));\n    });\n    var getAfterClassName = computed(function () {\n      return classNames('swiper-slide', \"\".concat(selectorPrefix, \"-after\"), props.afterClassName.split(/\\s+/));\n    });\n\n    var createSwiper = function createSwiper() {\n      if (swiper) {\n        swiper.destroy();\n      }\n\n      swiper = new Swiper(root.value, {\n        init: false,\n        // 初始化在第一个选项卡上\n        initialSlide: map.get([props.beforeShow, props.afterShow].toString()),\n        direction: props.direction,\n        slidesPerView: 'auto',\n        centeredSlides: false,\n        spaceBetween: 0\n      });\n      swiper.on('init', function () {\n        emit('init');\n      });\n      swiper.on('slideChangeTransitionStart', function () {\n        emit('slide-change-transition-start', swiper.activeIndex);\n      });\n      swiper.on('slideChangeTransitionEnd', function () {\n        emit('slide-change-transition-end', swiper.activeIndex);\n      });\n      swiper.init();\n    };\n\n    var slide = function slide(params) {\n      return swiper.slideTo(map.get([params.beforeShow, params.afterShow].toString()), params.duration);\n    };\n\n    watch(function () {\n      return props.direction;\n    }, function (direction, oldDirection) {\n      if (direction !== oldDirection) {\n        swiper.changeDirection(direction);\n      }\n    });\n    watch(function () {\n      return props.beforeShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: val,\n          afterShow: props.afterShow,\n          duration: props.duration\n        });\n      }\n    });\n    watch(function () {\n      return props.afterShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: props.beforeShow,\n          afterShow: val,\n          duration: props.duration\n        });\n      }\n    });\n    onMounted(function () {\n      createSwiper();\n    });\n    return function () {\n      var _a, _b, _c;\n\n      return _createVNode(\"div\", {\n        \"class\": getContainerClassName.value,\n        \"ref\": root\n      }, [_createVNode(\"div\", {\n        \"class\": \"swiper-wrapper\"\n      }, [_createVNode(\"div\", {\n        \"class\": getBeforeClassName.value,\n        \"style\": props.beforeStyle\n      }, [(_a = slots === null || slots === void 0 ? void 0 : slots.before) === null || _a === void 0 ? void 0 : _a.call(slots)]), _createVNode(\"div\", {\n        \"class\": getContentClassName.value,\n        \"style\": props.contentStyle\n      }, [(_b = slots === null || slots === void 0 ? void 0 : slots.default) === null || _b === void 0 ? void 0 : _b.call(slots)]), _createVNode(\"div\", {\n        \"class\": getAfterClassName.value,\n        \"style\": props.afterStyle\n      }, [(_c = slots === null || slots === void 0 ? void 0 : slots.after) === null || _c === void 0 ? void 0 : _c.call(slots)])])]);\n    };\n  }\n});"],"names":["_createVNode","classNames","Swiper","computed","defineComponent","onMounted","ref","watch","bool","number","object","string","selectorPrefix","swiperOutProps","beforeClassName","def","beforeStyle","afterClassName","afterStyle","contentClassName","contentStyle","beforeShow","afterShow","direction","duration","name","props","slots","emits","setup","_a","slide","params","swiper","slideTo","map","get","toString","emit","root","Map","getContainerClassName","getBeforeClassName","concat","split","getContentClassName","getAfterClassName","oldDirection","changeDirection","val","oldVal","destroy","value","init","initialSlide","slidesPerView","centeredSlides","spaceBetween","on","activeIndex","_c","class","style","before","call","_b","default","after"],"mappings":"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"}