{"version":3,"file":"swipeout.js","sources":["swipeout.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport classNames from 'classnames';\nimport Swiper from 'swiper';\nimport { computed, defineComponent, onMounted, ref, watch } from 'vue';\nimport { bool, number, object, string } from 'vue-types';\nvar selectorPrefix = 'adherev-ui-swipeout';\nexport var swiperOutProps = {\n  beforeClassName: string().def(''),\n  beforeStyle: object().def({}),\n  afterClassName: string().def(''),\n  afterStyle: object().def({}),\n  contentClassName: string().def(''),\n  contentStyle: object().def({}),\n  beforeShow: bool().def(false),\n  afterShow: bool().def(false),\n  direction: string().def('horizontal'),\n  duration: number().def(0),\n  renderBefore: object(),\n  renderAfter: object()\n};\nexport default defineComponent({\n  name: 'adv-swipeout',\n  props: swiperOutProps,\n  emits: ['init', 'slide-change-transition-start', 'slide-change-transition-end'],\n  slots: ['before', 'after'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots,\n      emit = _a.emit;\n    var root = ref();\n    var swiper = null;\n    var map = new Map([[[true, true].toString(), 1], [[false, false].toString(), 1], [[true, false].toString(), 0], [[false, true].toString(), 2]]);\n    var getContainerClassName = computed(function () {\n      return classNames(selectorPrefix, 'swiper-container');\n    });\n    var getBeforeClassName = computed(function () {\n      return classNames('swiper-slide', \"\".concat(selectorPrefix, \"-before\"), props.beforeClassName.split(/\\s+/));\n    });\n    var getContentClassName = computed(function () {\n      return classNames('swiper-slide', \"\".concat(selectorPrefix, \"-content\"), props.contentClassName.split(/\\s+/));\n    });\n    var getAfterClassName = computed(function () {\n      return classNames('swiper-slide', \"\".concat(selectorPrefix, \"-after\"), props.afterClassName.split(/\\s+/));\n    });\n    var createSwiper = function createSwiper() {\n      if (swiper) {\n        swiper.destroy();\n      }\n      swiper = new Swiper(root.value, {\n        init: false,\n        // 初始化在第一个选项卡上\n        initialSlide: map.get([props.beforeShow, props.afterShow].toString()),\n        direction: props.direction,\n        slidesPerView: 'auto',\n        centeredSlides: false,\n        spaceBetween: 0\n      });\n      swiper.on('init', function () {\n        emit('init');\n      });\n      swiper.on('slideChangeTransitionStart', function () {\n        emit('slide-change-transition-start', swiper.activeIndex);\n      });\n      swiper.on('slideChangeTransitionEnd', function () {\n        emit('slide-change-transition-end', swiper.activeIndex);\n      });\n      swiper.init();\n    };\n    var slide = function slide(params) {\n      return swiper.slideTo(map.get([params.beforeShow, params.afterShow].toString()), params.duration);\n    };\n    watch(function () {\n      return props.direction;\n    }, function (direction, oldDirection) {\n      if (direction !== oldDirection) {\n        swiper.changeDirection(direction);\n      }\n    });\n    watch(function () {\n      return props.beforeShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: val,\n          afterShow: props.afterShow,\n          duration: props.duration\n        });\n      }\n    });\n    watch(function () {\n      return props.afterShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: props.beforeShow,\n          afterShow: val,\n          duration: props.duration\n        });\n      }\n    });\n    onMounted(function () {\n      createSwiper();\n    });\n    return function () {\n      var _a, _b, _c;\n      return _createVNode(\"div\", {\n        \"class\": getContainerClassName.value,\n        \"ref\": root\n      }, [_createVNode(\"div\", {\n        \"class\": \"swiper-wrapper\"\n      }, [_createVNode(\"div\", {\n        \"class\": getBeforeClassName.value,\n        \"style\": props.beforeStyle\n      }, [((_a = slots === null || slots === void 0 ? void 0 : slots.before) === null || _a === void 0 ? void 0 : _a.call(slots)) || props.renderBefore]), _createVNode(\"div\", {\n        \"class\": getContentClassName.value,\n        \"style\": props.contentStyle\n      }, [(_b = slots === null || slots === void 0 ? void 0 : slots.default) === null || _b === void 0 ? void 0 : _b.call(slots)]), _createVNode(\"div\", {\n        \"class\": getAfterClassName.value,\n        \"style\": props.afterStyle\n      }, [((_c = slots === null || slots === void 0 ? void 0 : slots.after) === null || _c === void 0 ? void 0 : _c.call(slots)) || props.renderAfter])])]);\n    };\n  }\n});"],"names":["_createVNode","classNames","Swiper","computed","defineComponent","onMounted","ref","watch","bool","number","object","string","selectorPrefix","swiperOutProps","beforeClassName","def","beforeStyle","afterClassName","afterStyle","contentClassName","contentStyle","beforeShow","afterShow","direction","duration","renderBefore","renderAfter","name","props","emits","slots","setup","_a","slide","params","swiper","slideTo","map","get","toString","emit","root","Map","getContainerClassName","getBeforeClassName","concat","split","getContentClassName","getAfterClassName","oldDirection","changeDirection","val","oldVal","destroy","value","init","initialSlide","slidesPerView","centeredSlides","spaceBetween","on","activeIndex","_c","class","style","before","call","_b","default","after"],"mappings":"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"}