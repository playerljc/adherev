{"version":3,"file":"swipeout.js","sources":["swipeout.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.map.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\nrequire(\"core-js/modules/esnext.map.every.js\");\nrequire(\"core-js/modules/esnext.map.filter.js\");\nrequire(\"core-js/modules/esnext.map.find.js\");\nrequire(\"core-js/modules/esnext.map.find-key.js\");\nrequire(\"core-js/modules/esnext.map.includes.js\");\nrequire(\"core-js/modules/esnext.map.key-of.js\");\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\nrequire(\"core-js/modules/esnext.map.map-values.js\");\nrequire(\"core-js/modules/esnext.map.merge.js\");\nrequire(\"core-js/modules/esnext.map.reduce.js\");\nrequire(\"core-js/modules/esnext.map.some.js\");\nrequire(\"core-js/modules/esnext.map.update.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.split.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar swiper_1 = tslib_1.__importDefault(require(\"swiper\"));\nvar vue_1 = require(\"vue\");\nvar vue_types_1 = require(\"vue-types\");\nvar selectorPrefix = 'adherev-ui-swipeout';\nvar swiperOutProps = {\n  beforeClassName: (0, vue_types_1.string)().def(''),\n  beforeStyle: (0, vue_types_1.object)().def({}),\n  afterClassName: (0, vue_types_1.string)().def(''),\n  afterStyle: (0, vue_types_1.object)().def({}),\n  contentClassName: (0, vue_types_1.string)().def(''),\n  contentStyle: (0, vue_types_1.object)().def({}),\n  beforeShow: (0, vue_types_1.bool)().def(false),\n  afterShow: (0, vue_types_1.bool)().def(false),\n  direction: (0, vue_types_1.string)().def('horizontal'),\n  duration: (0, vue_types_1.number)().def(0),\n  renderBefore: (0, vue_types_1.object)(),\n  renderAfter: (0, vue_types_1.object)()\n};\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-swipeout',\n  props: swiperOutProps,\n  emits: ['init', 'slide-change-transition-start', 'slide-change-transition-end'],\n  slots: ['before', 'after'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots,\n      emit = _a.emit;\n    var root = (0, vue_1.ref)();\n    var swiper = null;\n    var map = new Map([[[true, true].toString(), 1], [[false, false].toString(), 1], [[true, false].toString(), 0], [[false, true].toString(), 2]]);\n    var getContainerClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, 'swiper-container');\n    });\n    var getBeforeClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)('swiper-slide', \"\".concat(selectorPrefix, \"-before\"), props.beforeClassName.split(/\\s+/));\n    });\n    var getContentClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)('swiper-slide', \"\".concat(selectorPrefix, \"-content\"), props.contentClassName.split(/\\s+/));\n    });\n    var getAfterClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)('swiper-slide', \"\".concat(selectorPrefix, \"-after\"), props.afterClassName.split(/\\s+/));\n    });\n    var createSwiper = function createSwiper() {\n      if (swiper) {\n        swiper.destroy();\n      }\n      swiper = new swiper_1.default(root.value, {\n        init: false,\n        // 初始化在第一个选项卡上\n        initialSlide: map.get([props.beforeShow, props.afterShow].toString()),\n        direction: props.direction,\n        slidesPerView: 'auto',\n        centeredSlides: false,\n        spaceBetween: 0\n      });\n      swiper.on('init', function () {\n        emit('init');\n      });\n      swiper.on('slideChangeTransitionStart', function () {\n        emit('slide-change-transition-start', swiper.activeIndex);\n      });\n      swiper.on('slideChangeTransitionEnd', function () {\n        emit('slide-change-transition-end', swiper.activeIndex);\n      });\n      swiper.init();\n    };\n    var slide = function slide(params) {\n      return swiper.slideTo(map.get([params.beforeShow, params.afterShow].toString()), params.duration);\n    };\n    (0, vue_1.watch)(function () {\n      return props.direction;\n    }, function (direction, oldDirection) {\n      if (direction !== oldDirection) {\n        swiper.changeDirection(direction);\n      }\n    });\n    (0, vue_1.watch)(function () {\n      return props.beforeShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: val,\n          afterShow: props.afterShow,\n          duration: props.duration\n        });\n      }\n    });\n    (0, vue_1.watch)(function () {\n      return props.afterShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: props.beforeShow,\n          afterShow: val,\n          duration: props.duration\n        });\n      }\n    });\n    (0, vue_1.onMounted)(function () {\n      createSwiper();\n    });\n    return function () {\n      var _a, _b, _c;\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": getContainerClassName.value,\n        \"ref\": root\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"swiper-wrapper\"\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": getBeforeClassName.value,\n        \"style\": props.beforeStyle\n      }, [((_a = slots === null || slots === void 0 ? void 0 : slots.before) === null || _a === void 0 ? void 0 : _a.call(slots)) || props.renderBefore]), (0, _vue.createVNode)(\"div\", {\n        \"class\": getContentClassName.value,\n        \"style\": props.contentStyle\n      }, [(_b = slots === null || slots === void 0 ? void 0 : slots.default) === null || _b === void 0 ? void 0 : _b.call(slots)]), (0, _vue.createVNode)(\"div\", {\n        \"class\": getAfterClassName.value,\n        \"style\": props.afterStyle\n      }, [((_c = slots === null || slots === void 0 ? void 0 : slots.after) === null || _c === void 0 ? void 0 : _c.call(slots)) || props.renderAfter])])]);\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","classnames_1","__importDefault","swiper_1","vue_1","vue_types_1","selectorPrefix","swiperOutProps","beforeClassName","string","def","beforeStyle","object","afterClassName","afterStyle","contentClassName","contentStyle","beforeShow","bool","afterShow","direction","duration","number","renderBefore","renderAfter","default","defineComponent","name","props","emits","slots","setup","_a","slide","params","swiper","slideTo","map","get","toString","emit","root","ref","Map","getContainerClassName","computed","getBeforeClassName","concat","split","getContentClassName","getAfterClassName","watch","oldDirection","changeDirection","val","oldVal","onMounted","destroy","init","initialSlide","slidesPerView","centeredSlides","spaceBetween","on","activeIndex","_c","createVNode","class","style","before","call","_b","after"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,KAAK,EA0BpBC,SAzBJD,QAAQ,8CAA8C,EACtDA,QAAQ,sCAAsC,EAC9CA,QAAQ,2BAA2B,EACnCA,QAAQ,wCAAwC,EAChDA,QAAQ,uCAAuC,EAC/CA,QAAQ,0CAA0C,EAClDA,QAAQ,qCAAqC,EAC7CA,QAAQ,sCAAsC,EAC9CA,QAAQ,oCAAoC,EAC5CA,QAAQ,wCAAwC,EAChDA,QAAQ,wCAAwC,EAChDA,QAAQ,sCAAsC,EAC9CA,QAAQ,wCAAwC,EAChDA,QAAQ,0CAA0C,EAClDA,QAAQ,qCAAqC,EAC7CA,QAAQ,sCAAsC,EAC9CA,QAAQ,oCAAoC,EAC5CA,QAAQ,sCAAsC,EAC9CA,QAAQ,iDAAiD,EACzDA,QAAQ,mCAAmC,EAC3CA,QAAQ,oCAAoC,EAC5CA,QAAQ,wCAAwC,EAChDE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACaL,QAAQ,OAAO,GACzBM,aAAeL,QAAQM,gBAAgBP,QAAQ,YAAY,CAAC,EAC5DQ,SAAWP,QAAQM,gBAAgBP,QAAQ,QAAQ,CAAC,EACpDS,MAAQT,QAAQ,KAAK,EACrBU,YAAcV,QAAQ,WAAW,EACjCW,eAAiB,sBACjBC,eAAiB,CACnBC,iBAAiB,EAAIH,YAAYI,QAAQ,EAAEC,IAAI,EAAE,EACjDC,aAAa,EAAIN,YAAYO,QAAQ,EAAEF,IAAI,EAAE,EAC7CG,gBAAgB,EAAIR,YAAYI,QAAQ,EAAEC,IAAI,EAAE,EAChDI,YAAY,EAAIT,YAAYO,QAAQ,EAAEF,IAAI,EAAE,EAC5CK,kBAAkB,EAAIV,YAAYI,QAAQ,EAAEC,IAAI,EAAE,EAClDM,cAAc,EAAIX,YAAYO,QAAQ,EAAEF,IAAI,EAAE,EAC9CO,YAAY,EAAIZ,YAAYa,MAAM,EAAER,IAAI,CAAA,CAAK,EAC7CS,WAAW,EAAId,YAAYa,MAAM,EAAER,IAAI,CAAA,CAAK,EAC5CU,WAAW,EAAIf,YAAYI,QAAQ,EAAEC,IAAI,YAAY,EACrDW,UAAU,EAAIhB,YAAYiB,QAAQ,EAAEZ,IAAI,CAAC,EACzCa,cAAc,EAAIlB,YAAYO,QAAQ,EACtCY,aAAa,EAAInB,YAAYO,QAAQ,CACvC,EACAb,QAAQ0B,SAAU,EAAIrB,MAAMsB,iBAAiB,CAC3CC,KAAM,eACNC,MAAOrB,eACPsB,MAAO,CAAC,OAAQ,gCAAiC,+BACjDC,MAAO,CAAC,SAAU,SAClBC,MAAO,SAAeH,EAAOI,GA0Cf,SAARC,EAAuBC,GAClBC,EAAOC,QAAQC,EAAIC,IAAI,CAACJ,EAAOjB,WAAYiB,EAAOf,WAAWoB,SAAS,CAAC,EAAGL,EAAOb,QAAQ,CAClG,CA3CA,IAAIS,EAAQE,EAAGF,MACbU,EAAOR,EAAGQ,KACRC,GAAO,EAAIrC,MAAMsC,KAAK,EACtBP,EAAS,KACTE,EAAM,IAAIM,IAAI,CAAC,CAAC,CAAC,CAAA,EAAM,CAAA,GAAMJ,SAAS,EAAG,GAAI,CAAC,CAAC,CAAA,EAAO,CAAA,GAAOA,SAAS,EAAG,GAAI,CAAC,CAAC,CAAA,EAAM,CAAA,GAAOA,SAAS,EAAG,GAAI,CAAC,CAAC,CAAA,EAAO,CAAA,GAAMA,SAAS,EAAG,GAAG,EAC1IK,GAAwB,EAAIxC,MAAMyC,UAAU,WAC9C,OAAO,EAAI5C,aAAawB,SAASnB,eAAgB,kBAAkB,CACrE,CAAC,EACGwC,GAAqB,EAAI1C,MAAMyC,UAAU,WAC3C,OAAO,EAAI5C,aAAawB,SAAS,eAAgB,GAAGsB,OAAOzC,eAAgB,SAAS,EAAGsB,EAAMpB,gBAAgBwC,MAAM,KAAK,CAAC,CAC3H,CAAC,EACGC,GAAsB,EAAI7C,MAAMyC,UAAU,WAC5C,OAAO,EAAI5C,aAAawB,SAAS,eAAgB,GAAGsB,OAAOzC,eAAgB,UAAU,EAAGsB,EAAMb,iBAAiBiC,MAAM,KAAK,CAAC,CAC7H,CAAC,EACGE,GAAoB,EAAI9C,MAAMyC,UAAU,WAC1C,OAAO,EAAI5C,aAAawB,SAAS,eAAgB,GAAGsB,OAAOzC,eAAgB,QAAQ,EAAGsB,EAAMf,eAAemC,MAAM,KAAK,CAAC,CACzH,CAAC,EA4DD,OAhCA,EAAI5C,MAAM+C,OAAO,WACf,OAAOvB,EAAMR,SACf,EAAG,SAAUA,EAAWgC,GAClBhC,IAAcgC,GAChBjB,EAAOkB,gBAAgBjC,CAAS,CAEpC,CAAC,GACD,EAAIhB,MAAM+C,OAAO,WACf,OAAOvB,EAAMX,UACf,EAAG,SAAUqC,EAAKC,GACZD,IAAQC,GACVtB,EAAM,CACJhB,WAAYqC,EACZnC,UAAWS,EAAMT,UACjBE,SAAUO,EAAMP,QAClB,CAAC,CAEL,CAAC,GACD,EAAIjB,MAAM+C,OAAO,WACf,OAAOvB,EAAMT,SACf,EAAG,SAAUmC,EAAKC,GACZD,IAAQC,GACVtB,EAAM,CACJhB,WAAYW,EAAMX,WAClBE,UAAWmC,EACXjC,SAAUO,EAAMP,QAClB,CAAC,CAEL,CAAC,GACD,EAAIjB,MAAMoD,WAAW,WAvDfrB,GACFA,EAAOsB,QAAQ,GAEjBtB,EAAS,IAAIhC,SAASsB,QAAQgB,EAAKzC,MAAO,CACxC0D,KAAM,CAAA,EAENC,aAActB,EAAIC,IAAI,CAACV,EAAMX,WAAYW,EAAMT,WAAWoB,SAAS,CAAC,EACpEnB,UAAWQ,EAAMR,UACjBwC,cAAe,OACfC,eAAgB,CAAA,EAChBC,aAAc,CAChB,CAAC,GACMC,GAAG,OAAQ,WAChBvB,EAAK,MAAM,CACb,CAAC,EACDL,EAAO4B,GAAG,6BAA8B,WACtCvB,EAAK,gCAAiCL,EAAO6B,WAAW,CAC1D,CAAC,EACD7B,EAAO4B,GAAG,2BAA4B,WACpCvB,EAAK,8BAA+BL,EAAO6B,WAAW,CACxD,CAAC,EACD7B,EAAOuB,KAAK,CAoCd,CAAC,EACM,WACL,IAAYO,EACZ,OAAO,EAAIvE,KAAKwE,aAAa,MAAO,CAClCC,MAASvB,EAAsB5C,MAC/B0C,IAAOD,CACT,EAAG,EAAC,EAAI/C,KAAKwE,aAAa,MAAO,CAC/BC,MAAS,gBACX,EAAG,EAAC,EAAIzE,KAAKwE,aAAa,MAAO,CAC/BC,MAASrB,EAAmB9C,MAC5BoE,MAASxC,EAAMjB,WACjB,EAAG,EAAE,OAACqB,EAAKF,MAAAA,EAAqC,KAAA,EAASA,EAAMuC,QAAoC,KAAA,EAASrC,EAAGsC,KAAKxC,CAAK,IAAMF,EAAML,aAAa,GAAG,EAAI7B,KAAKwE,aAAa,MAAO,CAChLC,MAASlB,EAAoBjD,MAC7BoE,MAASxC,EAAMZ,YACjB,EAAG,CAAC,OAACuD,EAAKzC,MAAAA,EAAqC,KAAA,EAASA,EAAML,SAAqC,KAAA,EAAS8C,EAAGD,KAAKxC,CAAK,EAAE,GAAG,EAAIpC,KAAKwE,aAAa,MAAO,CACzJC,MAASjB,EAAkBlD,MAC3BoE,MAASxC,EAAMd,UACjB,EAAG,EAAE,OAACmD,EAAKnC,MAAAA,EAAqC,KAAA,EAASA,EAAM0C,OAAmC,KAAA,EAASP,EAAGK,KAAKxC,CAAK,IAAMF,EAAMJ,YAAY,EAAE,EAAE,CACtJ,CACF,CACF,CAAC"}