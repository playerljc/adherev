{"version":3,"file":"swipeout.js","sources":["swipeout.js"],"sourcesContent":["\"use strict\";\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = (0, tslib_1.__importDefault)(require(\"classnames\")); // @ts-ignore\n\nvar swiper_1 = (0, tslib_1.__importDefault)(require(\"swiper\"));\n\nvar vue_1 = require(\"vue\");\n\nvar vue_types_1 = require(\"vue-types\");\n\nvar selectorPrefix = 'adherev-ui-swipeout';\nvar swiperOutProps = {\n  beforeClassName: (0, vue_types_1.string)().def(''),\n  beforeStyle: (0, vue_types_1.object)().def({}),\n  afterClassName: (0, vue_types_1.string)().def(''),\n  afterStyle: (0, vue_types_1.object)().def({}),\n  contentClassName: (0, vue_types_1.string)().def(''),\n  contentStyle: (0, vue_types_1.object)().def({}),\n  beforeShow: (0, vue_types_1.bool)().def(false),\n  afterShow: (0, vue_types_1.bool)().def(false),\n  direction: (0, vue_types_1.string)().def('horizontal'),\n  duration: (0, vue_types_1.number)().def(0)\n};\nexports.default = (0, vue_1.defineComponent)({\n  name: 'adv-swipeout',\n  props: swiperOutProps,\n  slots: ['before', 'after'],\n  emits: ['init', 'slide-change-transition-start', 'slide-change-transition-end'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots,\n        emit = _a.emit;\n    var root = (0, vue_1.ref)();\n    var swiper = null;\n    var map = new Map([[[true, true].toString(), 1], [[false, false].toString(), 1], [[true, false].toString(), 0], [[false, true].toString(), 2]]);\n    var getContainerClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)(selectorPrefix, 'swiper-container');\n    });\n    var getBeforeClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)('swiper-slide', \"\".concat(selectorPrefix, \"-before\"), props.beforeClassName.split(/\\s+/));\n    });\n    var getContentClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)('swiper-slide', \"\".concat(selectorPrefix, \"-content\"), props.contentClassName.split(/\\s+/));\n    });\n    var getAfterClassName = (0, vue_1.computed)(function () {\n      return (0, classnames_1.default)('swiper-slide', \"\".concat(selectorPrefix, \"-after\"), props.afterClassName.split(/\\s+/));\n    });\n\n    var createSwiper = function createSwiper() {\n      if (swiper) {\n        swiper.destroy();\n      }\n\n      swiper = new swiper_1.default(root.value, {\n        init: false,\n        // 初始化在第一个选项卡上\n        initialSlide: map.get([props.beforeShow, props.afterShow].toString()),\n        direction: props.direction,\n        slidesPerView: 'auto',\n        centeredSlides: false,\n        spaceBetween: 0\n      });\n      swiper.on('init', function () {\n        emit('init');\n      });\n      swiper.on('slideChangeTransitionStart', function () {\n        emit('slide-change-transition-start', swiper.activeIndex);\n      });\n      swiper.on('slideChangeTransitionEnd', function () {\n        emit('slide-change-transition-end', swiper.activeIndex);\n      });\n      swiper.init();\n    };\n\n    var slide = function slide(params) {\n      return swiper.slideTo(map.get([params.beforeShow, params.afterShow].toString()), params.duration);\n    };\n\n    (0, vue_1.watch)(function () {\n      return props.direction;\n    }, function (direction, oldDirection) {\n      if (direction !== oldDirection) {\n        swiper.changeDirection(direction);\n      }\n    });\n    (0, vue_1.watch)(function () {\n      return props.beforeShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: val,\n          afterShow: props.afterShow,\n          duration: props.duration\n        });\n      }\n    });\n    (0, vue_1.watch)(function () {\n      return props.afterShow;\n    }, function (val, oldVal) {\n      if (val !== oldVal) {\n        slide({\n          beforeShow: props.beforeShow,\n          afterShow: val,\n          duration: props.duration\n        });\n      }\n    });\n    (0, vue_1.onMounted)(function () {\n      createSwiper();\n    });\n    return function () {\n      var _a, _b, _c;\n\n      return (0, _vue.createVNode)(\"div\", {\n        \"class\": getContainerClassName.value,\n        \"ref\": root\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": \"swiper-wrapper\"\n      }, [(0, _vue.createVNode)(\"div\", {\n        \"class\": getBeforeClassName.value,\n        \"style\": props.beforeStyle\n      }, [(_a = slots === null || slots === void 0 ? void 0 : slots.before) === null || _a === void 0 ? void 0 : _a.call(slots)]), (0, _vue.createVNode)(\"div\", {\n        \"class\": getContentClassName.value,\n        \"style\": props.contentStyle\n      }, [(_b = slots === null || slots === void 0 ? void 0 : slots.default) === null || _b === void 0 ? void 0 : _b.call(slots)]), (0, _vue.createVNode)(\"div\", {\n        \"class\": getAfterClassName.value,\n        \"style\": props.afterStyle\n      }, [(_c = slots === null || slots === void 0 ? void 0 : slots.after) === null || _c === void 0 ? void 0 : _c.call(slots)])])]);\n    };\n  }\n});"],"names":["_vue","require","tslib_1","Object","defineProperty","exports","value","classnames_1","__importDefault","swiper_1","vue_1","vue_types_1","selectorPrefix","swiperOutProps","beforeClassName","string","def","beforeStyle","object","afterClassName","afterStyle","contentClassName","contentStyle","beforeShow","bool","afterShow","direction","duration","number","default","defineComponent","name","props","slots","emits","setup","_a","slide","params","swiper","slideTo","map","get","toString","emit","root","ref","Map","getContainerClassName","computed","getBeforeClassName","concat","split","getContentClassName","getAfterClassName","watch","oldDirection","changeDirection","val","oldVal","onMounted","destroy","init","initialSlide","slidesPerView","centeredSlides","spaceBetween","on","activeIndex","_c","createVNode","class","style","before","call","_b","after"],"mappings":"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"}