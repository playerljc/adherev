{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode, isVNode as _isVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { __rest, __spreadArray } from \"tslib\";\nimport { Button, Modal } from 'ant-design-vue';\nimport { defineComponent, toRaw } from 'vue';\nimport { any, bool, func } from 'vue-types';\nimport Intl from '@baifendian/adherev-util-intl';\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\n\nexport var selectorPrefix = 'adherev-ui-messagedialog';\nvar props = {\n  config: any(),\n  closeBtn: bool().def(true),\n  onClose: func()\n};\nexport default defineComponent({\n  props: props,\n  slots: ['title', 'footer'],\n  setup: function setup(props, _a) {\n    // const onEmitterClose = () => {\n    //   if (!!props.onClose) {\n    //     props.onClose();\n    //   }\n    // };\n    var slots = _a.slots;\n\n    var renderCloseBtn = function renderCloseBtn() {\n      var _slot;\n\n      return _createVNode(Button, {\n        \"key\": \"close\",\n        \"type\": !props.config.footerJSX ? 'primary' : undefined,\n        \"title\": Intl.tv('取消'),\n        \"onClick\": function onClick() {\n          if (!!props.onClose) {\n            props.onClose();\n          }\n        }\n      }, _isSlot(_slot = Intl.tv('取消')) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      });\n    };\n\n    var renderDefault = function renderDefault() {\n      var _a;\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderTitle = function renderTitle() {\n      var _a;\n\n      return (_a = slots.title) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderFooter = function renderFooter() {\n      var result = null;\n\n      if (props.config.footerJSX) {\n        if (props.closeBtn) {\n          result = _createVNode(\"div\", null, [__spreadArray(__spreadArray([], props.config.footerJSX, true), [renderCloseBtn()], false)]);\n        } else {\n          result = _createVNode(\"div\", null, [props.config.footerJSX]);\n        }\n      } else {\n        if (props.closeBtn) {\n          result = renderCloseBtn();\n        }\n      }\n\n      return result;\n    }; // onMounted(() => {\n    //   Emitter.on(Actions.close, onEmitterClose);\n    // });\n    // onBeforeUnmount(() => {\n    //   Emitter.remove(Actions.close, onEmitterClose);\n    // });\n\n\n    return function () {\n      var _a = toRaw(props.config),\n          footer = _a.footer,\n          centered = _a.centered,\n          title = _a.title,\n          other = __rest(_a, [\"footer\", \"centered\", \"title\"]);\n\n      return _createVNode(Modal, _mergeProps(other, {\n        \"centered\": centered === undefined || centered === null ? true : centered,\n        \"wrapClassName\": selectorPrefix,\n        \"onCancel\": function onCancel() {\n          if (!!props.onClose) {\n            props.onClose();\n          }\n        },\n        \"visible\": true\n      }), {\n        default: function _default() {\n          return renderDefault();\n        },\n        title: function title() {\n          return renderTitle();\n        },\n        footer: function footer() {\n          return renderFooter();\n        }\n      });\n    };\n  }\n});"],"names":["_mergeProps","_createVNode","_isVNode","__rest","__spreadArray","Button","Modal","defineComponent","toRaw","any","bool","func","Intl","_isSlot","s","Object","prototype","toString","call","selectorPrefix","props","config","closeBtn","def","onClose","slots","setup","_a","renderCloseBtn","_slot","key","type","footerJSX","undefined","title","tv","onClick","default","centered","footer","other","wrapClassName","onCancel","visible","result"],"mappings":"OAAuBA,0BAA4BC,4BAAyBC,oFAEnEC,OAAQC,iCACRC,OAAQC,kCACRC,gBAAiBC,uBACjBC,IAAKC,KAAMC,4BACbC,yCAEP,SAASC,QAAQC,GACf,MAAoB,mBAANA,GAA0D,oBAAtCC,OAAOC,UAAUC,SAASC,KAAKJ,KAA6BZ,SAASY,GAGlG,IAAIK,eAAiB,2BACxBC,MAAQ,CACVC,OAAQZ,MACRa,SAAUZ,OAAOa,KAAI,GACrBC,QAASb,uBAEIJ,gBAAgB,CAC7Ba,MAAOA,MACPK,MAAO,CAAC,QAAS,UACjBC,MAAO,SAAeN,EAAOO,GAQN,SAAjBC,IACF,IAAIC,EAEJ,OAAO5B,aAAaI,OAAQ,CAC1ByB,IAAO,QACPC,KAASX,EAAMC,OAAOW,eAAwBC,EAAZ,UAClCC,MAAStB,KAAKuB,GAAG,MACjBC,QAAW,WACHhB,EAAMI,SACVJ,EAAMI,YAGTX,QAAQgB,EAAQjB,KAAKuB,GAAG,OAASN,EAAQ,CAC1CQ,QAAS,WACP,MAAO,CAACR,MAhBd,IAAIJ,EAAQE,EAAGF,MAyDf,OAAO,WACL,IAAIE,EAAKnB,MAAMY,EAAMC,QAEjBiB,GADSX,EAAGY,OACDZ,EAAGW,UAEdE,GADQb,EAAGO,MACH/B,OAAOwB,EAAI,CAAC,SAAU,WAAY,WAE9C,OAAO1B,aAAaK,MAAON,YAAYwC,EAAO,CAC5CF,SAAYA,MAAAA,GAAqDA,EACjEG,cAAiBtB,eACjBuB,SAAY,WACJtB,EAAMI,SACVJ,EAAMI,WAGVmB,SAAW,IACT,CACFN,QAAS,WACP,OAnD4B,QAAxBV,EAAKF,EAAMY,eAA4B,IAAPV,OAAgB,EAASA,EAAGT,KAAKO,GAHvD,IACdE,GAuDFO,MAAO,WACL,OAhD0B,QAAtBP,EAAKF,EAAMS,aAA0B,IAAPP,OAAgB,EAASA,EAAGT,KAAKO,GAHvD,IACZE,GAoDFY,OAAQ,WACN,OA/CAK,EAAS,KAETxB,EAAMC,OAAOW,UAEbY,EADExB,EAAME,SACCrB,aAAa,MAAO,KAAM,CAACG,cAAcA,cAAc,GAAIgB,EAAMC,OAAOW,WAAW,GAAO,CAACJ,MAAmB,KAE9G3B,aAAa,MAAO,KAAM,CAACmB,EAAMC,OAAOW,YAG/CZ,EAAME,WACRsB,EAAShB,KAINgB,EAfU,IACbA,gBAjDCzB"}