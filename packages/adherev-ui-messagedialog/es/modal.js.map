{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode, isVNode as _isVNode } from \"vue\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { __rest, __spreadArray } from \"tslib\";\nimport Intl from '@baifendian/adherev-util-intl';\nimport { Button, Modal } from 'ant-design-vue';\nimport { defineComponent, toRaw } from 'vue';\nimport { any, bool, func } from 'vue-types';\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\n\nexport var selectorPrefix = 'adherev-ui-messagedialog';\nvar props = {\n  config: any(),\n  closeBtn: bool().def(true),\n  onClose: func()\n};\nexport default defineComponent({\n  props: props,\n  slots: ['title', 'footer'],\n  setup: function setup(props, _a) {\n    // const onEmitterClose = () => {\n    //   if (!!props.onClose) {\n    //     props.onClose();\n    //   }\n    // };\n    var slots = _a.slots;\n\n    var renderCloseBtn = function renderCloseBtn() {\n      var _slot;\n\n      return (// @ts-ignore\n        _createVNode(Button, {\n          \"key\": \"close\",\n          \"type\": !props.config.footerJSX ? 'primary' : '',\n          \"title\": Intl.tv('取消'),\n          \"onClick\": function onClick() {\n            if (!!props.onClose) {\n              props.onClose();\n            }\n          }\n        }, _isSlot(_slot = Intl.tv('取消')) ? _slot : {\n          default: function _default() {\n            return [_slot];\n          }\n        })\n      );\n    };\n\n    var renderDefault = function renderDefault() {\n      var _a;\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderTitle = function renderTitle() {\n      var _a;\n\n      return (_a = slots.title) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderFooter = function renderFooter() {\n      var result = null;\n\n      if (props.config.footerJSX) {\n        if (props.closeBtn) {\n          result = _createVNode(\"div\", null, [__spreadArray(__spreadArray([], props.config.footerJSX, true), [renderCloseBtn()], false)]);\n        } else {\n          result = _createVNode(\"div\", null, [props.config.footerJSX]);\n        }\n      } else {\n        if (props.closeBtn) {\n          result = renderCloseBtn();\n        }\n      }\n\n      return result;\n    }; // onMounted(() => {\n    //   Emitter.on(Actions.close, onEmitterClose);\n    // });\n    // onBeforeUnmount(() => {\n    //   Emitter.remove(Actions.close, onEmitterClose);\n    // });\n\n\n    return function () {\n      var _a = toRaw(props.config),\n          footer = _a.footer,\n          centered = _a.centered,\n          title = _a.title,\n          other = __rest(_a, [\"footer\", \"centered\", \"title\"]);\n\n      return (// @ts-ignore\n        _createVNode(Modal, _mergeProps(other, {\n          \"centered\": centered === undefined || centered === null ? true : centered,\n          \"wrapClassName\": selectorPrefix,\n          \"onCancel\": function onCancel() {\n            if (!!props.onClose) {\n              props.onClose();\n            }\n          },\n          \"visible\": true\n        }), {\n          default: function _default() {\n            return renderDefault();\n          },\n          title: function title() {\n            return renderTitle();\n          },\n          footer: function footer() {\n            return renderFooter();\n          }\n        })\n      );\n    };\n  }\n});"],"names":["_mergeProps","_createVNode","_isVNode","__rest","__spreadArray","Intl","Button","Modal","defineComponent","toRaw","any","bool","func","_isSlot","s","Object","prototype","toString","call","selectorPrefix","props","config","closeBtn","def","onClose","slots","setup","_a","renderCloseBtn","_slot","key","type","footerJSX","title","tv","onClick","default","centered","footer","other","wrapClassName","onCancel","visible","result"],"mappings":"OAAuBA,0BAA4BC,4BAAyBC,oFAEnEC,OAAQC,iCACVC,gDACEC,OAAQC,kCACRC,gBAAiBC,uBACjBC,IAAKC,KAAMC,qBAEpB,SAASC,QAAQC,GACf,MAAoB,mBAANA,GAA0D,oBAAtCC,OAAOC,UAAUC,SAASC,KAAKJ,KAA6BZ,SAASY,GAGlG,IAAIK,eAAiB,2BACxBC,MAAQ,CACVC,OAAQX,MACRY,SAAUX,OAAOY,KAAI,GACrBC,QAASZ,uBAEIJ,gBAAgB,CAC7BY,MAAOA,MACPK,MAAO,CAAC,QAAS,UACjBC,MAAO,SAAeN,EAAOO,GAQN,SAAjBC,IACF,IAAIC,EAEJ,OACE5B,aAAaK,OAAQ,CACnBwB,IAAO,QACPC,KAASX,EAAMC,OAAOW,UAAwB,GAAZ,UAClCC,MAAS5B,KAAK6B,GAAG,MACjBC,QAAW,WACHf,EAAMI,SACVJ,EAAMI,YAGTX,QAAQgB,EAAQxB,KAAK6B,GAAG,OAASL,EAAQ,CAC1CO,QAAS,WACP,MAAO,CAACP,MAjBhB,IAAIJ,EAAQE,EAAGF,MA2Df,OAAO,WACL,IAAIE,EAAKlB,MAAMW,EAAMC,QAEjBgB,GADSV,EAAGW,OACDX,EAAGU,UAEdE,GADQZ,EAAGM,MACH9B,OAAOwB,EAAI,CAAC,SAAU,WAAY,WAE9C,OACE1B,aAAaM,MAAOP,YAAYuC,EAAO,CACrCF,SAAYA,MAAAA,GAAqDA,EACjEG,cAAiBrB,eACjBsB,SAAY,WACJrB,EAAMI,SACVJ,EAAMI,WAGVkB,SAAW,IACT,CACFN,QAAS,WACP,OApD0B,QAAxBT,EAAKF,EAAMW,eAA4B,IAAPT,OAAgB,EAASA,EAAGT,KAAKO,GAHvD,IACdE,GAwDAM,MAAO,WACL,OAjDwB,QAAtBN,EAAKF,EAAMQ,aAA0B,IAAPN,OAAgB,EAASA,EAAGT,KAAKO,GAHvD,IACZE,GAqDAW,OAAQ,WACN,OAhDFK,EAAS,KAETvB,EAAMC,OAAOW,UAEbW,EADEvB,EAAME,SACCrB,aAAa,MAAO,KAAM,CAACG,cAAcA,cAAc,GAAIgB,EAAMC,OAAOW,WAAW,GAAO,CAACJ,MAAmB,KAE9G3B,aAAa,MAAO,KAAM,CAACmB,EAAMC,OAAOW,YAG/CZ,EAAME,WACRqB,EAASf,KAINe,EAfU,IACbA,gBAnDCxB"}