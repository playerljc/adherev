{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { __rest, __spreadArrays } from \"tslib\";\nimport { Button, Modal } from 'ant-design-vue';\nimport Util from '@baifendian/adherev-util';\nimport Intl from '@baifendian/adherev-util-intl'; // import Actions from './actions';\n// import Emitter from './emitter';\n\nvar Fragment = Util._util.Fragment;\nexport var selectorPrefix = 'adherev-ui-messagedialog';\nvar ModalConfig = {\n  props: {\n    config: {\n      type: Object\n    },\n    closeBtn: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  // mounted() {\n  //   Emitter.on(Actions.close, this.onEmitterClose);\n  // },\n  // beforeDestroy() {\n  //   Emitter.remove(Actions.close, this.onEmitterClose);\n  // },\n  methods: {\n    // onEmitterClose() {\n    //   const {\n    //     $listeners: { close },\n    //   } = this;\n    //   if (close) {\n    //     close();\n    //   }\n    // },\n\n    /**\n     * renderCloseBtn\n     * @param h\n     */\n    renderCloseBtn: function renderCloseBtn(h) {\n      var _a = this,\n          config = _a.config,\n          close = _a.$listeners.close;\n\n      return h(Button, {\n        \"key\": \"close\",\n        \"attrs\": {\n          \"type\": !config.footerJSX ? 'primary' : '',\n          \"title\": Intl.tv('取消')\n        },\n        \"on\": {\n          \"click\": function click() {\n            if (close) {\n              close();\n            }\n          }\n        }\n      }, [Intl.tv('取消')]);\n    },\n\n    /**\n     * renderDefault\n     * @param h\n     */\n    renderDefault: function renderDefault(h) {\n      var $slots = this.$slots;\n      return $slots.default ? $slots.default : null;\n    },\n\n    /**\n     * renderTitle\n     * @param h\n     */\n    renderTitle: function renderTitle(h) {\n      var $slots = this.$slots;\n      return $slots.title ? // @ts-ignore\n      h(Fragment, {\n        \"slot\": \"title\"\n      }, [$slots.title]) : null;\n    },\n\n    /**\n     * renderFooter\n     * @param h\n     */\n    renderFooter: function renderFooter(h) {\n      var _a = this,\n          config = _a.config,\n          closeBtn = _a.closeBtn;\n\n      var result = null;\n\n      if (config.footerJSX) {\n        if (closeBtn) {\n          result = // @ts-ignore\n          h(Fragment, {\n            \"slot\": \"footer\"\n          }, [h(\"div\", [__spreadArrays(config.footerJSX, [this.renderCloseBtn(h)])])]);\n        } else {\n          result = // @ts-ignore\n          h(Fragment, {\n            \"slot\": \"footer\"\n          }, [h(\"div\", [config.footerJSX])]);\n        }\n      } else {\n        if (closeBtn) {\n          // @ts-ignore\n          result = h(Fragment, {\n            \"slot\": \"footer\"\n          }, [this.renderCloseBtn(h)]);\n        }\n      }\n\n      return result;\n    }\n  },\n\n  /**\n   * render\n   * @param h\n   */\n  render: function render(h) {\n    var _a = this,\n        config = _a.config,\n        close = _a.$listeners.close;\n\n    var _b = config.footer,\n        footer = _b === void 0 ? [] : _b,\n        _c = config.centered,\n        centered = _c === void 0 ? true : _c,\n        other = __rest(config, [\"footer\", \"centered\"]);\n\n    var data = {\n      props: other\n    };\n    return h(Modal, _mergeJSXProps([{}, data, {\n      \"attrs\": {\n        \"centered\": centered,\n        \"wrapClassName\": selectorPrefix,\n        \"visible\": true\n      },\n      \"on\": {\n        \"cancel\": function cancel() {\n          if (close) {\n            close();\n          }\n        }\n      }\n    }]), [this.renderDefault(h), this.renderTitle(h), this.renderFooter(h)]);\n  }\n};\nexport default ModalConfig;"],"names":["_mergeJSXProps","__rest","__spreadArrays","Button","Modal","Util","Intl","Fragment","_util","selectorPrefix","ModalConfig","props","config","type","Object","closeBtn","Boolean","required","default","methods","renderCloseBtn","h","this","close","$listeners","key","attrs","footerJSX","title","tv","on","click","renderDefault","$slots","renderTitle","slot","renderFooter","result","render","_c","footer","centered","data","wrapClassName","visible","cancel"],"mappings":"OAAOA,kEACEC,OAAQC,kCACRC,OAAQC,kCACVC,2CACAC,yCAGP,IAAIC,SAAWF,KAAKG,MAAMD,SACfE,eAAiB,2BACxBC,YAAc,CAChBC,MAAO,CACLC,OAAQ,CACNC,KAAMC,QAERC,SAAU,CACRF,KAAMG,QACNC,UAAU,EACVC,SAAS,IASbC,QAAS,CAcPC,eAAgB,SAAwBC,GACtC,IACIT,EADKU,KACOV,OACZW,EAFKD,KAEME,WAAWD,MAE1B,OAAOF,EAAElB,OAAQ,CACfsB,IAAO,QACPC,MAAS,CACPb,KAASD,EAAOe,UAAwB,GAAZ,UAC5BC,MAAStB,KAAKuB,GAAG,OAEnBC,GAAM,CACJC,MAAS,WACHR,GACFA,OAIL,CAACjB,KAAKuB,GAAG,SAOdG,cAAe,SAAuBX,GACpC,IAAIY,EAASX,KAAKW,OAClB,OAAOA,EAAOf,SAA2B,MAO3CgB,YAAa,SAAqBb,GAChC,IAAIY,EAASX,KAAKW,OAClB,OAAOA,EAAOL,MACdP,EAAEd,SAAU,CACV4B,KAAQ,SACP,CAACF,EAAOL,QAAU,MAOvBQ,aAAc,SAAsBf,GAClC,IACIT,EADKU,KACOV,OACZG,EAFKO,KAESP,SAEdsB,EAAS,KAuBb,OArBIzB,EAAOe,UAEPU,EACAhB,EAAEd,SAAU,CACV4B,KAAQ,UAHRpB,EAIC,CAACM,EAAE,MAAO,CAACnB,eAAeU,EAAOe,UAAW,CAACL,KAAKF,eAAeC,QAKjE,CAACA,EAAE,MAAO,CAACT,EAAOe,cAGnBZ,IAEFsB,EAAShB,EAAEd,SAAU,CACnB4B,KAAQ,UACP,CAACb,KAAKF,eAAeC,MAIrBgB,IAQXC,OAAQ,SAAgBjB,GACtB,IACIT,EADKU,KACOV,OACZW,EAFKD,KAEME,WAAWD,MAItBgB,GAFK3B,EAAO4B,OAEP5B,EAAO6B,UACZA,OAAkB,IAAPF,GAAuBA,EAGlCG,EAAO,CACT/B,MAHUV,OAAOW,EAAQ,CAAC,SAAU,cAKtC,OAAOS,EAAEjB,MAAOJ,eAAe,CAAC,GAAI0C,EAAM,CACxChB,MAAS,CACPe,SAAYA,EACZE,cAAiBlC,eACjBmC,SAAW,GAEbd,GAAM,CACJe,OAAU,WACJtB,GACFA,SAIH,CAACD,KAAKU,cAAcX,GAAIC,KAAKY,YAAYb,GAAIC,KAAKc,aAAaf,sBAGzDX,mBAhJJD"}