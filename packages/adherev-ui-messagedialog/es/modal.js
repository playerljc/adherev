import{mergeProps as _mergeProps,createVNode as _createVNode,isVNode as _isVNode}from"vue";import"core-js/modules/es.object.to-string.js";import{__rest,__spreadArray}from"tslib";import Intl from"@baifendian/adherev-util-intl";import{Button,Modal}from"ant-design-vue";import{defineComponent,onBeforeUnmount,onMounted,toRaw}from"vue";import{any,bool,func}from"vue-types";import Actions from"./actions";import Emitter from"./emitter";function _isSlot(o){return"function"==typeof o||"[object Object]"===Object.prototype.toString.call(o)&&!_isVNode(o)}var selectorPrefix="adherev-ui-messagedialog",props={config:any(),closeBtn:bool().def(!0),onClose:func()};export default defineComponent({props:props,slots:["title","footer"],setup:function(t,o){function e(){t.onClose&&t.onClose()}function n(){var o;return _createVNode(Button,{key:"close",type:t.config.footerJSX?"":"primary",title:Intl.tv("取消"),onClick:function(){t.onClose&&t.onClose()}},_isSlot(o=Intl.tv("取消"))?o:{default:function(){return[o]}})}var r=o.slots;return onMounted(function(){Emitter.on(Actions.close,e)}),onBeforeUnmount(function(){Emitter.remove(Actions.close,e)}),function(){var o=toRaw(t.config),e=(o.footer,o.centered),o=(o.title,__rest(o,["footer","centered","title"]));return console.log("other",o),_createVNode(Modal,_mergeProps(o,{centered:null==e||e,wrapClassName:selectorPrefix,onCancel:function(){t.onClose&&t.onClose()},visible:!0}),{default:function(){return null===(o=r.default)||void 0===o?void 0:o.call(r);var o},title:function(){return null===(o=r.title)||void 0===o?void 0:o.call(r);var o},footer:function(){return o=null,t.config.footerJSX?o=t.closeBtn?_createVNode("div",null,[__spreadArray(__spreadArray([],t.config.footerJSX,!0),[n()],!1)]):_createVNode("div",null,[t.config.footerJSX]):t.closeBtn&&(o=n()),o;var o}})}}});export{selectorPrefix};
//# sourceMappingURL=modal.js.map
