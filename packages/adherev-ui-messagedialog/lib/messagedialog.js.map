{"version":3,"file":"messagedialog.js","sources":["messagedialog.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar vue_1 = require(\"vue\");\n\nvar adherev_util_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-util\"));\nvar adherev_util_intl_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-util-intl\"));\nvar adherev_util_resource_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-util-resource\"));\nvar ant_design_vue_2 = (0, tslib_1.__importDefault)(require(\"@form-create/ant-design-vue\")); // import Actions from './actions';\n// import Emitter from './emitter';\n\nvar modal_1 = (0, tslib_1.__importDefault)(require(\"./modal\"));\nexports.selectorPrefix = 'adherev-ui-messagedialog';\nvar DEFAULT_LOCAL = 'zh_CN';\nvar LOCAL = adherev_util_resource_1.default.Dict.value.LocalsAntd.value; // MessageDialog的配置\n\nvar globalConfig = null;\n/**\n * renderByIcon\n * @param icon\n * @param text\n * @return React.ReactElement\n */\n\nfunction renderByIcon(_a) {\n  var _b, _c;\n\n  var icon = _a.icon,\n      text = _a.text;\n  return (0, _vue.createVNode)(\"div\", {\n    \"class\": \"\".concat(exports.selectorPrefix, \"-renderByIcon\")\n  }, [(0, _vue.createVNode)(\"div\", {\n    \"class\": \"\".concat(exports.selectorPrefix, \"-renderByIcon-fixed\")\n  }, [((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, icon)) ? icon() : icon]), (0, _vue.createVNode)(\"div\", {\n    \"class\": \"\".concat(exports.selectorPrefix, \"-renderByIcon-auto\")\n  }, [((_c = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, text)) ? text() : text])]);\n}\n\nvar MessageDialogFactory = {\n  /**\n   * Confirm\n   * @param title {String | Function}\n   * @param text {String}\n   * @param width {number}\n   * @param zIndex {number}\n   * @param icon {String | Function}\n   * @param {Function} - onSuccess\n   */\n  Confirm: function Confirm(_a) {\n    var title = _a.title,\n        _b = _a.text,\n        text = _b === void 0 ? null : _b,\n        _c = _a.width,\n        width = _c === void 0 ? 300 : _c,\n        _d = _a.zIndex,\n        zIndex = _d === void 0 ? 1000 : _d,\n        local = _a.local,\n        _e = _a.icon,\n        icon = _e === void 0 ? null : _e,\n        onSuccess = _a.onSuccess;\n    var close = this.Modal({\n      config: {\n        title: title,\n        centered: true,\n        width: width || 300,\n        closable: false,\n        zIndex: zIndex,\n        footer: function footer() {\n          var _slot;\n\n          return [(0, _vue.createVNode)(ant_design_vue_1.Button, {\n            \"key\": \"submit\",\n            \"type\": \"primary\",\n            \"title\": adherev_util_intl_1.default.tv('确定'),\n            \"onClick\": function onClick() {\n              if (onSuccess) {\n                onSuccess().then(function () {\n                  // Emitter.trigger(Actions.close, el);\n                  close();\n                });\n              } else {\n                // Emitter.trigger(Actions.close, el);\n                close();\n              }\n            }\n          }, _isSlot(_slot = adherev_util_intl_1.default.tv('确定')) ? _slot : {\n            default: function _default() {\n              return [_slot];\n            }\n          })];\n        }\n      },\n      local: local,\n      children: icon ? function () {\n        return renderByIcon({\n          icon: icon,\n          text: text\n        });\n      } : function () {\n        var _a;\n\n        return ((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, text)) ? text() : text;\n      }\n    }).close;\n  },\n\n  /**\n   * Prompt\n   * @param title\n   * @param config\n   * @param layout\n   * @param width\n   * @param zIndex\n   * @param local\n   * @param onSuccess\n   * @constructor\n   */\n  Prompt: function Prompt(_a) {\n    var title = _a.title,\n        config = _a.config,\n        _b = _a.width,\n        width = _b === void 0 ? 300 : _b,\n        _c = _a.zIndex,\n        zIndex = _c === void 0 ? 1000 : _c,\n        local = _a.local,\n        onSuccess = _a.onSuccess;\n\n    if (config.option) {\n      config.option.submitBtn = false;\n      config.option.resetBtn = false;\n    }\n\n    var _d = this.Modal({\n      config: {\n        title: title,\n        centered: true,\n        width: width || 300,\n        closable: false,\n        zIndex: zIndex,\n        footer: function footer() {\n          var _slot2;\n\n          return [(0, _vue.createVNode)(ant_design_vue_1.Button, {\n            \"key\": \"submit\",\n            \"type\": \"primary\",\n            \"title\": adherev_util_intl_1.default.tv('确定'),\n            \"onClick\": function onClick() {\n              if (onSuccess) {\n                var fApi_1 = rootRef.value.fApi; //vm?.$refs?.formRef?.fApi;\n\n                fApi_1.validate(function (valid) {\n                  if (valid) {\n                    onSuccess(fApi_1.getValue(config.rule[0].field)).then(function () {\n                      // Emitter.trigger(Actions.close, el);\n                      close();\n                    });\n                  }\n                });\n              } else {\n                // Emitter.trigger(Actions.close, el);\n                close();\n              }\n            }\n          }, _isSlot(_slot2 = adherev_util_intl_1.default.tv('确定')) ? _slot2 : {\n            default: function _default() {\n              return [_slot2];\n            }\n          })];\n        }\n      },\n      local: local,\n      children: {\n        template: \"\\n          <form-create\\n            v-model:api=\\\"fApi\\\"\\n            :rule=\\\"rule\\\"\\n            :option=\\\"option\\\"\\n          ></form-create>\\n        \",\n        data: function data() {\n          return {\n            fApi: {},\n            rule: config.rule || [{\n              type: 'input',\n              field: 'prompt',\n              title: '输入框',\n              info: '',\n              _fc_drag_tag: 'input',\n              hidden: false,\n              display: true,\n              value: '',\n              wrap: {\n                labelCol: {\n                  span: 4\n                },\n                wrapperCol: {\n                  span: 20\n                }\n              }\n            }],\n            option: config.option || {\n              form: {\n                labelPosition: 'right',\n                size: 'mini',\n                labelWidth: '125px',\n                hideRequiredAsterisk: false,\n                showMessage: true,\n                inlineMessage: false,\n                submitBtn: false,\n                resetBtn: false\n              }\n            }\n          };\n        }\n      }\n    }),\n\n    /*vm,*/\n    rootRef = _d.rootRef,\n        close = _d.close;\n  },\n\n  /**\n   * InputPrompt\n   * @param config\n   * @param params\n   * @constructor\n   */\n  InputPrompt: function InputPrompt(_a) {\n    var config = _a.config,\n        params = (0, tslib_1.__rest)(_a, [\"config\"]);\n    config.rule[0].type = 'input';\n    config.rule[0]._fc_drag_tag = 'input';\n    config.rule[0].field = 'prompt';\n    MessageDialogFactory.Prompt((0, tslib_1.__assign)((0, tslib_1.__assign)({}, params), {\n      config: (0, tslib_1.__assign)({}, config)\n    }));\n  },\n\n  /**\n   * TextAreaPrompt\n   * @param config\n   * @param params\n   * @constructor\n   */\n  TextAreaPrompt: function TextAreaPrompt(_a) {\n    var config = _a.config,\n        params = (0, tslib_1.__rest)(_a, [\"config\"]);\n    config.rule[0].type = 'input';\n    config.rule[0]._fc_drag_tag = 'input';\n    config.rule[0].field = 'prompt';\n    config.rule[0].props = {\n      type: 'textarea'\n    };\n    MessageDialogFactory.Prompt((0, tslib_1.__assign)((0, tslib_1.__assign)({}, params), {\n      config: (0, tslib_1.__assign)({}, config)\n    }));\n  },\n\n  /**\n   * PassWordPrompt\n   * @param config\n   * @param params\n   * @constructor\n   */\n  PassWordPrompt: function PassWordPrompt(_a) {\n    var config = _a.config,\n        params = (0, tslib_1.__rest)(_a, [\"config\"]);\n    config.rule[0].type = 'input';\n    config.rule[0]._fc_drag_tag = 'input';\n    config.rule[0].field = 'prompt';\n    config.rule[0].props = {\n      type: 'password'\n    };\n    MessageDialogFactory.Prompt((0, tslib_1.__assign)((0, tslib_1.__assign)({}, params), {\n      config: (0, tslib_1.__assign)({}, config)\n    }));\n  },\n\n  /**\n   * NumberPrompt\n   * @param config\n   * @param params\n   * @constructor\n   */\n  NumberPrompt: function NumberPrompt(_a) {\n    var config = _a.config,\n        params = (0, tslib_1.__rest)(_a, [\"config\"]);\n    config.rule[0].type = 'input';\n    config.rule[0]._fc_drag_tag = 'input';\n    config.rule[0].field = 'prompt';\n    config.rule[0].props = {\n      type: 'number'\n    };\n    MessageDialogFactory.Prompt((0, tslib_1.__assign)((0, tslib_1.__assign)({}, params), {\n      config: (0, tslib_1.__assign)({}, config)\n    }));\n  },\n\n  /**\n   * Alert\n   * @param title - {String | Function}\n   * @param text - {String | Function}\n   * @param width - {number}\n   * @param local\n   * @param zIndex\n   * @param icon - {Function}\n   */\n  Alert: function Alert(_a) {\n    var title = _a.title,\n        _b = _a.text,\n        text = _b === void 0 ? null : _b,\n        _c = _a.width,\n        width = _c === void 0 ? 300 : _c,\n        _d = _a.zIndex,\n        zIndex = _d === void 0 ? 1000 : _d,\n        local = _a.local,\n        icon = _a.icon;\n    this.Modal({\n      config: {\n        title: title,\n        centered: true,\n        width: width || 300,\n        closable: false,\n        zIndex: zIndex\n      },\n      local: local,\n      children: icon ? function () {\n        return renderByIcon({\n          icon: icon,\n          text: text\n        });\n      } : function () {\n        var _a;\n\n        return ((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, text)) ? text() : text;\n      }\n    });\n  },\n\n  /**\n   *  Modal\n   *  @param {Object} - config\n   *  @param {String | Function} - title\n   *  @param {Boolean} - maskClosable 是否点击遮罩关闭 默认是false\n   *  @param {Number} - zIndex 层级大小\n   *  @param {String} - class 容器类名\n   *  @param {String} - wrapclass 包裹容器类名\n   *  @param {Boolean} - centered 垂直居中展示 Modal 默认false\n   *  @param {String | Number} - width 宽度\n   *  @param {Boolean} - closable 是否显示关闭 默认true\n   *  @param {Function} - footer\n   *  @param {Function} - children\n   *  @param defaultCloneBtn\n   */\n  Modal: function Modal(_a) {\n    var _b, _c;\n\n    var _d = _a.config,\n        config = _d === void 0 ? {} : _d,\n        _e = _a.children,\n        children = _e === void 0 ? Function : _e,\n        _f = _a.defaultCloneBtn,\n        defaultCloneBtn = _f === void 0 ? true : _f,\n        _g = _a.local,\n        local = _g === void 0 ? DEFAULT_LOCAL : _g;\n    /**\n     * renderDefault\n     * @param children\n     * @param rootRef\n     */\n\n    function renderDefault(children, rootRef) {\n      var _a, _b, _c;\n\n      if (!((_a = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isEmpty) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, children))) {\n        // 如果是jsx\n        if ((_b = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isFunction) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, children)) {\n          return children(); //h(children(), { ref: rootRef });\n        } // 如果是组件\n\n\n        if ((_c = adherev_util_1.default === null || adherev_util_1.default === void 0 ? void 0 : adherev_util_1.default.isObject) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, children)) {\n          return (0, vue_1.h)(children, {\n            ref: rootRef\n          });\n        }\n      }\n\n      return null;\n    }\n    /**\n     * renderTitle\n     * @param title\n     */\n\n\n    function renderTitle(title) {\n      var _a, _b, _c;\n\n      if (!((_a = adherev_util_1.default.isEmpty) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, title))) {\n        // 如果是jsx\n        if ((_b = adherev_util_1.default.isFunction) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, title)) {\n          return title();\n        } // 如果是组件\n\n\n        if ((_c = adherev_util_1.default.isObject) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, title)) {\n          return (0, vue_1.h)('div', {}, [(0, vue_1.h)(title)]);\n        }\n      }\n\n      return title;\n    }\n    /**\n     * renderFooter\n     * @param config\n     */\n\n\n    function renderFooter(config) {\n      var _a, _b, _c;\n\n      if (!((_a = adherev_util_1.default.isEmpty) === null || _a === void 0 ? void 0 : _a.call(adherev_util_1.default, config.footer))) {\n        if ((_b = adherev_util_1.default.isFunction) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, config.footer)) {\n          return config.footer();\n        }\n\n        if ((_c = adherev_util_1.default.isObject) === null || _c === void 0 ? void 0 : _c.call(adherev_util_1.default, config.footer)) {\n          return (0, vue_1.h)(config.footer);\n        }\n      }\n\n      return null;\n    }\n    /**\n     * close\n     */\n\n\n    function close() {\n      var _a;\n\n      try {\n        app === null || app === void 0 ? void 0 : app.unmount();\n      } catch (err) {\n        (_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(el);\n      }\n    }\n\n    var _title = config.title,\n        others = (0, tslib_1.__rest)(config, [\"title\"]);\n    var modalConfig = (0, tslib_1.__assign)({\n      maskClosable: false\n    }, others);\n\n    if ((_b = adherev_util_1.default.isString) === null || _b === void 0 ? void 0 : _b.call(adherev_util_1.default, _title)) {\n      modalConfig.title = _title;\n    }\n\n    var el = document.createElement('div');\n    var i18n = (0, adherev_util_intl_1.default)({\n      I18nOptions: {\n        // @ts-ignore\n        messages: (globalConfig || {}).messages,\n        locale: local || DEFAULT_LOCAL,\n        globalInjection: true,\n        legacy: false\n      },\n      prefix: 'local'\n    });\n    var rootRef;\n    var app = (0, vue_1.createApp)({\n      setup: function setup() {\n        rootRef = (0, vue_1.ref)();\n        return function () {\n          var footerJSX = renderFooter(config);\n\n          if (footerJSX) {\n            modalConfig.footerJSX = footerJSX;\n          }\n\n          return (0, _vue.createVNode)(ant_design_vue_1.ConfigProvider, {\n            \"locale\": LOCAL[local || DEFAULT_LOCAL]\n          }, {\n            default: function _default() {\n              return [(0, _vue.createVNode)(modal_1.default, {\n                \"config\": modalConfig,\n                \"closeBtn\": defaultCloneBtn,\n                \"onClose\": function onClose() {\n                  close();\n                }\n              }, {\n                default: function _default() {\n                  return renderDefault(children, rootRef);\n                },\n                title: function title() {\n                  return renderTitle(_title);\n                }\n              })];\n            }\n          });\n        };\n      }\n    }); // Button, ConfigProvider, Form, FormItem, Row, Col, Slider, Input\n\n    app.use(ant_design_vue_1.ConfigProvider).use(ant_design_vue_1.Button).use(ant_design_vue_1.Form).use(ant_design_vue_1.Row).use(ant_design_vue_1.Col).use(ant_design_vue_1.Slider).use(ant_design_vue_1.Col).use(ant_design_vue_1.Input).use(i18n).use(ant_design_vue_2.default); // @ts-ignore\n\n    adherev_util_intl_1.default.use(app); // globalConfig?.useComponents?.forEach?.((com) => {\n    //   if ('use' in com && Util.isFunction?.(com.use)) {\n    //     com.use(app);\n    //   } else {\n    //     app.use(com);\n    //   }\n    // });\n\n    (_c = globalConfig === null || globalConfig === void 0 ? void 0 : globalConfig.beforeMount) === null || _c === void 0 ? void 0 : _c.call(globalConfig, app);\n    app.mount(el);\n    document.body.appendChild(el);\n    return {\n      el: el,\n      vm: app,\n      rootRef: rootRef,\n      close: close\n    };\n  },\n\n  /**\n   * close\n   * @param app\n   * @param el\n   */\n  close: function close(_a) {\n    var _b;\n\n    var app = _a.app,\n        el = _a.el; // Emitter.trigger(Actions.close, el);\n\n    try {\n      app === null || app === void 0 ? void 0 : app.unmount();\n    } catch (err) {\n      (_b = el === null || el === void 0 ? void 0 : el.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(el);\n    }\n  },\n  setConfig: function setConfig(gc) {\n    globalConfig = gc;\n  }\n};\nexports.default = MessageDialogFactory;"],"names":["require","_vue","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","selectorPrefix","tslib_1","ant_design_vue_1","vue_1","adherev_util_1","__importDefault","adherev_util_intl_1","adherev_util_resource_1","ant_design_vue_2","modal_1","DEFAULT_LOCAL","LOCAL","default","Dict","LocalsAntd","globalConfig","renderByIcon","_a","_c","icon","text","createVNode","class","concat","_b","isFunction","MessageDialogFactory","Confirm","title","width","_d","zIndex","local","_e","onSuccess","close","this","Modal","config","centered","closable","footer","_slot","Button","key","type","tv","onClick","then","children","Prompt","option","submitBtn","resetBtn","_slot2","fApi_1","rootRef","fApi","validate","valid","getValue","rule","field","template","data","info","_fc_drag_tag","hidden","display","wrap","labelCol","span","wrapperCol","form","labelPosition","size","labelWidth","hideRequiredAsterisk","showMessage","inlineMessage","InputPrompt","params","__rest","__assign","TextAreaPrompt","props","PassWordPrompt","NumberPrompt","Alert","Function","_f","defaultCloneBtn","_g","app","unmount","err","el","parentElement","removeChild","_title","others","modalConfig","maskClosable","isString","document","createElement","i18n","I18nOptions","messages","locale","globalInjection","legacy","prefix","createApp","setup","ref","footerJSX","isEmpty","isObject","h","renderFooter","ConfigProvider","closeBtn","onClose","renderDefault","renderTitle","use","Form","Row","Col","Slider","Input","beforeMount","mount","body","appendChild","vm","setConfig","gc"],"mappings":"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"}