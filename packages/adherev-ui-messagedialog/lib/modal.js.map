{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _babelHelperVueJsxMergeProps = _interopRequireDefault(require(\"@vue/babel-helper-vue-jsx-merge-props\"));\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\n\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\n\nvar ant_design_vue_1 = require(\"ant-design-vue\"); // import Actions from './actions';\n// import Emitter from './emitter';\n\n\nvar Fragment = adherev_util_1.default._util.Fragment;\nexports.selectorPrefix = 'adherev-ui-messagedialog';\nexports.default = {\n  props: {\n    config: {\n      type: Object\n    },\n    closeBtn: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  // mounted() {\n  //   Emitter.on(Actions.close, this.onEmitterClose);\n  // },\n  // beforeDestroy() {\n  //   Emitter.remove(Actions.close, this.onEmitterClose);\n  // },\n  methods: {\n    // onEmitterClose() {\n    //   const {\n    //     $listeners: { close },\n    //   } = this;\n    //   if (close) {\n    //     close();\n    //   }\n    // },\n\n    /**\n     * renderCloseBtn\n     * @param h\n     */\n    renderCloseBtn: function renderCloseBtn(h) {\n      var _a = this,\n          config = _a.config,\n          close = _a.$listeners.close;\n\n      return h(ant_design_vue_1.Button, {\n        \"key\": \"close\",\n        \"attrs\": {\n          \"type\": !config.footerJSX ? 'primary' : '',\n          \"title\": adherev_util_intl_1.default.tv('取消')\n        },\n        \"on\": {\n          \"click\": function click() {\n            if (close) {\n              close();\n            }\n          }\n        }\n      }, [adherev_util_intl_1.default.tv('取消')]);\n    },\n\n    /**\n     * renderDefault\n     * @param h\n     */\n    renderDefault: function renderDefault(h) {\n      var $slots = this.$slots;\n      return $slots.default ? $slots.default : null;\n    },\n\n    /**\n     * renderTitle\n     * @param h\n     */\n    renderTitle: function renderTitle(h) {\n      var $slots = this.$slots;\n      return $slots.title ? // @ts-ignore\n      h(Fragment, {\n        \"slot\": \"title\"\n      }, [$slots.title]) : null;\n    },\n\n    /**\n     * renderFooter\n     * @param h\n     */\n    renderFooter: function renderFooter(h) {\n      var _a = this,\n          config = _a.config,\n          closeBtn = _a.closeBtn;\n\n      var result = null;\n\n      if (config.footerJSX) {\n        if (closeBtn) {\n          result = // @ts-ignore\n          h(Fragment, {\n            \"slot\": \"footer\"\n          }, [h(\"div\", [tslib_1.__spreadArrays(config.footerJSX, [this.renderCloseBtn(h)])])]);\n        } else {\n          result = // @ts-ignore\n          h(Fragment, {\n            \"slot\": \"footer\"\n          }, [h(\"div\", [config.footerJSX])]);\n        }\n      } else {\n        if (closeBtn) {\n          // @ts-ignore\n          result = h(Fragment, {\n            \"slot\": \"footer\"\n          }, [this.renderCloseBtn(h)]);\n        }\n      }\n\n      return result;\n    }\n  },\n\n  /**\n   * render\n   * @param h\n   */\n  render: function render(h) {\n    var _a = this,\n        config = _a.config,\n        close = _a.$listeners.close;\n\n    var _b = config.footer,\n        footer = _b === void 0 ? [] : _b,\n        _c = config.centered,\n        centered = _c === void 0 ? true : _c,\n        other = tslib_1.__rest(config, [\"footer\", \"centered\"]);\n\n    var data = {\n      props: other\n    };\n    return h(ant_design_vue_1.Modal, (0, _babelHelperVueJsxMergeProps.default)([{}, data, {\n      \"attrs\": {\n        \"centered\": centered,\n        \"wrapClassName\": exports.selectorPrefix,\n        \"visible\": true\n      },\n      \"on\": {\n        \"cancel\": function cancel() {\n          if (close) {\n            close();\n          }\n        }\n      }\n    }]), [this.renderDefault(h), this.renderTitle(h), this.renderFooter(h)]);\n  }\n};"],"names":["_interopRequireDefault","require","_babelHelperVueJsxMergeProps","Object","defineProperty","exports","value","selectorPrefix","tslib_1","adherev_util_1","__importDefault","adherev_util_intl_1","ant_design_vue_1","Fragment","default","_util","props","config","type","closeBtn","Boolean","required","methods","renderCloseBtn","h","this","close","$listeners","Button","key","attrs","footerJSX","title","tv","on","click","renderDefault","$slots","renderTitle","slot","renderFooter","result","__spreadArrays","render","_c","footer","centered","other","__rest","Modal","wrapClassName","visible","cancel"],"mappings":"aAEA,IAAIA,uBAAyBC,QAAQ,gDAEjCC,6BAA+BF,uBAAuBC,QAAQ,0CAElEA,QAAQ,gDAERE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,oBAAiB,EAEzB,IAAIC,QAAUP,QAAQ,SAElBQ,eAAiBD,QAAQE,gBAAgBT,QAAQ,6BAEjDU,oBAAsBH,QAAQE,gBAAgBT,QAAQ,kCAEtDW,iBAAmBX,QAAQ,kBAI3BY,SAAWJ,eAAeK,QAAQC,MAAMF,SAC5CR,QAAQE,eAAiB,2BACzBF,QAAQS,QAAU,CAChBE,MAAO,CACLC,OAAQ,CACNC,KAAMf,QAERgB,SAAU,CACRD,KAAME,QACNC,UAAU,EACVP,SAAS,IASbQ,QAAS,CAcPC,eAAgB,SAAwBC,GACtC,IACIP,EADKQ,KACOR,OACZS,EAFKD,KAEME,WAAWD,MAE1B,OAAOF,EAAEZ,iBAAiBgB,OAAQ,CAChCC,IAAO,QACPC,MAAS,CACPZ,KAASD,EAAOc,UAAwB,GAAZ,UAC5BC,MAASrB,oBAAoBG,QAAQmB,GAAG,OAE1CC,GAAM,CACJC,MAAS,WACHT,GACFA,OAIL,CAACf,oBAAoBG,QAAQmB,GAAG,SAOrCG,cAAe,SAAuBZ,GACpC,IAAIa,EAASZ,KAAKY,OAClB,OAAOA,EAAOvB,SAA2B,MAO3CwB,YAAa,SAAqBd,GAChC,IAAIa,EAASZ,KAAKY,OAClB,OAAOA,EAAOL,MACdR,EAAEX,SAAU,CACV0B,KAAQ,SACP,CAACF,EAAOL,QAAU,MAOvBQ,aAAc,SAAsBhB,GAClC,IACIP,EADKQ,KACOR,OACZE,EAFKM,KAESN,SAEdsB,EAAS,KAuBb,OArBIxB,EAAOc,UAEPU,EACAjB,EAAEX,SAAU,CACV0B,KAAQ,UAHRpB,EAIC,CAACK,EAAE,MAAO,CAAChB,QAAQkC,eAAezB,EAAOc,UAAW,CAACN,KAAKF,eAAeC,QAKzE,CAACA,EAAE,MAAO,CAACP,EAAOc,cAGnBZ,IAEFsB,EAASjB,EAAEX,SAAU,CACnB0B,KAAQ,UACP,CAACd,KAAKF,eAAeC,MAIrBiB,IAQXE,OAAQ,SAAgBnB,GACtB,IACIP,EADKQ,KACOR,OACZS,EAFKD,KAEME,WAAWD,MAItBkB,GAFK3B,EAAO4B,OAEP5B,EAAO6B,UACZA,OAAkB,IAAPF,GAAuBA,EAClCG,EAAQvC,QAAQwC,OAAO/B,EAAQ,CAAC,SAAU,aAK9C,OAAOO,EAAEZ,iBAAiBqC,OAAO,EAAI/C,6BAA6BY,SAAS,CAAC,GAHjE,CACTE,MAAO+B,GAE6E,CACpFjB,MAAS,CACPgB,SAAYA,EACZI,cAAiB7C,QAAQE,eACzB4C,SAAW,GAEbjB,GAAM,CACJkB,OAAU,WACJ1B,GACFA,SAIH,CAACD,KAAKW,cAAcZ,GAAIC,KAAKa,YAAYd,GAAIC,KAAKe,aAAahB"}