{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar adherev_util_intl_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-util-intl\"));\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar vue_1 = require(\"vue\");\n\nvar vue_types_1 = require(\"vue-types\");\n\nvar actions_1 = (0, tslib_1.__importDefault)(require(\"./actions\"));\nvar emitter_1 = (0, tslib_1.__importDefault)(require(\"./emitter\"));\nexports.selectorPrefix = 'adherev-ui-messagedialog';\nvar props = {\n  config: (0, vue_types_1.any)(),\n  closeBtn: (0, vue_types_1.bool)().def(true),\n  onClose: (0, vue_types_1.func)()\n};\nexports.default = (0, vue_1.defineComponent)({\n  props: props,\n  slots: ['title', 'footer'],\n  setup: function setup(props, _a) {\n    var slots = _a.slots;\n\n    var onEmitterClose = function onEmitterClose() {\n      if (!!props.onClose) {\n        props.onClose();\n      }\n    };\n\n    var renderCloseBtn = function renderCloseBtn() {\n      var _slot;\n\n      return (// @ts-ignore\n        (0, _vue.createVNode)(ant_design_vue_1.Button, {\n          \"key\": \"close\",\n          \"type\": !props.config.footerJSX ? 'primary' : '',\n          \"title\": adherev_util_intl_1.default.tv('取消'),\n          \"onClick\": function onClick() {\n            if (!!props.onClose) {\n              props.onClose();\n            }\n          }\n        }, _isSlot(_slot = adherev_util_intl_1.default.tv('取消')) ? _slot : {\n          default: function _default() {\n            return [_slot];\n          }\n        })\n      );\n    };\n\n    var renderDefault = function renderDefault() {\n      var _a;\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderTitle = function renderTitle() {\n      var _a;\n\n      return (_a = slots.title) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderFooter = function renderFooter() {\n      var result = null;\n\n      if (props.config.footerJSX) {\n        if (props.closeBtn) {\n          result = (0, _vue.createVNode)(\"div\", null, [(0, tslib_1.__spreadArray)((0, tslib_1.__spreadArray)([], props.config.footerJSX, true), [renderCloseBtn()], false)]);\n        } else {\n          result = (0, _vue.createVNode)(\"div\", null, [props.config.footerJSX]);\n        }\n      } else {\n        if (props.closeBtn) {\n          result = renderCloseBtn();\n        }\n      }\n\n      return result;\n    };\n\n    (0, vue_1.onMounted)(function () {\n      emitter_1.default.on(actions_1.default.close, onEmitterClose);\n    });\n    (0, vue_1.onBeforeUnmount)(function () {\n      emitter_1.default.remove(actions_1.default.close, onEmitterClose);\n    });\n    return function () {\n      var _a = (0, vue_1.toRaw)(props.config),\n          footer = _a.footer,\n          centered = _a.centered,\n          title = _a.title,\n          other = (0, tslib_1.__rest)(_a, [\"footer\", \"centered\", \"title\"]);\n\n      console.log('other', other);\n      return (// @ts-ignore\n        (0, _vue.createVNode)(ant_design_vue_1.Modal, (0, _vue.mergeProps)(other, {\n          \"centered\": centered === undefined || centered === null ? true : centered,\n          \"wrapClassName\": exports.selectorPrefix,\n          \"onCancel\": function onCancel() {\n            if (!!props.onClose) {\n              props.onClose();\n            }\n          },\n          \"visible\": true\n        }), {\n          default: function _default() {\n            return renderDefault();\n          },\n          title: function title() {\n            return renderTitle();\n          },\n          footer: function footer() {\n            return renderFooter();\n          }\n        })\n      );\n    };\n  }\n});"],"names":["require","_vue","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","selectorPrefix","tslib_1","adherev_util_intl_1","__importDefault","ant_design_vue_1","vue_1","vue_types_1","actions_1","emitter_1","props","config","any","closeBtn","bool","def","onClose","func","default","defineComponent","slots","setup","_a","onEmitterClose","renderCloseBtn","_slot","createVNode","Button","key","type","footerJSX","title","tv","onClick","onMounted","on","close","onBeforeUnmount","remove","toRaw","centered","footer","other","__rest","console","log","Modal","mergeProps","wrapClassName","onCancel","visible","result","__spreadArray"],"mappings":"aAEAA,QAAQ,0CAER,IAAIC,KAAOD,QAAQ,OAInB,SAASE,QAAQC,GACf,MAAoB,mBAANA,GAA0D,oBAAtCC,OAAOC,UAAUC,SAASC,KAAKJ,MAA6B,EAAIF,KAAKO,SAASL,GAHlHH,QAAQ,gDAMRI,OAAOK,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,oBAAiB,EAEzB,IAAIC,QAAUb,QAAQ,SAElBc,qBAAsB,EAAID,QAAQE,iBAAiBf,QAAQ,kCAE3DgB,iBAAmBhB,QAAQ,kBAE3BiB,MAAQjB,QAAQ,OAEhBkB,YAAclB,QAAQ,aAEtBmB,WAAY,EAAIN,QAAQE,iBAAiBf,QAAQ,cACjDoB,WAAY,EAAIP,QAAQE,iBAAiBf,QAAQ,cAEjDqB,OADJX,QAAQE,eAAiB,2BACb,CACVU,QAAQ,EAAIJ,YAAYK,OACxBC,UAAU,EAAIN,YAAYO,QAAQC,KAAI,GACtCC,SAAS,EAAIT,YAAYU,UAE3BlB,QAAQmB,SAAU,EAAIZ,MAAMa,iBAAiB,CAC3CT,MAAOA,MACPU,MAAO,CAAC,QAAS,UACjBC,MAAO,SAAeX,EAAOY,GAGN,SAAjBC,IACIb,EAAMM,SACVN,EAAMM,UAIW,SAAjBQ,IACF,IAAIC,EAEJ,OACE,EAAInC,KAAKoC,aAAarB,iBAAiBsB,OAAQ,CAC7CC,IAAO,QACPC,KAASnB,EAAMC,OAAOmB,UAAwB,GAAZ,UAClCC,MAAS5B,oBAAoBe,QAAQc,GAAG,MACxCC,QAAW,WACHvB,EAAMM,SACVN,EAAMM,YAGTzB,QAAQkC,EAAQtB,oBAAoBe,QAAQc,GAAG,OAASP,EAAQ,CACjEP,QAAS,WACP,MAAO,CAACO,MAvBhB,IAAIL,EAAQE,EAAGF,MAiEf,OANA,EAAId,MAAM4B,WAAW,WACnBzB,UAAUS,QAAQiB,GAAG3B,UAAUU,QAAQkB,MAAOb,MAEhD,EAAIjB,MAAM+B,iBAAiB,WACzB5B,UAAUS,QAAQoB,OAAO9B,UAAUU,QAAQkB,MAAOb,KAE7C,WACL,IAAID,GAAK,EAAIhB,MAAMiC,OAAO7B,EAAMC,QAE5B6B,GADSlB,EAAGmB,OACDnB,EAAGkB,UAEdE,GADQpB,EAAGS,OACH,EAAI7B,QAAQyC,QAAQrB,EAAI,CAAC,SAAU,WAAY,WAG3D,OADAsB,QAAQC,IAAI,QAASH,IAEnB,EAAIpD,KAAKoC,aAAarB,iBAAiByC,OAAO,EAAIxD,KAAKyD,YAAYL,EAAO,CACxEF,SAAYA,MAAAA,GAAqDA,EACjEQ,cAAiBjD,QAAQE,eACzBgD,SAAY,WACJvC,EAAMM,SACVN,EAAMM,WAGVkC,SAAW,IACT,CACFhC,QAAS,WACP,OArD0B,QAAxBI,EAAKF,EAAMF,eAA4B,IAAPI,OAAgB,EAASA,EAAG1B,KAAKwB,GAHvD,IACdE,GAyDAS,MAAO,WACL,OAlDwB,QAAtBT,EAAKF,EAAMW,aAA0B,IAAPT,OAAgB,EAASA,EAAG1B,KAAKwB,GAHvD,IACZE,GAsDAmB,OAAQ,WACN,OAjDFU,EAAS,KAETzC,EAAMC,OAAOmB,UAEbqB,EADEzC,EAAMG,UACC,EAAIvB,KAAKoC,aAAa,MAAO,KAAM,EAAC,EAAIxB,QAAQkD,gBAAe,EAAIlD,QAAQkD,eAAe,GAAI1C,EAAMC,OAAOmB,WAAW,GAAO,CAACN,MAAmB,MAEjJ,EAAIlC,KAAKoC,aAAa,MAAO,KAAM,CAAChB,EAAMC,OAAOmB,YAGxDpB,EAAMG,WACRsC,EAAS3B,KAIN2B,EAfU,IACbA"}