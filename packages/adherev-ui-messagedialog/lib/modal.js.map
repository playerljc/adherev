{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nvar _vue = require(\"vue\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !(0, _vue.isVNode)(s);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar vue_1 = require(\"vue\");\n\nvar vue_types_1 = require(\"vue-types\");\n\nvar adherev_util_intl_1 = (0, tslib_1.__importDefault)(require(\"@baifendian/adherev-util-intl\"));\nexports.selectorPrefix = 'adherev-ui-messagedialog';\nvar props = {\n  config: (0, vue_types_1.any)(),\n  closeBtn: (0, vue_types_1.bool)().def(true),\n  onClose: (0, vue_types_1.func)()\n};\nexports.default = (0, vue_1.defineComponent)({\n  props: props,\n  slots: ['title', 'footer'],\n  setup: function setup(props, _a) {\n    // const onEmitterClose = () => {\n    //   if (!!props.onClose) {\n    //     props.onClose();\n    //   }\n    // };\n    var slots = _a.slots;\n\n    var renderCloseBtn = function renderCloseBtn() {\n      var _slot;\n\n      return (0, _vue.createVNode)(ant_design_vue_1.Button, {\n        \"key\": \"close\",\n        \"type\": !props.config.footerJSX ? 'primary' : undefined,\n        \"title\": adherev_util_intl_1.default.tv('取消'),\n        \"onClick\": function onClick() {\n          if (!!props.onClose) {\n            props.onClose();\n          }\n        }\n      }, _isSlot(_slot = adherev_util_intl_1.default.tv('取消')) ? _slot : {\n        default: function _default() {\n          return [_slot];\n        }\n      });\n    };\n\n    var renderDefault = function renderDefault() {\n      var _a;\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderTitle = function renderTitle() {\n      var _a;\n\n      return (_a = slots.title) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n\n    var renderFooter = function renderFooter() {\n      var result = null;\n\n      if (props.config.footerJSX) {\n        if (props.closeBtn) {\n          result = (0, _vue.createVNode)(\"div\", null, [(0, tslib_1.__spreadArray)((0, tslib_1.__spreadArray)([], props.config.footerJSX, true), [renderCloseBtn()], false)]);\n        } else {\n          result = (0, _vue.createVNode)(\"div\", null, [props.config.footerJSX]);\n        }\n      } else {\n        if (props.closeBtn) {\n          result = renderCloseBtn();\n        }\n      }\n\n      return result;\n    }; // onMounted(() => {\n    //   Emitter.on(Actions.close, onEmitterClose);\n    // });\n    // onBeforeUnmount(() => {\n    //   Emitter.remove(Actions.close, onEmitterClose);\n    // });\n\n\n    return function () {\n      var _a = (0, vue_1.toRaw)(props.config),\n          footer = _a.footer,\n          centered = _a.centered,\n          title = _a.title,\n          other = (0, tslib_1.__rest)(_a, [\"footer\", \"centered\", \"title\"]);\n\n      return (0, _vue.createVNode)(ant_design_vue_1.Modal, (0, _vue.mergeProps)(other, {\n        \"centered\": centered === undefined || centered === null ? true : centered,\n        \"wrapClassName\": exports.selectorPrefix,\n        \"onCancel\": function onCancel() {\n          if (!!props.onClose) {\n            props.onClose();\n          }\n        },\n        \"visible\": true\n      }), {\n        default: function _default() {\n          return renderDefault();\n        },\n        title: function title() {\n          return renderTitle();\n        },\n        footer: function footer() {\n          return renderFooter();\n        }\n      });\n    };\n  }\n});"],"names":["require","_vue","_isSlot","s","Object","prototype","toString","call","isVNode","defineProperty","exports","value","selectorPrefix","tslib_1","ant_design_vue_1","vue_1","vue_types_1","adherev_util_intl_1","__importDefault","props","config","any","closeBtn","bool","def","onClose","func","default","defineComponent","slots","setup","_a","renderCloseBtn","_slot","createVNode","Button","key","type","footerJSX","undefined","title","tv","onClick","toRaw","centered","footer","other","__rest","Modal","mergeProps","wrapClassName","onCancel","visible","result","__spreadArray"],"mappings":"aAEAA,QAAQ,0CAER,IAAIC,KAAOD,QAAQ,OAInB,SAASE,QAAQC,GACf,MAAoB,mBAANA,GAA0D,oBAAtCC,OAAOC,UAAUC,SAASC,KAAKJ,MAA6B,EAAIF,KAAKO,SAASL,GAHlHH,QAAQ,gDAMRI,OAAOK,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,oBAAiB,EAEzB,IAAIC,QAAUb,QAAQ,SAElBc,iBAAmBd,QAAQ,kBAE3Be,MAAQf,QAAQ,OAEhBgB,YAAchB,QAAQ,aAEtBiB,qBAAsB,EAAIJ,QAAQK,iBAAiBlB,QAAQ,kCAE3DmB,OADJT,QAAQE,eAAiB,2BACb,CACVQ,QAAQ,EAAIJ,YAAYK,OACxBC,UAAU,EAAIN,YAAYO,QAAQC,KAAI,GACtCC,SAAS,EAAIT,YAAYU,UAE3BhB,QAAQiB,SAAU,EAAIZ,MAAMa,iBAAiB,CAC3CT,MAAOA,MACPU,MAAO,CAAC,QAAS,UACjBC,MAAO,SAAeX,EAAOY,GAQN,SAAjBC,IACF,IAAIC,EAEJ,OAAO,EAAIhC,KAAKiC,aAAapB,iBAAiBqB,OAAQ,CACpDC,IAAO,QACPC,KAASlB,EAAMC,OAAOkB,eAAwBC,EAAZ,UAClCC,MAASvB,oBAAoBU,QAAQc,GAAG,MACxCC,QAAW,WACHvB,EAAMM,SACVN,EAAMM,YAGTvB,QAAQ+B,EAAQhB,oBAAoBU,QAAQc,GAAG,OAASR,EAAQ,CACjEN,QAAS,WACP,MAAO,CAACM,MAhBd,IAAIJ,EAAQE,EAAGF,MAyDf,OAAO,WACL,IAAIE,GAAK,EAAIhB,MAAM4B,OAAOxB,EAAMC,QAE5BwB,GADSb,EAAGc,OACDd,EAAGa,UAEdE,GADQf,EAAGS,OACH,EAAI3B,QAAQkC,QAAQhB,EAAI,CAAC,SAAU,WAAY,WAE3D,OAAO,EAAI9B,KAAKiC,aAAapB,iBAAiBkC,OAAO,EAAI/C,KAAKgD,YAAYH,EAAO,CAC/EF,SAAYA,MAAAA,GAAqDA,EACjEM,cAAiBxC,QAAQE,eACzBuC,SAAY,WACJhC,EAAMM,SACVN,EAAMM,WAGV2B,SAAW,IACT,CACFzB,QAAS,WACP,OAnD4B,QAAxBI,EAAKF,EAAMF,eAA4B,IAAPI,OAAgB,EAASA,EAAGxB,KAAKsB,GAHvD,IACdE,GAuDFS,MAAO,WACL,OAhD0B,QAAtBT,EAAKF,EAAMW,aAA0B,IAAPT,OAAgB,EAASA,EAAGxB,KAAKsB,GAHvD,IACZE,GAoDFc,OAAQ,WACN,OA/CAQ,EAAS,KAETlC,EAAMC,OAAOkB,UAEbe,EADElC,EAAMG,UACC,EAAIrB,KAAKiC,aAAa,MAAO,KAAM,EAAC,EAAIrB,QAAQyC,gBAAe,EAAIzC,QAAQyC,eAAe,GAAInC,EAAMC,OAAOkB,WAAW,GAAO,CAACN,MAAmB,MAEjJ,EAAI/B,KAAKiC,aAAa,MAAO,KAAM,CAACf,EAAMC,OAAOkB,YAGxDnB,EAAMG,WACR+B,EAASrB,KAINqB,EAfU,IACbA"}