{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _babelHelperVueJsxMergeProps = _interopRequireDefault(require(\"@vue/babel-helper-vue-jsx-merge-props\"));\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar ant_design_vue_1 = require(\"ant-design-vue\");\n\nvar adherev_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util-intl\"));\n\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\n\nvar actions_1 = tslib_1.__importDefault(require(\"./actions\"));\n\nvar emitter_1 = tslib_1.__importDefault(require(\"./emitter\"));\n\nvar Fragment = adherev_util_1.default._util.Fragment;\nexports.selectorPrefix = 'adherev-ui-messagedialog';\nexports.default = {\n  props: {\n    config: {\n      type: Object\n    },\n    closeBtn: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  mounted: function mounted() {\n    emitter_1.default.on(actions_1.default.close, this.onEmitterClose);\n  },\n  beforeDestroy: function beforeDestroy() {\n    emitter_1.default.remove(actions_1.default.close, this.onEmitterClose);\n  },\n  methods: {\n    onEmitterClose: function onEmitterClose() {\n      var close = this.$listeners.close;\n\n      if (close) {\n        close();\n      }\n    },\n\n    /**\n     * renderCloseBtn\n     * @param h\n     */\n    renderCloseBtn: function renderCloseBtn(h) {\n      var _a = this,\n          config = _a.config,\n          close = _a.$listeners.close;\n\n      return h(ant_design_vue_1.Button, {\n        \"key\": \"close\",\n        \"attrs\": {\n          \"type\": !config.footerJSX ? 'primary' : '',\n          \"title\": adherev_util_intl_1.default.tv('取消')\n        },\n        \"on\": {\n          \"click\": function click() {\n            if (close) {\n              close();\n            }\n          }\n        }\n      }, [adherev_util_intl_1.default.tv('取消')]);\n    },\n\n    /**\n     * renderDefault\n     * @param h\n     */\n    renderDefault: function renderDefault(h) {\n      var $slots = this.$slots;\n      return $slots.default ? $slots.default : null;\n    },\n\n    /**\n     * renderTitle\n     * @param h\n     */\n    renderTitle: function renderTitle(h) {\n      var $slots = this.$slots;\n      return $slots.title ? // @ts-ignore\n      h(Fragment, {\n        \"slot\": \"title\"\n      }, [$slots.title]) : null;\n    },\n\n    /**\n     * renderFooter\n     * @param h\n     */\n    renderFooter: function renderFooter(h) {\n      var _a = this,\n          config = _a.config,\n          closeBtn = _a.closeBtn;\n\n      var result = null;\n\n      if (config.footerJSX) {\n        if (closeBtn) {\n          result = // @ts-ignore\n          h(Fragment, {\n            \"slot\": \"footer\"\n          }, [h(\"div\", [tslib_1.__spreadArrays(config.footerJSX, [this.renderCloseBtn(h)])])]);\n        } else {\n          result = // @ts-ignore\n          h(Fragment, {\n            \"slot\": \"footer\"\n          }, [h(\"div\", [config.footerJSX])]);\n        }\n      } else {\n        if (closeBtn) {\n          // @ts-ignore\n          result = h(Fragment, {\n            \"slot\": \"footer\"\n          }, [this.renderCloseBtn(h)]);\n        }\n      }\n\n      return result;\n    }\n  },\n\n  /**\n   * render\n   * @param h\n   */\n  render: function render(h) {\n    var _a = this,\n        config = _a.config,\n        close = _a.$listeners.close;\n\n    var _b = config.footer,\n        footer = _b === void 0 ? [] : _b,\n        _c = config.centered,\n        centered = _c === void 0 ? true : _c,\n        other = tslib_1.__rest(config, [\"footer\", \"centered\"]);\n\n    var data = {\n      props: other\n    };\n    return h(ant_design_vue_1.Modal, (0, _babelHelperVueJsxMergeProps.default)([{}, data, {\n      \"attrs\": {\n        \"centered\": centered,\n        \"wrapClassName\": exports.selectorPrefix,\n        \"visible\": true\n      },\n      \"on\": {\n        \"cancel\": function cancel() {\n          if (close) {\n            close();\n          }\n        }\n      }\n    }]), [this.renderDefault(h), this.renderTitle(h), this.renderFooter(h)]);\n  }\n};"],"names":["_interopRequireDefault","require","_babelHelperVueJsxMergeProps","Object","defineProperty","exports","value","selectorPrefix","tslib_1","ant_design_vue_1","adherev_util_intl_1","__importDefault","adherev_util_1","actions_1","emitter_1","Fragment","default","_util","props","config","type","closeBtn","Boolean","required","mounted","on","close","this","onEmitterClose","beforeDestroy","remove","methods","$listeners","renderCloseBtn","h","Button","key","attrs","footerJSX","title","tv","click","renderDefault","$slots","renderTitle","slot","renderFooter","result","__spreadArrays","render","_c","footer","centered","other","__rest","Modal","wrapClassName","visible","cancel"],"mappings":"aAEA,IAAIA,uBAAyBC,QAAQ,gDAEjCC,6BAA+BF,uBAAuBC,QAAQ,0CAElEA,QAAQ,gDAERE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,oBAAiB,EAEzB,IAAIC,QAAUP,QAAQ,SAElBQ,iBAAmBR,QAAQ,kBAE3BS,oBAAsBF,QAAQG,gBAAgBV,QAAQ,kCAEtDW,eAAiBJ,QAAQG,gBAAgBV,QAAQ,6BAEjDY,UAAYL,QAAQG,gBAAgBV,QAAQ,cAE5Ca,UAAYN,QAAQG,gBAAgBV,QAAQ,cAE5Cc,SAAWH,eAAeI,QAAQC,MAAMF,SAC5CV,QAAQE,eAAiB,2BACzBF,QAAQW,QAAU,CAChBE,MAAO,CACLC,OAAQ,CACNC,KAAMjB,QAERkB,SAAU,CACRD,KAAME,QACNC,UAAU,EACVP,SAAS,IAGbQ,QAAS,WACPV,UAAUE,QAAQS,GAAGZ,UAAUG,QAAQU,MAAOC,KAAKC,iBAErDC,cAAe,WACbf,UAAUE,QAAQc,OAAOjB,UAAUG,QAAQU,MAAOC,KAAKC,iBAEzDG,QAAS,CACPH,eAAgB,WACd,IAAIF,EAAQC,KAAKK,WAAWN,MAExBA,GACFA,KAQJO,eAAgB,SAAwBC,GACtC,IACIf,EADKQ,KACOR,OACZO,EAFKC,KAEMK,WAAWN,MAE1B,OAAOQ,EAAEzB,iBAAiB0B,OAAQ,CAChCC,IAAO,QACPC,MAAS,CACPjB,KAASD,EAAOmB,UAAwB,GAAZ,UAC5BC,MAAS7B,oBAAoBM,QAAQwB,GAAG,OAE1Cf,GAAM,CACJgB,MAAS,WACHf,GACFA,OAIL,CAAChB,oBAAoBM,QAAQwB,GAAG,SAOrCE,cAAe,SAAuBR,GACpC,IAAIS,EAAShB,KAAKgB,OAClB,OAAOA,EAAO3B,SAA2B,MAO3C4B,YAAa,SAAqBV,GAChC,IAAIS,EAAShB,KAAKgB,OAClB,OAAOA,EAAOJ,MACdL,EAAEnB,SAAU,CACV8B,KAAQ,SACP,CAACF,EAAOJ,QAAU,MAOvBO,aAAc,SAAsBZ,GAClC,IACIf,EADKQ,KACOR,OACZE,EAFKM,KAESN,SAEd0B,EAAS,KAuBb,OArBI5B,EAAOmB,UAEPS,EACAb,EAAEnB,SAAU,CACV8B,KAAQ,UAHRxB,EAIC,CAACa,EAAE,MAAO,CAAC1B,QAAQwC,eAAe7B,EAAOmB,UAAW,CAACX,KAAKM,eAAeC,QAKzE,CAACA,EAAE,MAAO,CAACf,EAAOmB,cAGnBjB,IAEF0B,EAASb,EAAEnB,SAAU,CACnB8B,KAAQ,UACP,CAAClB,KAAKM,eAAeC,MAIrBa,IAQXE,OAAQ,SAAgBf,GACtB,IACIf,EADKQ,KACOR,OACZO,EAFKC,KAEMK,WAAWN,MAItBwB,GAFK/B,EAAOgC,OAEPhC,EAAOiC,UACZA,OAAkB,IAAPF,GAAuBA,EAClCG,EAAQ7C,QAAQ8C,OAAOnC,EAAQ,CAAC,SAAU,aAK9C,OAAOe,EAAEzB,iBAAiB8C,OAAO,EAAIrD,6BAA6Bc,SAAS,CAAC,GAHjE,CACTE,MAAOmC,GAE6E,CACpFhB,MAAS,CACPe,SAAYA,EACZI,cAAiBnD,QAAQE,eACzBkD,SAAW,GAEbhC,GAAM,CACJiC,OAAU,WACJhC,GACFA,SAIH,CAACC,KAAKe,cAAcR,GAAIP,KAAKiB,YAAYV,GAAIP,KAAKmB,aAAaZ"}