{"version":3,"file":"teleport.js","sources":["teleport.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar debounce_1 = tslib_1.__importDefault(require(\"lodash/debounce\"));\nvar vue_1 = tslib_1.__importDefault(require(\"vue\"));\nvar adherev_util_1 = tslib_1.__importDefault(require(\"@baifendian/adherev-util\"));\nvar Teleport = {\n  name: 'adv-teleport',\n  props: {\n    // 传送的元素\n    to: {\n      type: [String, HTMLElement, Function]\n    },\n    // 是否在包裹元素渲染\n    isWrap: {\n      type: Boolean,\n      default: true\n    },\n    // 包裹元素的标签名\n    wrapTag: {\n      type: String,\n      default: 'div'\n    },\n    // 包裹元素的类名\n    wrapClassName: {\n      type: String,\n      default: ''\n    },\n    // 包裹元素的样式\n    wrapStyle: {\n      type: String,\n      default: ''\n    },\n    // 渲染频率\n    rate: {\n      type: Number,\n      default: 100\n    }\n  },\n  data: function data() {\n    var _this = this;\n    return {\n      $mountEl: null,\n      $vm: null,\n      $debounceRender: (0, debounce_1.default)(function () {\n        if (!_this.toEl) return;\n        if (!_this.$data.$mountEl) {\n          _this.$data.$mountEl = _this.createMountEl();\n        }\n        var self = _this;\n        if (!_this.$data.$vm) {\n          _this.$data.$vm = new vue_1.default({\n            el: _this.$data.$mountEl,\n            render: function render(_h) {\n              return self.$slots.default;\n            }\n          });\n        } else {\n          try {\n            _this.$data.$vm.$forceUpdate();\n          } catch (e) {}\n        }\n      }, this.rate)\n    };\n  },\n  computed: {\n    toEl: function toEl() {\n      var toEl = this.to;\n      if (adherev_util_1.default.isString(this.to)) {\n        toEl = document.querySelector(this.to);\n      }\n      if (adherev_util_1.default.isFunction(this.to)) {\n        toEl = this.to();\n      }\n      return toEl;\n    }\n  },\n  methods: {\n    createMountEl: function createMountEl() {\n      if (!this.isWrap) {\n        var mountEl_1 = document.createElement('div');\n        this.toEl.appendChild(mountEl_1);\n        return mountEl_1;\n      }\n      var wrapTag = this.wrapTag || 'div';\n      var mountWrapEl = document.createElement(wrapTag);\n      if (this.wrapClassName) {\n        mountWrapEl.className = this.wrapClassName;\n      }\n      if (this.wrapStyle) {\n        mountWrapEl.style.cssText = this.wrapStyle;\n      }\n      var mountEl = document.createElement('div');\n      mountWrapEl.appendChild(mountEl);\n      this.toEl.appendChild(mountWrapEl);\n      return mountEl;\n    }\n  },\n  render: function render(h) {\n    this.$data.$debounceRender();\n    return null;\n  }\n};\nexports.default = Teleport;"],"names":["require","Object","defineProperty","exports","value","tslib_1","debounce_1","__importDefault","vue_1","adherev_util_1","Teleport","name","props","to","type","String","HTMLElement","Function","isWrap","Boolean","default","wrapTag","wrapClassName","wrapStyle","rate","Number","data","_this","this","$mountEl","$vm","$debounceRender","toEl","$data","createMountEl","self","$forceUpdate","e","el","render","_h","$slots","computed","isString","document","querySelector","isFunction","methods","mountWrapEl","mountEl","createElement","className","style","cssText","appendChild","mountEl_1","h"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EACtDA,QAAQ,0CAA0C,EAClDC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACD,IAAIC,QAAUL,QAAQ,OAAO,EACzBM,WAAaD,QAAQE,gBAAgBP,QAAQ,iBAAiB,CAAC,EAC/DQ,MAAQH,QAAQE,gBAAgBP,QAAQ,KAAK,CAAC,EAC9CS,eAAiBJ,QAAQE,gBAAgBP,QAAQ,0BAA0B,CAAC,EAC5EU,SAAW,CACbC,KAAM,eACNC,MAAO,CAELC,GAAI,CACFC,KAAM,CAACC,OAAQC,YAAaC,SAC9B,EAEAC,OAAQ,CACNJ,KAAMK,QACNC,QAAS,CAAA,CACX,EAEAC,QAAS,CACPP,KAAMC,OACNK,QAAS,KACX,EAEAE,cAAe,CACbR,KAAMC,OACNK,QAAS,EACX,EAEAG,UAAW,CACTT,KAAMC,OACNK,QAAS,EACX,EAEAI,KAAM,CACJV,KAAMW,OACNL,QAAS,GACX,CACF,EACAM,KAAM,WACJ,IAAIC,EAAQC,KACZ,MAAO,CACLC,SAAU,KACVC,IAAK,KACLC,iBAAiB,EAAIzB,WAAWc,SAAS,WACvC,GAAKO,EAAMK,KAAX,CACKL,EAAMM,MAAMJ,WACfF,EAAMM,MAAMJ,SAAWF,EAAMO,cAAc,GAE7C,IAAIC,EAAOR,EACX,GAAKA,EAAMM,MAAMH,IAQf,IACEH,EAAMM,MAAMH,IAAIM,aAAa,CAClB,CAAX,MAAOC,SATTV,EAAMM,MAAMH,IAAM,IAAItB,MAAMY,QAAQ,CAClCkB,GAAIX,EAAMM,MAAMJ,SAChBU,OAAQ,SAAgBC,GACtB,OAAOL,EAAKM,OAAOrB,OACrB,CACF,CAAC,CAXoB,CAiBzB,EAAGQ,KAAKJ,IAAI,CACd,CACF,EACAkB,SAAU,CACRV,KAAM,WACJ,IAAIA,EAAOJ,KAAKf,GAOhB,OANIJ,eAAeW,QAAQuB,SAASf,KAAKf,EAAE,IACzCmB,EAAOY,SAASC,cAAcjB,KAAKf,EAAE,GAGrCmB,EADEvB,eAAeW,QAAQ0B,WAAWlB,KAAKf,EAAE,EACpCe,KAAKf,GAAG,EAEVmB,CACT,CACF,EACAe,QAAS,CACPb,cAAe,WACb,IAMIc,EAOAC,EAbJ,OAAKrB,KAAKV,QAKNG,EAAUO,KAAKP,SAAW,MAC1B2B,EAAcJ,SAASM,cAAc7B,CAAO,EAC5CO,KAAKN,gBACP0B,EAAYG,UAAYvB,KAAKN,eAE3BM,KAAKL,YACPyB,EAAYI,MAAMC,QAAUzB,KAAKL,WAE/B0B,EAAUL,SAASM,cAAc,KAAK,EAC1CF,EAAYM,YAAYL,CAAO,EAC/BrB,KAAKI,KAAKsB,YAAYN,CAAW,EAC1BC,IAfDM,EAAYX,SAASM,cAAc,KAAK,EAC5CtB,KAAKI,KAAKsB,YAAYC,CAAS,EACxBA,EAcX,CACF,EACAhB,OAAQ,SAAgBiB,GAEtB,OADA5B,KAAKK,MAAMF,gBAAgB,EACpB,IACT,CACF,EACA5B,QAAQiB,QAAUV"}