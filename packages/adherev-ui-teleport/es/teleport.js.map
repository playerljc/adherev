{"version":3,"file":"teleport.js","sources":["teleport.js"],"sourcesContent":["import \"core-js/modules/es.number.constructor.js\";\nimport debounce from 'lodash/debounce';\nimport Vue from 'vue';\nimport Util from '@baifendian/adherev-util';\nvar Teleport = {\n  name: 'adv-teleport',\n  props: {\n    // 传送的元素\n    to: {\n      type: [String, HTMLElement, Function]\n    },\n    // 是否在包裹元素渲染\n    isWrap: {\n      type: Boolean,\n      default: true\n    },\n    // 包裹元素的标签名\n    wrapTag: {\n      type: String,\n      default: 'div'\n    },\n    // 包裹元素的类名\n    wrapClassName: {\n      type: String,\n      default: ''\n    },\n    // 包裹元素的样式\n    wrapStyle: {\n      type: String,\n      default: ''\n    },\n    // 渲染频率\n    rate: {\n      type: Number,\n      default: 100\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      $mountEl: null,\n      $vm: null,\n      $debounceRender: debounce(function () {\n        if (!_this.toEl) return;\n\n        if (!_this.$data.$mountEl) {\n          _this.$data.$mountEl = _this.createMountEl();\n        }\n\n        var self = _this;\n\n        if (!_this.$data.$vm) {\n          _this.$data.$vm = new Vue({\n            el: _this.$data.$mountEl,\n            render: function render(_h) {\n              return self.$slots.default;\n            }\n          });\n        } else {\n          try {\n            _this.$data.$vm.$forceUpdate();\n          } catch (e) {}\n        }\n      }, this.rate)\n    };\n  },\n  computed: {\n    toEl: function toEl() {\n      var toEl = this.to;\n\n      if (Util.isString(this.to)) {\n        toEl = document.querySelector(this.to);\n      }\n\n      if (Util.isFunction(this.to)) {\n        toEl = this.to();\n      }\n\n      return toEl;\n    }\n  },\n  methods: {\n    createMountEl: function createMountEl() {\n      if (!this.isWrap) {\n        var mountEl_1 = document.createElement('div');\n        this.toEl.appendChild(mountEl_1);\n        return mountEl_1;\n      }\n\n      var wrapTag = this.wrapTag || 'div';\n      var mountWrapEl = document.createElement(wrapTag);\n\n      if (this.wrapClassName) {\n        mountWrapEl.className = this.wrapClassName;\n      }\n\n      if (this.wrapStyle) {\n        mountWrapEl.style.cssText = this.wrapStyle;\n      }\n\n      var mountEl = document.createElement('div');\n      mountWrapEl.appendChild(mountEl);\n      this.toEl.appendChild(mountWrapEl);\n      return mountEl;\n    }\n  },\n  render: function render(h) {\n    this.$data.$debounceRender();\n    return null;\n  }\n};\nexport default Teleport;"],"names":["debounce","Vue","Util","Teleport","name","props","to","type","String","HTMLElement","Function","isWrap","Boolean","default","wrapTag","wrapClassName","wrapStyle","rate","Number","data","_this","this","$mountEl","$vm","$debounceRender","toEl","$data","createMountEl","self","$forceUpdate","e","el","render","_h","$slots","computed","isString","document","querySelector","isFunction","methods","mountEl_1","createElement","appendChild","mountWrapEl","className","style","cssText","mountEl","h"],"mappings":"wDACOA,sCACAC,qBACAC,oCACP,IAAIC,SAAW,CACbC,KAAM,eACNC,MAAO,CAELC,GAAI,CACFC,KAAM,CAACC,OAAQC,YAAaC,WAG9BC,OAAQ,CACNJ,KAAMK,QACNC,SAAS,GAGXC,QAAS,CACPP,KAAMC,OACNK,QAAS,OAGXE,cAAe,CACbR,KAAMC,OACNK,QAAS,IAGXG,UAAW,CACTT,KAAMC,OACNK,QAAS,IAGXI,KAAM,CACJV,KAAMW,OACNL,QAAS,MAGbM,KAAM,WACJ,IAAIC,EAAQC,KAEZ,MAAO,CACLC,SAAU,KACVC,IAAK,KACLC,gBAAiBxB,SAAS,WACxB,GAAKoB,EAAMK,KAAX,CAEKL,EAAMM,MAAMJ,WACfF,EAAMM,MAAMJ,SAAWF,EAAMO,iBAG/B,IAAIC,EAAOR,EAEX,GAAKA,EAAMM,MAAMH,IAQf,IACEH,EAAMM,MAAMH,IAAIM,eAChB,MAAOC,SATTV,EAAMM,MAAMH,IAAM,IAAItB,IAAI,CACxB8B,GAAIX,EAAMM,MAAMJ,SAChBU,OAAQ,SAAgBC,GACtB,OAAOL,EAAKM,OAAOrB,aAQxBQ,KAAKJ,QAGZkB,SAAU,CACRV,KAAM,WACJ,IAAIA,EAAOJ,KAAKf,GAUhB,OARIJ,KAAKkC,SAASf,KAAKf,MACrBmB,EAAOY,SAASC,cAAcjB,KAAKf,KAInCmB,EADEvB,KAAKqC,WAAWlB,KAAKf,IAChBe,KAAKf,KAGPmB,IAGXe,QAAS,CACPb,cAAe,WACb,IAAKN,KAAKV,OAAQ,CAChB,IAAI8B,EAAYJ,SAASK,cAAc,OAEvC,OADArB,KAAKI,KAAKkB,YAAYF,GACfA,EAGT,IAAI3B,EAAUO,KAAKP,SAAW,MAC1B8B,EAAcP,SAASK,cAAc5B,GAErCO,KAAKN,gBACP6B,EAAYC,UAAYxB,KAAKN,eAG3BM,KAAKL,YACP4B,EAAYE,MAAMC,QAAU1B,KAAKL,WAG/BgC,EAAUX,SAASK,cAAc,OAGrC,OAFAE,EAAYD,YAAYK,GACxB3B,KAAKI,KAAKkB,YAAYC,GACfI,IAGXhB,OAAQ,SAAgBiB,GAEtB,OADA5B,KAAKK,MAAMF,kBACJ,sBAGIrB"}