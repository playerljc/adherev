import{onBeforeUnmount,onMounted,ref,watch}from"vue";import{bool,number,oneOfType,string}from"vue-types";import{createMask}from"./slidelayout";!function(e){e.top="top",e.bottom="bottom",e.left="left",e.right="right"}(direction=direction||{});var direction,slideProps={width:oneOfType([string(),number()]).def("80%"),height:oneOfType([string(),number()]).def("40%"),mask:bool().def(!0),zIndex:number().def(9999),time:number().def(300),direction:string().def(direction.left),defaultCollapse:bool().def(!1)};export default function useSlide(n,e){var t=e.emit,o=ref(n.defaultCollapse),i=ref(),r={},l=null;return watch(function(){return n.defaultCollapse},function(e,t){e!==t&&(o.value=e,(o.value?r.show:r.close)[n.direction]())}),onMounted(function(){var e;n.mask&&(l=createMask(n.zIndex,function(){t("before-close"),o.value=!1,r.close[n.direction]()}),null!=(e=null==(e=i.value)?void 0:e.parentElement)&&e.insertBefore(l,i.value)),e=i.value,"left"===n.direction||"right"===n.direction?(e.style.height="100%",n.width?e.style.width=n.width:e.style.width="".concat(.9*e.parentElement.offsetWidth,"px")):(e.style.width="100%",n.height?e.style.height=n.height:e.style.height="".concat(.3*e.parentElement.offsetHeight,"px")),r.init[n.direction](),o.value&&r.show[n.direction](0)}),onBeforeUnmount(function(){var e;l&&null!=(e=null==l?void 0:l.parentElement)&&e.removeChild(l)}),{setPositionConfig:function(e){r=e({el:i,maskEl:l})},getDuration:function(e){return null!=e?e:n.time},getElRef:function(){return i}}}export{direction,slideProps};
//# sourceMappingURL=slide.js.map
