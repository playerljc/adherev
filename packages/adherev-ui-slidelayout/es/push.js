import{createVNode as _createVNode}from"vue";import"core-js/modules/es.regexp.exec.js";import"core-js/modules/es.string.split.js";import{__assign}from"tslib";import classNames from"classnames";import{defineComponent,onMounted,ref,watch}from"vue";import{object,string}from"vue-types";import useSlide,{slideProps}from"./slide";import{slider}from"./slidelayout";var selectorPrefix="adherev-ui-slidelayout-push",pushProps=__assign(__assign({},slideProps),{className:string().def(""),style:object().def({}),slaveClassName:string().def(""),slaveStyle:object().def({})});export default defineComponent({name:"adv-slidelayout-push",props:pushProps,slots:["slide","master"],emits:["after-show","after-close"],setup:function(t,e){var s=e.slots,l=e.emit,o=ref(),a=ref(),e=useSlide(t,e),i=e.setPositionConfig,n=e.getDuration,r=e.getElRef,c=e.initial;return watch(function(){return t.zIndex},function(e){o.value.style.zIndex="".concat(e-1),r().value.style.zIndex="".concat(e),a.value.style.zIndex="".concat(e-2)}),onMounted(function(){i(function(e){var t=e.el,s=e.maskEl;return{init:{left:function(){t.value.style.left="0",a.value.style.left="".concat(t.value.offsetWidth,"px"),slider(o.value,"-".concat(t.value.offsetWidth,"px"),"0","0","0")},right:function(){t.value.style.right="0",a.value.style.right="".concat(t.value.offsetWidth,"px"),slider(o.value,"".concat(t.value.offsetWidth,"px"),"0","0","0")}},show:{left:function(e){slider(o.value,"0","0","0","".concat(n(e),"ms"),function(){l("after-show")}),s&&(s.style.display="block")},right:function(e){slider(o.value,"0","0","0","".concat(n(e),"ms"),function(){l("after-show")}),s&&(s.style.display="block")}},close:{left:function(e){slider(o.value,"-".concat(t.value.offsetWidth,"px"),"0","0","".concat(n(e),"ms"),function(){l("after-close")}),s&&(s.style.display="none")},right:function(e){slider(o.value,"".concat(t.value.offsetWidth,"px"),"0","0","".concat(n(e),"ms"),function(){l("after-close")}),s&&(s.style.display="none")}}}}).then(function(){return c()})}),function(){var e;return _createVNode("div",{class:"".concat(selectorPrefix,"-master"),ref:o},[_createVNode("div",{class:classNames(selectorPrefix,t.direction,t.className.split(/\s+/)),style:t.style,ref:r()},[null==(e=null==s?void 0:s.slide)?void 0:e.call(s)]),_createVNode("div",{class:classNames("".concat(selectorPrefix,"-slave"),(t.slaveClassName||"").split(/\s+/)),style:t.slaveStyle,ref:a},[null==(e=null==s?void 0:s.master)?void 0:e.call(s)])])}}});export{pushProps};
//# sourceMappingURL=push.js.map
