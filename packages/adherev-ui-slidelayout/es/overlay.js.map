{"version":3,"file":"overlay.js","sources":["overlay.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { __assign } from \"tslib\";\nimport classNames from 'classnames';\nimport { defineComponent, onMounted, watch } from 'vue';\nimport useSlide, { slideProps } from './slide';\nimport { slider } from './slidelayout';\nvar selectorPrefix = 'adherev-ui-slidelayout-overlay';\nexport var overlayProps = __assign({}, slideProps);\nexport default defineComponent({\n  name: 'adv-slidelayout-overlay',\n  props: overlayProps,\n  emits: ['after-show', 'after-close'],\n  setup: function setup(props, context) {\n    var slots = context.slots,\n      emit = context.emit;\n    var _a = useSlide(props, context),\n      setPositionConfig = _a.setPositionConfig,\n      getDuration = _a.getDuration,\n      getElRef = _a.getElRef,\n      initial = _a.initial;\n    watch(function () {\n      return props.zIndex;\n    }, function (val) {\n      getElRef().value.style.zIndex = \"\".concat(val);\n    });\n    onMounted(function () {\n      setPositionConfig(function (_a) {\n        var el = _a.el,\n          maskEl = _a.maskEl;\n        return {\n          init: {\n            left: function left() {\n              slider(el.value, '-100%', '0', '0', '0');\n            },\n            right: function right() {\n              var _a, _b;\n              slider(el.value, \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetWidth, \"px\"), '0', '0', '0');\n            },\n            top: function top() {\n              slider(el.value, '0', '-100%', '0', '0');\n            },\n            bottom: function bottom() {\n              var _a, _b;\n              slider(el.value, '0', \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight, \"px\"), '0', '0');\n            }\n          },\n          show: {\n            left: function left(time) {\n              slider(el.value, '0', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                return emit('after-show');\n              });\n              if (maskEl) maskEl.style.display = 'block';\n            },\n            right: function right(time) {\n              var _a, _b, _c;\n              slider(el.value, \"\".concat(((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetWidth) - ((_c = el.value) === null || _c === void 0 ? void 0 : _c.offsetWidth), \"px\"), '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                emit('after-show');\n              });\n              if (maskEl) maskEl.style.display = 'block';\n            },\n            top: function top(time) {\n              slider(el.value, '0', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                return emit('after-show');\n              });\n              if (maskEl) maskEl.style.display = 'block';\n            },\n            bottom: function bottom(time) {\n              var _a, _b;\n              slider(el.value, '0', \"\".concat(((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight) - el.value.offsetHeight, \"px\"), '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                return emit('after-show');\n              });\n              if (maskEl) maskEl.style.display = 'block';\n            }\n          },\n          close: {\n            left: function left(time) {\n              slider(el.value, '-100%', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                return emit('after-close');\n              });\n              if (maskEl) maskEl.style.display = 'none';\n            },\n            right: function right(time) {\n              var _a, _b;\n              slider(el.value, \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetWidth, \"px\"), '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                return emit('after-close');\n              });\n              if (maskEl) maskEl.style.display = 'none';\n            },\n            top: function top(time) {\n              var _a, _b;\n              slider(el.value, '0', \"-\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight, \"px\"), '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                return emit('after-close');\n              });\n              if (maskEl) maskEl.style.display = 'none';\n            },\n            bottom: function bottom(time) {\n              var _a, _b;\n              slider(el.value, '0', \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight, \"px\"), '0', \"\".concat(getDuration(time), \"ms\"), function () {\n                return emit('after-close');\n              });\n              if (maskEl) maskEl.style.display = 'none';\n            }\n          }\n        };\n      }).then(function () {\n        return initial();\n      });\n    });\n    return function () {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": classNames(selectorPrefix, props.direction),\n        \"ref\": getElRef()\n      }, [(_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]);\n    };\n  }\n});"],"names":["_createVNode","__assign","classNames","defineComponent","onMounted","watch","useSlide","slideProps","slider","selectorPrefix","overlayProps","name","props","emits","setup","context","slots","emit","_a","setPositionConfig","getDuration","getElRef","initial","zIndex","val","value","style","concat","el","maskEl","init","left","right","_b","parentElement","offsetWidth","top","bottom","offsetHeight","show","time","display","_c","close","then","class","direction","ref","default","call"],"mappings":"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"}