{"version":3,"file":"overlay.js","sources":["overlay.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { __assign } from \"tslib\";\nimport classNames from 'classnames';\nimport { defineComponent, watch } from 'vue';\nimport useSlide, { slideProps } from './slide';\nimport { slider } from './slidelayout';\nvar selectorPrefix = 'adherev-ui-slidelayout-overlay';\n\nvar overlayProps = __assign({}, slideProps);\n\nexport default defineComponent({\n  name: 'adv-slidelayout-overlay',\n  props: overlayProps,\n  emits: ['after-show', 'after-close'],\n  setup: function setup(props, context) {\n    var slots = context.slots,\n        emit = context.emit;\n\n    var _a = useSlide(props, context),\n        setPositionConfig = _a.setPositionConfig,\n        getDuration = _a.getDuration,\n        getElRef = _a.getElRef;\n\n    setPositionConfig(function (_a) {\n      var el = _a.el,\n          maskEl = _a.maskEl;\n      return {\n        init: {\n          left: function left() {\n            slider(el.value, '-100%', '0', '0', '0');\n          },\n          right: function right() {\n            var _a, _b;\n\n            slider(el.value, \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetWidth, \"px\"), '0', '0', '0');\n          },\n          top: function top() {\n            slider(el.value, '0', '-100%', '0', '0');\n          },\n          bottom: function bottom() {\n            var _a, _b;\n\n            slider(el.value, '0', \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight, \"px\"), '0', '0');\n          }\n        },\n        show: {\n          left: function left(time) {\n            slider(el.value, '0', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-show');\n            });\n            if (maskEl) maskEl.style.display = 'block';\n          },\n          right: function right(time) {\n            var _a, _b, _c;\n\n            slider(el.value, \"\".concat(((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetWidth) - ((_c = el.value) === null || _c === void 0 ? void 0 : _c.offsetWidth), \"px\"), '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-show');\n            });\n            if (maskEl) maskEl.style.display = 'block';\n          },\n          top: function top(time) {\n            slider(el.value, '0', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-show');\n            });\n            if (maskEl) maskEl.style.display = 'block';\n          },\n          bottom: function bottom(time) {\n            var _a, _b;\n\n            slider(el.value, '0', \"\".concat(((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight) - el.value.offsetHeight, \"px\"), '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-show');\n            });\n            if (maskEl) maskEl.style.display = 'block';\n          }\n        },\n        close: {\n          left: function left(time) {\n            slider(el.value, '-100%', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-close');\n            });\n            if (maskEl) maskEl.style.display = 'none';\n          },\n          right: function right(time) {\n            var _a, _b;\n\n            slider(el.value, \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetWidth, \"px\"), '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-close');\n            });\n            if (maskEl) maskEl.style.display = 'none';\n          },\n          top: function top(time) {\n            var _a, _b;\n\n            slider(el.value, '0', \"-\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight, \"px\"), '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-close');\n            });\n            if (maskEl) maskEl.style.display = 'none';\n          },\n          bottom: function bottom(time) {\n            var _a, _b;\n\n            slider(el.value, '0', \"\".concat((_b = (_a = el.value) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight, \"px\"), '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-close');\n            });\n            if (maskEl) maskEl.style.display = 'none';\n          }\n        }\n      };\n    });\n    watch(function () {\n      return props.zIndex;\n    }, function (val) {\n      getElRef().value.style.zIndex = \"\".concat(val);\n    });\n    return function () {\n      var _a;\n\n      return _createVNode(\"div\", {\n        \"class\": classNames(selectorPrefix, props.direction),\n        \"ref\": getElRef()\n      }, [(_a = slots === null || slots === void 0 ? void 0 : slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]);\n    };\n  }\n});"],"names":["_createVNode","__assign","classNames","defineComponent","watch","useSlide","slideProps","slider","selectorPrefix","overlayProps","name","props","emits","setup","context","slots","emit","_a","setPositionConfig","getDuration","getElRef","el","maskEl","init","left","value","right","_b","concat","parentElement","offsetWidth","top","bottom","offsetHeight","show","time","style","display","_c","close","zIndex","val","class","direction","ref","default","call"],"mappings":"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"}