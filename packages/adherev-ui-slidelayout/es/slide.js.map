{"version":3,"file":"slide.js","sources":["slide.js"],"sourcesContent":["import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport { createMask } from './slidelayout';\nexport default {\n  props: {\n    width: {\n      type: [String, Number],\n      default: '80%'\n    },\n    height: {\n      type: [String, Number],\n      default: '40%'\n    },\n    mask: {\n      type: Boolean,\n      default: true\n    },\n    zIndex: {\n      type: Number,\n      default: 9999\n    },\n    time: {\n      type: Number,\n      default: 300\n    },\n    direction: {\n      type: String,\n      default: 'left',\n      validator: function validator(val) {\n        return ['left', 'right', 'top', 'bottom'].indexOf(val) !== -1;\n      }\n    },\n    defaultCollapse: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      $positionConfig: {},\n      $maskEl: null,\n      collapse: this.defaultCollapse\n    };\n  },\n  watch: {\n    defaultCollapse: function defaultCollapse(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.collapse = newVal;\n\n        var _a = this,\n            $positionConfig = _a.$data.$positionConfig,\n            direction = _a.direction,\n            collapse = _a.collapse;\n\n        if (collapse) {\n          $positionConfig['show'][direction]();\n        } else {\n          $positionConfig['close'][direction]();\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var _a;\n\n    var _b = this,\n        el = _b.$refs.el,\n        zIndex = _b.zIndex,\n        mask = _b.mask;\n\n    if (mask) {\n      this.$data.$maskEl = createMask(zIndex, function () {\n        _this.close();\n      });\n      (_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.$data.$maskEl, el);\n    }\n\n    this.initial();\n  },\n  // updated() {\n  //   const {\n  //\n  //     $data: { _preCollapse, $positionConfig },\n  //\n  //     direction,\n  //\n  //     collapse,\n  //   } = this;\n  //\n  //   if (_preCollapse !== collapse) {\n  //     if (collapse) {\n  //\n  //       $positionConfig['show'][direction]();\n  //     } else {\n  //\n  //       $positionConfig['close'][direction]();\n  //     }\n  //   }\n  // },\n  beforeDestroy: function beforeDestroy() {\n    var $maskEl = this.$data.$maskEl;\n\n    if ($maskEl) {\n      $maskEl.parentElement.removeChild($maskEl);\n    }\n  },\n  methods: {\n    getDuration: function getDuration(time) {\n      return time !== undefined && time !== null ? time : this.time;\n    },\n    initial: function initial() {\n      var _a, _b;\n\n      var _c = this,\n          el = _c.$refs.el,\n          $positionConfig = _c.$data.$positionConfig,\n          direction = _c.direction,\n          width = _c.width,\n          height = _c.height,\n          collapse = _c.collapse;\n\n      if (direction === 'left' || direction === 'right') {\n        // 赋值宽度\n        el.style.height = '100%';\n        width ? el.style.width = width : el.style.width = ((_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.offsetWidth) * 0.9 + \"px\";\n      } else {\n        // 赋值高度\n        el.style.width = '100%';\n        height ? el.style.height = height : el.style.height = ((_b = el === null || el === void 0 ? void 0 : el.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight) * 0.3 + \"px\";\n      } // 赋值默认位置\n\n\n      $positionConfig['init'][direction]();\n\n      if (collapse) {\n        $positionConfig['show'][direction](0);\n      }\n    },\n    show: function show() {\n      this.$emit('before-show');\n\n      var _a = this,\n          $positionConfig = _a.$data.$positionConfig,\n          direction = _a.direction;\n\n      this.collapse = true;\n      $positionConfig['show'][direction]();\n    },\n    close: function close() {\n      this.$emit('before-close');\n\n      var _a = this,\n          $positionConfig = _a.$data.$positionConfig,\n          direction = _a.direction;\n\n      this.collapse = false;\n      $positionConfig['close'][direction]();\n    }\n  }\n};"],"names":["createMask","props","width","type","String","Number","default","height","mask","Boolean","zIndex","time","direction","validator","val","indexOf","defaultCollapse","data","$positionConfig","$maskEl","collapse","this","watch","newVal","oldVal","_a","$data","mounted","_this","_b","el","$refs","close","parentElement","insertBefore","initial","beforeDestroy","removeChild","methods","getDuration","_c","style","offsetWidth","offsetHeight","show","$emit"],"mappings":"qGAESA,6CACM,CACbC,MAAO,CACLC,MAAO,CACLC,KAAM,CAACC,OAAQC,QACfC,QAAS,OAEXC,OAAQ,CACNJ,KAAM,CAACC,OAAQC,QACfC,QAAS,OAEXE,KAAM,CACJL,KAAMM,QACNH,SAAS,GAEXI,OAAQ,CACNP,KAAME,OACNC,QAAS,MAEXK,KAAM,CACJR,KAAME,OACNC,QAAS,KAEXM,UAAW,CACTT,KAAMC,OACNE,QAAS,OACTO,UAAW,SAAmBC,GAC5B,OAA4D,IAArD,CAAC,OAAQ,QAAS,MAAO,UAAUC,QAAQD,KAGtDE,gBAAiB,CACfb,KAAMM,QACNH,SAAS,IAGbW,KAAM,WACJ,MAAO,CACLC,gBAAiB,GACjBC,QAAS,KACTC,SAAUC,KAAKL,kBAGnBM,MAAO,CACLN,gBAAiB,SAAyBO,EAAQC,GAChD,IAGMC,EAHFF,IAAWC,IACbH,KAAKD,SAAWG,EAGZL,GADAO,EAAKJ,MACgBK,MAAMR,gBAC3BN,EAAYa,EAAGb,WACJa,EAAGL,SAGhBF,EAAsB,KAEtBA,EAAuB,OAFCN,QAOhCe,QAAS,WACP,IAAIC,EAAQP,KAIRQ,EAAKR,KACLS,EAAKD,EAAGE,MAAMD,GACdpB,EAASmB,EAAGnB,OACLmB,EAAGrB,OAGZa,KAAKK,MAAMP,QAAUnB,WAAWU,EAAQ,WACtCkB,EAAMI,UAE4D,QAAnEP,EAAKK,MAAAA,OAA+B,EAASA,EAAGG,qBAAkC,IAAPR,GAAyBA,EAAGS,aAAab,KAAKK,MAAMP,QAASW,IAG3IT,KAAKc,WAsBPC,cAAe,WACb,IAAIjB,EAAUE,KAAKK,MAAMP,QAErBA,GACFA,EAAQc,cAAcI,YAAYlB,IAGtCmB,QAAS,CACPC,YAAa,SAAqB5B,GAChC,OAAOA,MAAAA,EAAsCA,EAAOU,KAAKV,MAE3DwB,QAAS,WACP,IAEIK,EAAKnB,KACLS,EAAKU,EAAGT,MAAMD,GACdZ,EAAkBsB,EAAGd,MAAMR,gBAC3BN,EAAY4B,EAAG5B,UACfV,EAAQsC,EAAGtC,MACXK,EAASiC,EAAGjC,OACZa,EAAWoB,EAAGpB,SAEA,SAAdR,GAAsC,UAAdA,GAE1BkB,EAAGW,MAAMlC,OAAS,OACVuB,EAAGW,MAAMvC,MAAjBA,GAA0K,IAAnD,QAAnEuB,EAAKK,MAAAA,OAA+B,EAASA,EAAGG,qBAAkC,IAAPR,OAAgB,EAASA,EAAGiB,aAAqB,OAGhLZ,EAAGW,MAAMvC,MAAQ,OACR4B,EAAGW,MAAMlC,OAAlBA,GAA+K,IAApD,QAAnEsB,EAAKC,MAAAA,OAA+B,EAASA,EAAGG,qBAAkC,IAAPJ,OAAgB,EAASA,EAAGc,cAAsB,MAIvLzB,EAAsB,KAAEN,KAEpBQ,GACFF,EAAsB,KAAEN,GAAW,IAGvCgC,KAAM,WACJvB,KAAKwB,MAAM,eAEX,IACI3B,EADKG,KACgBK,MAAMR,gBAC3BN,EAFKS,KAEUT,UAEnBS,KAAKD,UAAW,EAChBF,EAAsB,KAAEN,MAE1BoB,MAAO,WACLX,KAAKwB,MAAM,gBAEX,IACI3B,EADKG,KACgBK,MAAMR,gBAC3BN,EAFKS,KAEUT,UAEnBS,KAAKD,UAAW,EAChBF,EAAuB,MAAEN"}