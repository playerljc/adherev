{"version":3,"file":"push.js","sources":["push.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport { __assign } from \"tslib\";\nimport classNames from 'classnames';\nimport { defineComponent, ref, watch } from 'vue';\nimport { object, string } from 'vue-types';\nimport useSlide, { slideProps } from './slide';\nimport { slider } from './slidelayout';\nvar selectorPrefix = 'adherev-ui-slidelayout-push';\nvar pushProps = __assign(__assign({}, slideProps), {\n  className: string().def(''),\n  style: object().def({}),\n  slaveClassName: string().def(''),\n  slaveStyle: object().def({})\n});\nexport default defineComponent({\n  name: 'adv-slidelayout-push',\n  props: pushProps,\n  slots: ['slide', 'master'],\n  emits: ['after-show', 'after-close'],\n  setup: function setup(props, context) {\n    var slots = context.slots,\n      emit = context.emit;\n    var pMasterEl = ref();\n    var pSlaveEl = ref();\n    var _a = useSlide(props, context),\n      setPositionConfig = _a.setPositionConfig,\n      getDuration = _a.getDuration,\n      getElRef = _a.getElRef;\n    setPositionConfig(function (_a) {\n      var el = _a.el,\n        maskEl = _a.maskEl;\n      return {\n        init: {\n          left: function left() {\n            el.value.style.left = '0';\n            pSlaveEl.value.style.left = \"\".concat(el.value.offsetWidth, \"px\");\n            slider(pMasterEl.value, \"-\".concat(el.value.offsetWidth, \"px\"), '0', '0', '0');\n          },\n          right: function right() {\n            el.value.style.right = '0';\n            pSlaveEl.value.style.right = \"\".concat(el.value.offsetWidth, \"px\");\n            slider(pMasterEl.value, \"\".concat(el.value.offsetWidth, \"px\"), '0', '0', '0');\n          }\n        },\n        show: {\n          left: function left(time) {\n            slider(pMasterEl.value, '0', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-show');\n            });\n            if (maskEl) maskEl.style.display = 'block';\n          },\n          right: function right(time) {\n            slider(pMasterEl.value, '0', '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-show');\n            });\n            if (maskEl) maskEl.style.display = 'block';\n          }\n        },\n        close: {\n          left: function left(time) {\n            slider(pMasterEl.value, \"-\".concat(el.value.offsetWidth, \"px\"), '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-close');\n            });\n            if (maskEl) maskEl.style.display = 'none';\n          },\n          right: function right(time) {\n            slider(pMasterEl.value, \"\".concat(el.value.offsetWidth, \"px\"), '0', '0', \"\".concat(getDuration(time), \"ms\"), function () {\n              emit('after-close');\n            });\n            if (maskEl) maskEl.style.display = 'none';\n          }\n        }\n      };\n    });\n    watch(function () {\n      return props.zIndex;\n    }, function (val) {\n      pMasterEl.value.style.zIndex = \"\".concat(val - 1);\n      getElRef().value.style.zIndex = \"\".concat(val);\n      pSlaveEl.value.style.zIndex = \"\".concat(val - 2);\n    });\n    return function () {\n      var _a, _b;\n      return _createVNode(\"div\", {\n        \"class\": \"\".concat(selectorPrefix, \"-master\"),\n        \"ref\": pMasterEl\n      }, [_createVNode(\"div\", {\n        \"class\": classNames(selectorPrefix, props.direction, props.className.split(/\\s+/)),\n        \"style\": props.style,\n        \"ref\": getElRef()\n      }, [(_a = slots === null || slots === void 0 ? void 0 : slots.slide) === null || _a === void 0 ? void 0 : _a.call(slots)]), _createVNode(\"div\", {\n        \"class\": classNames(\"\".concat(selectorPrefix, \"-slave\"), (props.slaveClassName || '').split(/\\s+/)),\n        \"style\": props.slaveStyle,\n        \"ref\": pSlaveEl\n      }, [(_b = slots === null || slots === void 0 ? void 0 : slots.master) === null || _b === void 0 ? void 0 : _b.call(slots)])]);\n    };\n  }\n});"],"names":["_createVNode","__assign","classNames","defineComponent","ref","watch","object","string","useSlide","slideProps","slider","selectorPrefix","pushProps","className","def","style","slaveClassName","slaveStyle","name","props","slots","emits","setup","context","emit","pMasterEl","pSlaveEl","_a","setPositionConfig","getDuration","getElRef","el","maskEl","init","left","value","concat","offsetWidth","right","show","time","display","close","zIndex","val","_b","class","direction","split","slide","call","master"],"mappings":"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"}