"use strict";var _vue=require("vue"),tslib_1=(require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.index-of.js"),require("core-js/modules/es.number.constructor.js"),require("core-js/modules/es.array.fill.js"),Object.defineProperty(exports,"__esModule",{value:!0}),require("tslib")),adherev_util_resource_1=(0,tslib_1.__importDefault)(require("@baifendian/adherev-util-resource")),style_js_1=require("ol/style.js"),vue_1=require("vue"),constent_1=(0,tslib_1.__importDefault)(require("./constent")),util_1=(0,tslib_1.__importDefault)(require("./util")),selectorPrefix="adherev-ui-olmap";exports.default=(0,vue_1.defineComponent)({name:"adv-olmap",props:{type:{type:String,default:constent_1.default.MAP_TYPE_ADMINISTRATIVE,validator:function(e){return-1!==[constent_1.default.MAP_TYPE_ADMINISTRATIVE,constent_1.default.MAP_TYPE_SATELLITE].indexOf(e)}},mapConfig:{type:Object,default:function(){}},maxZoom:{type:[String,Number],default:adherev_util_resource_1.default.Dict.value.ResourceGisMapMaxZoom.value},zoom:{type:[String,Number],default:adherev_util_resource_1.default.Dict.value.ResourceGisMapMaxZoom.value},fitZoom:{type:[String,Number],default:adherev_util_resource_1.default.Dict.value.ResourceGisMapMaxZoom.value},minZoom:{type:[String,Number],default:adherev_util_resource_1.default.Dict.value.ResourceGisMapMinZoom.value},center:{type:Array,default:function(){return adherev_util_resource_1.default.Dict.value.ResourceGisXinbeiquCenterPoint.value}},extent:{type:Array,default:function(){return[]}},layers:{type:Array,default:function(){}}},data:function(){return{$map:null,$zoom:null,$mainGeoLayer:null}},mounted:function(){var e=this,t=e.mapConfig,a=e.type,r=e.maxZoom,i=e.minZoom,o=e.zoom,u=e.layers,n=e.center,l=e.extent,s=e.$data,e=e.$refs;s.$map=util_1.default.createMap((0,tslib_1.__assign)({config:{target:e.ref},type:a,maxZoom:r,zoom:o,minZoom:i,center:n,extent:l,layers:u},t)),this.$data.$zoom=s.$map.getView().getZoom()},methods:{addMainGeoJSONLayer:function(e){var t=e.geoJSONStyle,e=e.geoJSONData,a=t.stroke,r=t.fill,i=t.text;this.$data.$mainGeoLayer=this.addGeoLayer(e,function(){return new style_js_1.Style({fill:new style_js_1.Fill((0,tslib_1.__assign)({},r)),stroke:new style_js_1.Stroke((0,tslib_1.__assign)({},a)),text:new style_js_1.Text((0,tslib_1.__assign)((0,tslib_1.__assign)({},i),{fill:new style_js_1.Fill({color:i.color}),overflow:!0}))})})},addGeoLayer:function(e,t,a){return util_1.default.addGeoLayer(this.$data.$map,e,t,a=void 0===a?0:a)},addWindLayer:function(e,t,a){return util_1.default.addWindLayer(this.$data.$map,e,t,a=void 0===a?0:a)},addDataLayer:function(e){return util_1.default.addVectorLayer(this.$data.$map,e)},addHoverListener:function(e,t,a){util_1.default.addHoverListener(this.$data.$map,e,t,a)},addZoomListener:function(t){var a=this,r=this.$data;this.$data.$map.on("moveend",function(){var e=r.$map.getView().getZoom();e!==r.$zoom&&t(e),a.$data.$zoom=e})},addClickListener:function(e,t,a){util_1.default.addClickListener(this.$data.$map,e,t,a,this.setCursor)},addOverlay:function(e){var t=this.$data;return util_1.default.addOverlay(t.$map,e)},setOverlayState:function(e,t){util_1.default.setOverlayState(e,t)},setCursor:function(e){this.$data.$map.getTarget().style.cursor=e},clear:function(){for(var e=this.$data.$map.getLayers(),t=1;t<e.getLength();t++)this.$data.$map.removeLayer(e.item(t))},getMap:function(){return this.$data.$map}},render:function(){return(0,_vue.createVNode)("div",{class:selectorPrefix,ref:"ref"},null)}});
//# sourceMappingURL=olmap.js.map
