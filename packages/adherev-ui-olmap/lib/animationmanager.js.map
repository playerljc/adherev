{"version":3,"file":"animationmanager.js","sources":["animationmanager.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.promise.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar uuid_1 = require(\"uuid\");\n\nvar algebra_js_1 = __importDefault(require(\"algebra.js\"));\n\nvar proj_js_1 = require(\"ol/proj.js\");\n\nvar util_1 = __importDefault(require(\"./util\"));\n/**\n * AnimationManager\n * @class AnimationManager\n * @classdesc 地图轨迹播放动画\n */\n\n\nvar AnimationManager =\n/** @class */\nfunction () {\n  // runing: boolean;\n  // vectorSource: any;\n  // animationMap: {};\n  // preAnimations: any[];\n  // pointsMapIndex: any;\n  // preActiveId: string | undefined;\n  // handler: any;\n  // lines: any;\n  // pref: any;\n  // config: {\n  //   arrowImg: '';\n  //   pointImg: '';\n  //   lineWidth: 8,\n  //   lineColor: '#FF5D00',\n  // };\n  function AnimationManager(vectorSource, config) {\n    this.runing = false;\n    this.vectorSource = vectorSource;\n    this.animationMap = [];\n    this.preAnimations = [];\n    this.config = config;\n  }\n\n  AnimationManager.prototype.isRun = function () {\n    return this.runing;\n  };\n\n  AnimationManager.prototype.getPoints = function (locations) {\n    console.log('locations', locations);\n    var distance = 0; // let speed = 0;\n\n    var addPoints = [];\n    this.animationMap = [];\n\n    for (var i = locations.length - 1; i >= 1; i--) {\n      var startPoint = proj_js_1.fromLonLat(locations[i]);\n      var endPoint = proj_js_1.fromLonLat(locations[i - 1]); // 距离\n\n      var xDistance = Math.abs(startPoint[0] - endPoint[0]);\n      distance += xDistance;\n    }\n\n    var speed = Math.floor(distance / (locations.length * 80));\n\n    if (speed === 0) {\n      speed = 0.01;\n    }\n\n    this.animationMap[0] = locations.length - 1;\n\n    for (var i = locations.length - 1; i >= 1; i--) {\n      var startPoint = proj_js_1.fromLonLat(locations[i]);\n      var endPoint = proj_js_1.fromLonLat(locations[i - 1]);\n      var xDirection = startPoint[0] < endPoint[0] ? '->' : '<-';\n      var yDirection = startPoint[1] < endPoint[1] ? '->' : '<-'; // 同一个点没有轨迹\n      // eslint-disable-next-line no-continue\n\n      if (startPoint[0] === endPoint[0] && startPoint[1] === endPoint[1]) continue; // 垂直的\n\n      if (startPoint[0] === endPoint[0] && startPoint[1] !== endPoint[1]) {\n        // 距离\n        var xdistance = Math.abs(startPoint[1] - endPoint[1]); // 段数\n\n        var interval = Math.floor(xdistance / speed);\n\n        if (xdistance % speed > 0) {\n          interval += 1;\n        }\n\n        for (var j = 1; j <= interval; j++) {\n          var x = startPoint[0];\n          var y = void 0;\n\n          if (yDirection === '->') {\n            if (j * speed > xdistance) {\n              // eslint-disable-next-line prefer-destructuring\n              x = endPoint[0]; // eslint-disable-next-line prefer-destructuring\n\n              y = endPoint[1];\n            } else {\n              y = startPoint[1] + j * speed;\n            }\n          } else if (yDirection === '<-') {\n            if (j * speed > xdistance) {\n              // eslint-disable-next-line prefer-destructuring\n              x = endPoint[0]; // eslint-disable-next-line prefer-destructuring\n\n              y = endPoint[1];\n            } else {\n              y = startPoint[1] - j * speed;\n            }\n          }\n\n          addPoints.push([x, y]);\n        }\n      } else if (startPoint[0] !== endPoint[0] && startPoint[1] === endPoint[1]) {\n        // 水平的\n        // 距离\n        var xDistance = Math.abs(startPoint[0] - endPoint[0]); // 段数\n\n        var interval = Math.floor(xDistance / speed);\n\n        if (xDistance % speed > 0) {\n          interval += 1;\n        }\n\n        for (var j = 1; j <= interval; j++) {\n          var x = void 0;\n          var y = startPoint[1];\n\n          if (xDirection === '->') {\n            if (j * speed > xDistance) {\n              // eslint-disable-next-line prefer-destructuring\n              x = endPoint[0]; // eslint-disable-next-line prefer-destructuring\n\n              y = endPoint[1];\n            } else {\n              x = startPoint[0] + j * speed;\n            }\n          } else if (xDirection === '<-') {\n            if (j * speed > xDistance) {\n              // eslint-disable-next-line prefer-destructuring\n              x = endPoint[0]; // eslint-disable-next-line prefer-destructuring\n\n              y = endPoint[1];\n            } else {\n              x = startPoint[0] - j * speed;\n            }\n          }\n\n          addPoints.push([x, y]);\n        }\n      } else {\n        // 有角度的\n        // 距离\n        var time = 5 * 30;\n        var xDistance = Math.abs(startPoint[0] - endPoint[0]);\n        speed = xDistance / time; // 段数\n\n        var interval = Math.floor(xDistance / speed);\n\n        if (xDistance % speed > 0) {\n          interval += 1;\n        }\n\n        var Equation = algebra_js_1.default.Equation; //= ======================================\n\n        var x1 = algebra_js_1.default.parse(startPoint[1] + \"=\" + startPoint[0] + \"k+b\");\n        var answer1 = x1.solveFor('k'); // console.log(`k = ${answer1.toString()}`);\n\n        var x2 = algebra_js_1.default.parse(endPoint[1] + \"=\" + endPoint[0] + \"k+b\");\n        var answer2 = x2.solveFor('k'); // console.log(`k = ${answer2.toString()}`);\n        //= ================================================\n        // 解出b值\n\n        var eq = new Equation(answer1, answer2); // console.log(`b表达式：${eq.toString()}`);\n\n        var answerX = eq.solveFor('b'); // console.log(`解出B的值为：${answerX.toString()}`);\n        //= ================================================\n        // 解出Y值（把x的值代入x1或x2）\n\n        eq = x1.eval({\n          b: answerX\n        }); // console.log(`k表达式：${eq.toString()}`);\n\n        var answerY = eq.solveFor('k'); // console.log(`解出k的值为：${answerY.toString()}`);\n        // eslint-disable-next-line no-eval\n\n        var b = eval(answerX.toString()); // eslint-disable-next-line no-eval\n\n        var k = eval(answerY.toString());\n\n        for (var j = 1; j <= interval; j++) {\n          var x = void 0;\n          var y = void 0;\n\n          if (xDirection === '->') {\n            if (j * speed > xDistance) {\n              // eslint-disable-next-line prefer-destructuring\n              x = endPoint[0]; // eslint-disable-next-line prefer-destructuring\n\n              y = endPoint[1];\n            } else {\n              x = startPoint[0] + j * speed;\n              y = k * x + b;\n            }\n          } else if (xDirection === '<-') {\n            if (j * speed > xDistance) {\n              // eslint-disable-next-line prefer-destructuring\n              x = endPoint[0]; // eslint-disable-next-line prefer-destructuring\n\n              y = endPoint[1];\n            } else {\n              x = startPoint[0] - j * speed;\n              y = k * x + b;\n            }\n          }\n\n          addPoints.push([x, y]);\n        }\n      }\n\n      this.animationMap[addPoints.length - 1] = i - 1;\n    }\n\n    return addPoints;\n  }; // eslint-disable-next-line consistent-return\n\n\n  AnimationManager.prototype.run = function (lineData, pointsMapIndex) {\n    var _this = this;\n\n    if (!lineData || this.runing) return false;\n    this.runing = true;\n    this.pointsMapIndex = pointsMapIndex;\n    var it = lineData.values();\n    this.loopTask(it).then(function () {\n      // 所有动画完成\n      _this.runing = false;\n      console.log('finish');\n    });\n  };\n\n  AnimationManager.prototype.loopTask = function (it) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var entry = it.next();\n\n      if (entry.done) {\n        resolve();\n      } else {\n        var lines = entry.value;\n\n        var points = _this.getPoints(lines);\n\n        _this.runTask(points).then(function () {\n          _this.loopTask(it).then(function () {\n            resolve();\n          });\n        }).catch(function (error) {\n          reject(error);\n        });\n      }\n    });\n  };\n\n  AnimationManager.prototype.runTask = function (points) {\n    var _this = this;\n\n    this.preActiveId = ''; // eslint-disable-next-line no-unused-vars,consistent-return\n\n    return new Promise(function (resolve) {\n      var self = _this;\n\n      if (!points.length) {\n        resolve();\n        return false;\n      }\n\n      var topIndex = 0;\n      _this.pref = null;\n      _this.lines = [];\n      _this.handler = null; // eslint-disable-next-line consistent-return\n\n      function loop() {\n        if (topIndex === points.length) {\n          self.stopTask();\n\n          if (self.preAnimations) {\n            self.preAnimations.forEach(function (p) {\n              self.vectorSource.removeFeature(p);\n            });\n            self.preAnimations = [];\n          }\n\n          resolve();\n          return false;\n        }\n\n        if (self.pref) {\n          self.vectorSource.removeFeature(self.pref);\n        }\n\n        var point = points[topIndex];\n        var rotation = 0;\n\n        if (topIndex !== 0) {\n          var line = util_1.default.drawLine({\n            points: [points[topIndex - 1], points[topIndex]],\n            width: self.config.lineWidth,\n            color: self.config.lineColor\n          });\n          self.vectorSource.addFeature(line);\n          self.lines.push(line);\n          var prePoint = points[topIndex - 1];\n          var dx = point[0] - prePoint[0];\n          var dy = point[1] - prePoint[1];\n          rotation = Math.atan2(dy, dx);\n        }\n\n        if (self.animationMap[topIndex] || self.animationMap[topIndex] === 0) {\n          if (self.preActiveId) {\n            var preFeature = self.vectorSource.getFeatureById(self.preActiveId);\n            self.vectorSource.removeFeature(preFeature);\n            self.preActiveId = '';\n          }\n\n          var pointConfig = self.pointsMapIndex[self.animationMap[topIndex]];\n\n          if (pointConfig) {\n            var id = \"active_\" + pointConfig.id;\n            var node = util_1.default.drawImagePoint(__assign(__assign({}, pointConfig), {\n              id: id,\n              src: self.config.pointImg,\n              zIndex: pointConfig.zIndex + 10\n            }));\n            self.vectorSource.addFeature(node);\n            self.preActiveId = id;\n          }\n        }\n\n        var f = util_1.default.drawImagePoint({\n          id: uuid_1.v1(),\n          pos: point,\n          src: self.config.arrowImg,\n          scale: 1,\n          zIndex: 1000,\n          rotation: -rotation\n        });\n        self.vectorSource.addFeature(f);\n        self.pref = f; // eslint-disable-next-line no-plusplus\n\n        ++topIndex;\n        self.handler = requestAnimationFrame(loop);\n      }\n\n      self.handler = requestAnimationFrame(loop);\n    });\n  }; // eslint-disable-next-line consistent-return\n\n\n  AnimationManager.prototype.stopTask = function () {\n    if (!this.runing) return false;\n\n    if (this.handler) {\n      cancelAnimationFrame(this.handler);\n    }\n\n    if (this.pref) {\n      this.vectorSource.removeFeature(this.pref);\n    }\n\n    if (this.lines) {\n      for (var i = 0; i < this.lines.length; i++) {\n        this.vectorSource.removeFeature(this.lines[i]);\n      }\n    }\n\n    if (this.preActiveId) {\n      var preFeature = this.vectorSource.getFeatureById(this.preActiveId);\n      this.vectorSource.removeFeature(preFeature);\n      this.preActiveId = '';\n    }\n  };\n\n  AnimationManager.prototype.stop = function () {\n    this.stopTask();\n    this.runing = false;\n  };\n\n  return AnimationManager;\n}();\n\nexports.default = AnimationManager;"],"names":["require","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__importDefault","mod","__esModule","default","defineProperty","exports","value","uuid_1","algebra_js_1","proj_js_1","util_1","AnimationManager","vectorSource","config","runing","animationMap","preAnimations","isRun","getPoints","locations","console","log","distance","addPoints","startPoint","fromLonLat","endPoint","xDistance","Math","abs","speed","floor","xDirection","yDirection","xdistance","interval","j","x","y","push","time","Equation","x1","parse","answer1","solveFor","x2","answer2","eq","answerX","eval","b","answerY","toString","k","run","lineData","pointsMapIndex","_this","it","values","loopTask","then","Promise","resolve","reject","entry","next","done","lines","points","runTask","catch","error","preActiveId","self","topIndex","pref","handler","requestAnimationFrame","loop","stopTask","forEach","removeFeature","dy","id","node","point","rotation","line","drawLine","width","lineWidth","color","lineColor","addFeature","prePoint","dx","atan2","preFeature","getFeatureById","pointConfig","drawImagePoint","src","pointImg","zIndex","f","v1","pos","arrowImg","scale","cancelAnimationFrame","stop"],"mappings":"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"}